/*! angular-blockchain-wallet 2016-12-14 */
!function(){!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){(function(global){"use strict";function define(O,key,value){O[key]||Object[DEFINE_PROPERTY](O,key,{writable:!0,configurable:!0,value:value})}if(_dereq_(295),_dereq_(296),_dereq_(2),global._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");global._babelPolyfill=!0;var DEFINE_PROPERTY="defineProperty";define(String.prototype,"padLeft","".padStart),define(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(key){[][key]&&define(Array,key,Function.call.bind([][key]))})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2,295:295,296:296}],2:[function(_dereq_,module,exports){_dereq_(119),module.exports=_dereq_(23).RegExp.escape},{119:119,23:23}],3:[function(_dereq_,module,exports){module.exports=function(it){if("function"!=typeof it)throw TypeError(it+" is not a function!");return it}},{}],4:[function(_dereq_,module,exports){var cof=_dereq_(18);module.exports=function(it,msg){if("number"!=typeof it&&"Number"!=cof(it))throw TypeError(msg);return+it}},{18:18}],5:[function(_dereq_,module,exports){var UNSCOPABLES=_dereq_(117)("unscopables"),ArrayProto=Array.prototype;void 0==ArrayProto[UNSCOPABLES]&&_dereq_(40)(ArrayProto,UNSCOPABLES,{}),module.exports=function(key){ArrayProto[UNSCOPABLES][key]=!0}},{117:117,40:40}],6:[function(_dereq_,module,exports){module.exports=function(it,Constructor,name,forbiddenField){if(!(it instanceof Constructor)||void 0!==forbiddenField&&forbiddenField in it)throw TypeError(name+": incorrect invocation!");return it}},{}],7:[function(_dereq_,module,exports){var isObject=_dereq_(49);module.exports=function(it){if(!isObject(it))throw TypeError(it+" is not an object!");return it}},{49:49}],8:[function(_dereq_,module,exports){"use strict";var toObject=_dereq_(109),toIndex=_dereq_(105),toLength=_dereq_(108);module.exports=[].copyWithin||function(target,start){var O=toObject(this),len=toLength(O.length),to=toIndex(target,len),from=toIndex(start,len),end=arguments.length>2?arguments[2]:void 0,count=Math.min((void 0===end?len:toIndex(end,len))-from,len-to),inc=1;for(from<to&&to<from+count&&(inc=-1,from+=count-1,to+=count-1);count-- >0;)from in O?O[to]=O[from]:delete O[to],to+=inc,from+=inc;return O}},{105:105,108:108,109:109}],9:[function(_dereq_,module,exports){"use strict";var toObject=_dereq_(109),toIndex=_dereq_(105),toLength=_dereq_(108);module.exports=function(value){for(var O=toObject(this),length=toLength(O.length),aLen=arguments.length,index=toIndex(aLen>1?arguments[1]:void 0,length),end=aLen>2?arguments[2]:void 0,endPos=void 0===end?length:toIndex(end,length);endPos>index;)O[index++]=value;return O}},{105:105,108:108,109:109}],10:[function(_dereq_,module,exports){var forOf=_dereq_(37);module.exports=function(iter,ITERATOR){var result=[];return forOf(iter,!1,result.push,result,ITERATOR),result}},{37:37}],11:[function(_dereq_,module,exports){var toIObject=_dereq_(107),toLength=_dereq_(108),toIndex=_dereq_(105);module.exports=function(IS_INCLUDES){return function($this,el,fromIndex){var value,O=toIObject($this),length=toLength(O.length),index=toIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;length>index;)if(value=O[index++],value!=value)return!0}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}}},{105:105,107:107,108:108}],12:[function(_dereq_,module,exports){var ctx=_dereq_(25),IObject=_dereq_(45),toObject=_dereq_(109),toLength=_dereq_(108),asc=_dereq_(15);module.exports=function(TYPE,$create){var IS_MAP=1==TYPE,IS_FILTER=2==TYPE,IS_SOME=3==TYPE,IS_EVERY=4==TYPE,IS_FIND_INDEX=6==TYPE,NO_HOLES=5==TYPE||IS_FIND_INDEX,create=$create||asc;return function($this,callbackfn,that){for(var val,res,O=toObject($this),self=IObject(O),f=ctx(callbackfn,that,3),length=toLength(self.length),index=0,result=IS_MAP?create($this,length):IS_FILTER?create($this,0):void 0;length>index;index++)if((NO_HOLES||index in self)&&(val=self[index],res=f(val,index,O),TYPE))if(IS_MAP)result[index]=res;else if(res)switch(TYPE){case 3:return!0;case 5:return val;case 6:return index;case 2:result.push(val)}else if(IS_EVERY)return!1;return IS_FIND_INDEX?-1:IS_SOME||IS_EVERY?IS_EVERY:result}}},{108:108,109:109,15:15,25:25,45:45}],13:[function(_dereq_,module,exports){var aFunction=_dereq_(3),toObject=_dereq_(109),IObject=_dereq_(45),toLength=_dereq_(108);module.exports=function(that,callbackfn,aLen,memo,isRight){aFunction(callbackfn);var O=toObject(that),self=IObject(O),length=toLength(O.length),index=isRight?length-1:0,i=isRight?-1:1;if(aLen<2)for(;;){if(index in self){memo=self[index],index+=i;break}if(index+=i,isRight?index<0:length<=index)throw TypeError("Reduce of empty array with no initial value")}for(;isRight?index>=0:length>index;index+=i)index in self&&(memo=callbackfn(memo,self[index],index,O));return memo}},{108:108,109:109,3:3,45:45}],14:[function(_dereq_,module,exports){var isObject=_dereq_(49),isArray=_dereq_(47),SPECIES=_dereq_(117)("species");module.exports=function(original){var C;return isArray(original)&&(C=original.constructor,"function"!=typeof C||C!==Array&&!isArray(C.prototype)||(C=void 0),isObject(C)&&(C=C[SPECIES],null===C&&(C=void 0))),void 0===C?Array:C}},{117:117,47:47,49:49}],15:[function(_dereq_,module,exports){var speciesConstructor=_dereq_(14);module.exports=function(original,length){return new(speciesConstructor(original))(length)}},{14:14}],16:[function(_dereq_,module,exports){"use strict";var aFunction=_dereq_(3),isObject=_dereq_(49),invoke=_dereq_(44),arraySlice=[].slice,factories={},construct=function(F,len,args){if(!(len in factories)){for(var n=[],i=0;i<len;i++)n[i]="a["+i+"]";factories[len]=Function("F,a","return new F("+n.join(",")+")")}return factories[len](F,args)};module.exports=Function.bind||function(that){var fn=aFunction(this),partArgs=arraySlice.call(arguments,1),bound=function(){var args=partArgs.concat(arraySlice.call(arguments));return this instanceof bound?construct(fn,args.length,args):invoke(fn,args,that)};return isObject(fn.prototype)&&(bound.prototype=fn.prototype),bound}},{3:3,44:44,49:49}],17:[function(_dereq_,module,exports){var cof=_dereq_(18),TAG=_dereq_(117)("toStringTag"),ARG="Arguments"==cof(function(){return arguments}()),tryGet=function(it,key){try{return it[key]}catch(e){}};module.exports=function(it){var O,T,B;return void 0===it?"Undefined":null===it?"Null":"string"==typeof(T=tryGet(O=Object(it),TAG))?T:ARG?cof(O):"Object"==(B=cof(O))&&"function"==typeof O.callee?"Arguments":B}},{117:117,18:18}],18:[function(_dereq_,module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},{}],19:[function(_dereq_,module,exports){"use strict";var dP=_dereq_(67).f,create=_dereq_(66),redefineAll=_dereq_(86),ctx=_dereq_(25),anInstance=_dereq_(6),defined=_dereq_(27),forOf=_dereq_(37),$iterDefine=_dereq_(53),step=_dereq_(55),setSpecies=_dereq_(91),DESCRIPTORS=_dereq_(28),fastKey=_dereq_(62).fastKey,SIZE=DESCRIPTORS?"_s":"size",getEntry=function(that,key){var entry,index=fastKey(key);if("F"!==index)return that._i[index];for(entry=that._f;entry;entry=entry.n)if(entry.k==key)return entry};module.exports={getConstructor:function(wrapper,NAME,IS_MAP,ADDER){var C=wrapper(function(that,iterable){anInstance(that,C,NAME,"_i"),that._i=create(null),that._f=void 0,that._l=void 0,that[SIZE]=0,void 0!=iterable&&forOf(iterable,IS_MAP,that[ADDER],that)});return redefineAll(C.prototype,{clear:function(){for(var that=this,data=that._i,entry=that._f;entry;entry=entry.n)entry.r=!0,entry.p&&(entry.p=entry.p.n=void 0),delete data[entry.i];that._f=that._l=void 0,that[SIZE]=0},"delete":function(key){var that=this,entry=getEntry(that,key);if(entry){var next=entry.n,prev=entry.p;delete that._i[entry.i],entry.r=!0,prev&&(prev.n=next),next&&(next.p=prev),that._f==entry&&(that._f=next),that._l==entry&&(that._l=prev),that[SIZE]--}return!!entry},forEach:function(callbackfn){anInstance(this,C,"forEach");for(var entry,f=ctx(callbackfn,arguments.length>1?arguments[1]:void 0,3);entry=entry?entry.n:this._f;)for(f(entry.v,entry.k,this);entry&&entry.r;)entry=entry.p},has:function(key){return!!getEntry(this,key)}}),DESCRIPTORS&&dP(C.prototype,"size",{get:function(){return defined(this[SIZE])}}),C},def:function(that,key,value){var prev,index,entry=getEntry(that,key);return entry?entry.v=value:(that._l=entry={i:index=fastKey(key,!0),k:key,v:value,p:prev=that._l,n:void 0,r:!1},that._f||(that._f=entry),prev&&(prev.n=entry),that[SIZE]++,"F"!==index&&(that._i[index]=entry)),that},getEntry:getEntry,setStrong:function(C,NAME,IS_MAP){$iterDefine(C,NAME,function(iterated,kind){this._t=iterated,this._k=kind,this._l=void 0},function(){for(var that=this,kind=that._k,entry=that._l;entry&&entry.r;)entry=entry.p;return that._t&&(that._l=entry=entry?entry.n:that._t._f)?"keys"==kind?step(0,entry.k):"values"==kind?step(0,entry.v):step(0,[entry.k,entry.v]):(that._t=void 0,step(1))},IS_MAP?"entries":"values",!IS_MAP,!0),setSpecies(NAME)}}},{25:25,27:27,28:28,37:37,53:53,55:55,6:6,62:62,66:66,67:67,86:86,91:91}],20:[function(_dereq_,module,exports){var classof=_dereq_(17),from=_dereq_(10);module.exports=function(NAME){return function(){if(classof(this)!=NAME)throw TypeError(NAME+"#toJSON isn't generic");return from(this)}}},{10:10,17:17}],21:[function(_dereq_,module,exports){"use strict";var redefineAll=_dereq_(86),getWeak=_dereq_(62).getWeak,anObject=_dereq_(7),isObject=_dereq_(49),anInstance=_dereq_(6),forOf=_dereq_(37),createArrayMethod=_dereq_(12),$has=_dereq_(39),arrayFind=createArrayMethod(5),arrayFindIndex=createArrayMethod(6),id=0,uncaughtFrozenStore=function(that){return that._l||(that._l=new UncaughtFrozenStore)},UncaughtFrozenStore=function(){this.a=[]},findUncaughtFrozen=function(store,key){return arrayFind(store.a,function(it){return it[0]===key})};UncaughtFrozenStore.prototype={get:function(key){var entry=findUncaughtFrozen(this,key);if(entry)return entry[1]},has:function(key){return!!findUncaughtFrozen(this,key)},set:function(key,value){var entry=findUncaughtFrozen(this,key);entry?entry[1]=value:this.a.push([key,value])},"delete":function(key){var index=arrayFindIndex(this.a,function(it){return it[0]===key});return~index&&this.a.splice(index,1),!!~index}},module.exports={getConstructor:function(wrapper,NAME,IS_MAP,ADDER){var C=wrapper(function(that,iterable){anInstance(that,C,NAME,"_i"),that._i=id++,that._l=void 0,void 0!=iterable&&forOf(iterable,IS_MAP,that[ADDER],that)});return redefineAll(C.prototype,{"delete":function(key){if(!isObject(key))return!1;var data=getWeak(key);return data===!0?uncaughtFrozenStore(this)["delete"](key):data&&$has(data,this._i)&&delete data[this._i]},has:function(key){if(!isObject(key))return!1;var data=getWeak(key);return data===!0?uncaughtFrozenStore(this).has(key):data&&$has(data,this._i)}}),C},def:function(that,key,value){var data=getWeak(anObject(key),!0);return data===!0?uncaughtFrozenStore(that).set(key,value):data[that._i]=value,that},ufstore:uncaughtFrozenStore}},{12:12,37:37,39:39,49:49,6:6,62:62,7:7,86:86}],22:[function(_dereq_,module,exports){"use strict";var global=_dereq_(38),$export=_dereq_(32),redefine=_dereq_(87),redefineAll=_dereq_(86),meta=_dereq_(62),forOf=_dereq_(37),anInstance=_dereq_(6),isObject=_dereq_(49),fails=_dereq_(34),$iterDetect=_dereq_(54),setToStringTag=_dereq_(92),inheritIfRequired=_dereq_(43);module.exports=function(NAME,wrapper,methods,common,IS_MAP,IS_WEAK){var Base=global[NAME],C=Base,ADDER=IS_MAP?"set":"add",proto=C&&C.prototype,O={},fixMethod=function(KEY){var fn=proto[KEY];redefine(proto,KEY,"delete"==KEY?function(a){return!(IS_WEAK&&!isObject(a))&&fn.call(this,0===a?0:a)}:"has"==KEY?function(a){return!(IS_WEAK&&!isObject(a))&&fn.call(this,0===a?0:a)}:"get"==KEY?function(a){return IS_WEAK&&!isObject(a)?void 0:fn.call(this,0===a?0:a)}:"add"==KEY?function(a){return fn.call(this,0===a?0:a),this}:function(a,b){return fn.call(this,0===a?0:a,b),this})};if("function"==typeof C&&(IS_WEAK||proto.forEach&&!fails(function(){(new C).entries().next()}))){var instance=new C,HASNT_CHAINING=instance[ADDER](IS_WEAK?{}:-0,1)!=instance,THROWS_ON_PRIMITIVES=fails(function(){instance.has(1)}),ACCEPT_ITERABLES=$iterDetect(function(iter){new C(iter)}),BUGGY_ZERO=!IS_WEAK&&fails(function(){for(var $instance=new C,index=5;index--;)$instance[ADDER](index,index);return!$instance.has(-0)});ACCEPT_ITERABLES||(C=wrapper(function(target,iterable){anInstance(target,C,NAME);var that=inheritIfRequired(new Base,target,C);return void 0!=iterable&&forOf(iterable,IS_MAP,that[ADDER],that),that}),C.prototype=proto,proto.constructor=C),(THROWS_ON_PRIMITIVES||BUGGY_ZERO)&&(fixMethod("delete"),fixMethod("has"),IS_MAP&&fixMethod("get")),(BUGGY_ZERO||HASNT_CHAINING)&&fixMethod(ADDER),IS_WEAK&&proto.clear&&delete proto.clear}else C=common.getConstructor(wrapper,NAME,IS_MAP,ADDER),redefineAll(C.prototype,methods),meta.NEED=!0;return setToStringTag(C,NAME),O[NAME]=C,$export($export.G+$export.W+$export.F*(C!=Base),O),IS_WEAK||common.setStrong(C,NAME,IS_MAP),C}},{32:32,34:34,37:37,38:38,43:43,49:49,54:54,6:6,62:62,86:86,87:87,92:92}],23:[function(_dereq_,module,exports){var core=module.exports={version:"2.4.0"};"number"==typeof __e&&(__e=core)},{}],24:[function(_dereq_,module,exports){"use strict";var $defineProperty=_dereq_(67),createDesc=_dereq_(85);module.exports=function(object,index,value){index in object?$defineProperty.f(object,index,createDesc(0,value)):object[index]=value}},{67:67,85:85}],25:[function(_dereq_,module,exports){var aFunction=_dereq_(3);module.exports=function(fn,that,length){if(aFunction(fn),void 0===that)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},{3:3}],26:[function(_dereq_,module,exports){"use strict";var anObject=_dereq_(7),toPrimitive=_dereq_(110),NUMBER="number";module.exports=function(hint){if("string"!==hint&&hint!==NUMBER&&"default"!==hint)throw TypeError("Incorrect hint");return toPrimitive(anObject(this),hint!=NUMBER)}},{110:110,7:7}],27:[function(_dereq_,module,exports){module.exports=function(it){if(void 0==it)throw TypeError("Can't call method on  "+it);return it}},{}],28:[function(_dereq_,module,exports){module.exports=!_dereq_(34)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{34:34}],29:[function(_dereq_,module,exports){var isObject=_dereq_(49),document=_dereq_(38).document,is=isObject(document)&&isObject(document.createElement);module.exports=function(it){return is?document.createElement(it):{}}},{38:38,49:49}],30:[function(_dereq_,module,exports){module.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],31:[function(_dereq_,module,exports){var getKeys=_dereq_(76),gOPS=_dereq_(73),pIE=_dereq_(77);module.exports=function(it){var result=getKeys(it),getSymbols=gOPS.f;if(getSymbols)for(var key,symbols=getSymbols(it),isEnum=pIE.f,i=0;symbols.length>i;)isEnum.call(it,key=symbols[i++])&&result.push(key);return result}},{73:73,76:76,77:77}],32:[function(_dereq_,module,exports){var global=_dereq_(38),core=_dereq_(23),hide=_dereq_(40),redefine=_dereq_(87),ctx=_dereq_(25),PROTOTYPE="prototype",$export=function(type,name,source){var key,own,out,exp,IS_FORCED=type&$export.F,IS_GLOBAL=type&$export.G,IS_STATIC=type&$export.S,IS_PROTO=type&$export.P,IS_BIND=type&$export.B,target=IS_GLOBAL?global:IS_STATIC?global[name]||(global[name]={}):(global[name]||{})[PROTOTYPE],exports=IS_GLOBAL?core:core[name]||(core[name]={}),expProto=exports[PROTOTYPE]||(exports[PROTOTYPE]={});IS_GLOBAL&&(source=name);for(key in source)own=!IS_FORCED&&target&&void 0!==target[key],out=(own?target:source)[key],exp=IS_BIND&&own?ctx(out,global):IS_PROTO&&"function"==typeof out?ctx(Function.call,out):out,target&&redefine(target,key,out,type&$export.U),exports[key]!=out&&hide(exports,key,exp),IS_PROTO&&expProto[key]!=out&&(expProto[key]=out)};global.core=core,$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128,module.exports=$export},{23:23,25:25,38:38,40:40,87:87}],33:[function(_dereq_,module,exports){var MATCH=_dereq_(117)("match");module.exports=function(KEY){var re=/./;try{"/./"[KEY](re)}catch(e){try{return re[MATCH]=!1,!"/./"[KEY](re)}catch(f){}}return!0}},{117:117}],34:[function(_dereq_,module,exports){module.exports=function(exec){try{return!!exec()}catch(e){return!0}}},{}],35:[function(_dereq_,module,exports){"use strict";var hide=_dereq_(40),redefine=_dereq_(87),fails=_dereq_(34),defined=_dereq_(27),wks=_dereq_(117);module.exports=function(KEY,length,exec){var SYMBOL=wks(KEY),fns=exec(defined,SYMBOL,""[KEY]),strfn=fns[0],rxfn=fns[1];fails(function(){var O={};return O[SYMBOL]=function(){return 7},7!=""[KEY](O)})&&(redefine(String.prototype,KEY,strfn),hide(RegExp.prototype,SYMBOL,2==length?function(string,arg){return rxfn.call(string,this,arg)}:function(string){return rxfn.call(string,this)}))}},{117:117,27:27,34:34,40:40,87:87}],36:[function(_dereq_,module,exports){"use strict";var anObject=_dereq_(7);module.exports=function(){var that=anObject(this),result="";return that.global&&(result+="g"),that.ignoreCase&&(result+="i"),that.multiline&&(result+="m"),that.unicode&&(result+="u"),that.sticky&&(result+="y"),result}},{7:7}],37:[function(_dereq_,module,exports){var ctx=_dereq_(25),call=_dereq_(51),isArrayIter=_dereq_(46),anObject=_dereq_(7),toLength=_dereq_(108),getIterFn=_dereq_(118),BREAK={},RETURN={},exports=module.exports=function(iterable,entries,fn,that,ITERATOR){var length,step,iterator,result,iterFn=ITERATOR?function(){return iterable}:getIterFn(iterable),f=ctx(fn,that,entries?2:1),index=0;if("function"!=typeof iterFn)throw TypeError(iterable+" is not iterable!");if(isArrayIter(iterFn)){for(length=toLength(iterable.length);length>index;index++)if(result=entries?f(anObject(step=iterable[index])[0],step[1]):f(iterable[index]),result===BREAK||result===RETURN)return result}else for(iterator=iterFn.call(iterable);!(step=iterator.next()).done;)if(result=call(iterator,f,step.value,entries),result===BREAK||result===RETURN)return result};exports.BREAK=BREAK,exports.RETURN=RETURN},{108:108,118:118,25:25,46:46,51:51,7:7}],38:[function(_dereq_,module,exports){var global=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=global)},{}],39:[function(_dereq_,module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},{}],40:[function(_dereq_,module,exports){var dP=_dereq_(67),createDesc=_dereq_(85);module.exports=_dereq_(28)?function(object,key,value){return dP.f(object,key,createDesc(1,value))}:function(object,key,value){return object[key]=value,object}},{28:28,67:67,85:85}],41:[function(_dereq_,module,exports){module.exports=_dereq_(38).document&&document.documentElement},{38:38}],42:[function(_dereq_,module,exports){module.exports=!_dereq_(28)&&!_dereq_(34)(function(){return 7!=Object.defineProperty(_dereq_(29)("div"),"a",{get:function(){return 7}}).a})},{28:28,29:29,34:34}],43:[function(_dereq_,module,exports){var isObject=_dereq_(49),setPrototypeOf=_dereq_(90).set;module.exports=function(that,target,C){var P,S=target.constructor;return S!==C&&"function"==typeof S&&(P=S.prototype)!==C.prototype&&isObject(P)&&setPrototypeOf&&setPrototypeOf(that,P),that}},{49:49,90:90}],44:[function(_dereq_,module,exports){module.exports=function(fn,args,that){var un=void 0===that;switch(args.length){case 0:return un?fn():fn.call(that);case 1:return un?fn(args[0]):fn.call(that,args[0]);case 2:return un?fn(args[0],args[1]):fn.call(that,args[0],args[1]);case 3:return un?fn(args[0],args[1],args[2]):fn.call(that,args[0],args[1],args[2]);case 4:return un?fn(args[0],args[1],args[2],args[3]):fn.call(that,args[0],args[1],args[2],args[3])}return fn.apply(that,args)}},{}],45:[function(_dereq_,module,exports){var cof=_dereq_(18);module.exports=Object("z").propertyIsEnumerable(0)?Object:function(it){return"String"==cof(it)?it.split(""):Object(it)}},{18:18}],46:[function(_dereq_,module,exports){var Iterators=_dereq_(56),ITERATOR=_dereq_(117)("iterator"),ArrayProto=Array.prototype;module.exports=function(it){return void 0!==it&&(Iterators.Array===it||ArrayProto[ITERATOR]===it)}},{117:117,56:56}],47:[function(_dereq_,module,exports){var cof=_dereq_(18);module.exports=Array.isArray||function(arg){return"Array"==cof(arg)}},{18:18}],48:[function(_dereq_,module,exports){var isObject=_dereq_(49),floor=Math.floor;module.exports=function(it){return!isObject(it)&&isFinite(it)&&floor(it)===it}},{49:49}],49:[function(_dereq_,module,exports){module.exports=function(it){return"object"==typeof it?null!==it:"function"==typeof it}},{}],50:[function(_dereq_,module,exports){var isObject=_dereq_(49),cof=_dereq_(18),MATCH=_dereq_(117)("match");module.exports=function(it){var isRegExp;return isObject(it)&&(void 0!==(isRegExp=it[MATCH])?!!isRegExp:"RegExp"==cof(it))}},{117:117,18:18,49:49}],51:[function(_dereq_,module,exports){var anObject=_dereq_(7);module.exports=function(iterator,fn,value,entries){try{return entries?fn(anObject(value)[0],value[1]):fn(value)}catch(e){var ret=iterator["return"];throw void 0!==ret&&anObject(ret.call(iterator)),e}}},{7:7}],52:[function(_dereq_,module,exports){"use strict";var create=_dereq_(66),descriptor=_dereq_(85),setToStringTag=_dereq_(92),IteratorPrototype={};_dereq_(40)(IteratorPrototype,_dereq_(117)("iterator"),function(){return this}),module.exports=function(Constructor,NAME,next){Constructor.prototype=create(IteratorPrototype,{next:descriptor(1,next)}),setToStringTag(Constructor,NAME+" Iterator")}},{117:117,40:40,66:66,85:85,92:92}],53:[function(_dereq_,module,exports){"use strict";var LIBRARY=_dereq_(58),$export=_dereq_(32),redefine=_dereq_(87),hide=_dereq_(40),has=_dereq_(39),Iterators=_dereq_(56),$iterCreate=_dereq_(52),setToStringTag=_dereq_(92),getPrototypeOf=_dereq_(74),ITERATOR=_dereq_(117)("iterator"),BUGGY=!([].keys&&"next"in[].keys()),FF_ITERATOR="@@iterator",KEYS="keys",VALUES="values",returnThis=function(){return this};module.exports=function(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCED){$iterCreate(Constructor,NAME,next);var methods,key,IteratorPrototype,getMethod=function(kind){if(!BUGGY&&kind in proto)return proto[kind];switch(kind){case KEYS:return function(){return new Constructor(this,kind)};case VALUES:return function(){return new Constructor(this,kind)}}return function(){return new Constructor(this,kind)}},TAG=NAME+" Iterator",DEF_VALUES=DEFAULT==VALUES,VALUES_BUG=!1,proto=Base.prototype,$native=proto[ITERATOR]||proto[FF_ITERATOR]||DEFAULT&&proto[DEFAULT],$default=$native||getMethod(DEFAULT),$entries=DEFAULT?DEF_VALUES?getMethod("entries"):$default:void 0,$anyNative="Array"==NAME?proto.entries||$native:$native;if($anyNative&&(IteratorPrototype=getPrototypeOf($anyNative.call(new Base)),IteratorPrototype!==Object.prototype&&(setToStringTag(IteratorPrototype,TAG,!0),LIBRARY||has(IteratorPrototype,ITERATOR)||hide(IteratorPrototype,ITERATOR,returnThis))),DEF_VALUES&&$native&&$native.name!==VALUES&&(VALUES_BUG=!0,$default=function(){return $native.call(this)}),LIBRARY&&!FORCED||!BUGGY&&!VALUES_BUG&&proto[ITERATOR]||hide(proto,ITERATOR,$default),Iterators[NAME]=$default,Iterators[TAG]=returnThis,DEFAULT)if(methods={values:DEF_VALUES?$default:getMethod(VALUES),keys:IS_SET?$default:getMethod(KEYS),entries:$entries},FORCED)for(key in methods)key in proto||redefine(proto,key,methods[key]);else $export($export.P+$export.F*(BUGGY||VALUES_BUG),NAME,methods);return methods}},{117:117,32:32,39:39,40:40,52:52,56:56,58:58,74:74,87:87,92:92}],54:[function(_dereq_,module,exports){var ITERATOR=_dereq_(117)("iterator"),SAFE_CLOSING=!1;try{var riter=[7][ITERATOR]();riter["return"]=function(){SAFE_CLOSING=!0},Array.from(riter,function(){throw 2})}catch(e){}module.exports=function(exec,skipClosing){if(!skipClosing&&!SAFE_CLOSING)return!1;var safe=!1;try{var arr=[7],iter=arr[ITERATOR]();iter.next=function(){return{done:safe=!0}},arr[ITERATOR]=function(){return iter},exec(arr)}catch(e){}return safe}},{117:117}],55:[function(_dereq_,module,exports){module.exports=function(done,value){return{value:value,done:!!done}}},{}],56:[function(_dereq_,module,exports){module.exports={}},{}],57:[function(_dereq_,module,exports){var getKeys=_dereq_(76),toIObject=_dereq_(107);module.exports=function(object,el){for(var key,O=toIObject(object),keys=getKeys(O),length=keys.length,index=0;length>index;)if(O[key=keys[index++]]===el)return key}},{107:107,76:76}],58:[function(_dereq_,module,exports){module.exports=!1},{}],59:[function(_dereq_,module,exports){var $expm1=Math.expm1;module.exports=!$expm1||$expm1(10)>22025.465794806718||$expm1(10)<22025.465794806718||$expm1(-2e-17)!=-2e-17?function(x){return 0==(x=+x)?x:x>-1e-6&&x<1e-6?x+x*x/2:Math.exp(x)-1}:$expm1},{}],60:[function(_dereq_,module,exports){module.exports=Math.log1p||function(x){return(x=+x)>-1e-8&&x<1e-8?x-x*x/2:Math.log(1+x)}},{}],61:[function(_dereq_,module,exports){module.exports=Math.sign||function(x){return 0==(x=+x)||x!=x?x:x<0?-1:1}},{}],62:[function(_dereq_,module,exports){var META=_dereq_(114)("meta"),isObject=_dereq_(49),has=_dereq_(39),setDesc=_dereq_(67).f,id=0,isExtensible=Object.isExtensible||function(){return!0},FREEZE=!_dereq_(34)(function(){return isExtensible(Object.preventExtensions({}))}),setMeta=function(it){setDesc(it,META,{value:{i:"O"+ ++id,w:{}}})},fastKey=function(it,create){if(!isObject(it))return"symbol"==typeof it?it:("string"==typeof it?"S":"P")+it;if(!has(it,META)){if(!isExtensible(it))return"F";if(!create)return"E";setMeta(it)}return it[META].i},getWeak=function(it,create){if(!has(it,META)){if(!isExtensible(it))return!0;if(!create)return!1;setMeta(it)}return it[META].w},onFreeze=function(it){return FREEZE&&meta.NEED&&isExtensible(it)&&!has(it,META)&&setMeta(it),it},meta=module.exports={KEY:META,NEED:!1,fastKey:fastKey,getWeak:getWeak,onFreeze:onFreeze}},{114:114,34:34,39:39,49:49,67:67}],63:[function(_dereq_,module,exports){var Map=_dereq_(149),$export=_dereq_(32),shared=_dereq_(94)("metadata"),store=shared.store||(shared.store=new(_dereq_(255))),getOrCreateMetadataMap=function(target,targetKey,create){var targetMetadata=store.get(target);if(!targetMetadata){if(!create)return;store.set(target,targetMetadata=new Map)}var keyMetadata=targetMetadata.get(targetKey);if(!keyMetadata){if(!create)return;targetMetadata.set(targetKey,keyMetadata=new Map)}return keyMetadata},ordinaryHasOwnMetadata=function(MetadataKey,O,P){var metadataMap=getOrCreateMetadataMap(O,P,!1);return void 0!==metadataMap&&metadataMap.has(MetadataKey)},ordinaryGetOwnMetadata=function(MetadataKey,O,P){var metadataMap=getOrCreateMetadataMap(O,P,!1);return void 0===metadataMap?void 0:metadataMap.get(MetadataKey)},ordinaryDefineOwnMetadata=function(MetadataKey,MetadataValue,O,P){getOrCreateMetadataMap(O,P,!0).set(MetadataKey,MetadataValue)},ordinaryOwnMetadataKeys=function(target,targetKey){var metadataMap=getOrCreateMetadataMap(target,targetKey,!1),keys=[];return metadataMap&&metadataMap.forEach(function(_,key){keys.push(key)}),keys},toMetaKey=function(it){return void 0===it||"symbol"==typeof it?it:String(it)},exp=function(O){$export($export.S,"Reflect",O)};module.exports={store:store,map:getOrCreateMetadataMap,has:ordinaryHasOwnMetadata,get:ordinaryGetOwnMetadata,set:ordinaryDefineOwnMetadata,keys:ordinaryOwnMetadataKeys,key:toMetaKey,exp:exp}},{149:149,255:255,32:32,94:94}],64:[function(_dereq_,module,exports){var global=_dereq_(38),macrotask=_dereq_(104).set,Observer=global.MutationObserver||global.WebKitMutationObserver,process=global.process,Promise=global.Promise,isNode="process"==_dereq_(18)(process);module.exports=function(){var head,last,notify,flush=function(){var parent,fn;for(isNode&&(parent=process.domain)&&parent.exit();head;){fn=head.fn,head=head.next;try{fn()}catch(e){throw head?notify():last=void 0,e}}last=void 0,parent&&parent.enter()};if(isNode)notify=function(){process.nextTick(flush)};else if(Observer){var toggle=!0,node=document.createTextNode("");new Observer(flush).observe(node,{characterData:!0}),notify=function(){node.data=toggle=!toggle}}else if(Promise&&Promise.resolve){var promise=Promise.resolve();notify=function(){promise.then(flush)}}else notify=function(){macrotask.call(global,flush)};return function(fn){var task={fn:fn,next:void 0};last&&(last.next=task),head||(head=task,notify()),last=task}}},{104:104,18:18,38:38}],65:[function(_dereq_,module,exports){"use strict";var getKeys=_dereq_(76),gOPS=_dereq_(73),pIE=_dereq_(77),toObject=_dereq_(109),IObject=_dereq_(45),$assign=Object.assign;module.exports=!$assign||_dereq_(34)(function(){var A={},B={},S=Symbol(),K="abcdefghijklmnopqrst";return A[S]=7,K.split("").forEach(function(k){B[k]=k}),7!=$assign({},A)[S]||Object.keys($assign({},B)).join("")!=K})?function(target,source){for(var T=toObject(target),aLen=arguments.length,index=1,getSymbols=gOPS.f,isEnum=pIE.f;aLen>index;)for(var key,S=IObject(arguments[index++]),keys=getSymbols?getKeys(S).concat(getSymbols(S)):getKeys(S),length=keys.length,j=0;length>j;)isEnum.call(S,key=keys[j++])&&(T[key]=S[key]);return T}:$assign},{109:109,34:34,45:45,73:73,76:76,77:77}],66:[function(_dereq_,module,exports){var anObject=_dereq_(7),dPs=_dereq_(68),enumBugKeys=_dereq_(30),IE_PROTO=_dereq_(93)("IE_PROTO"),Empty=function(){},PROTOTYPE="prototype",createDict=function(){var iframeDocument,iframe=_dereq_(29)("iframe"),i=enumBugKeys.length,lt="<",gt=">";for(iframe.style.display="none",_dereq_(41).appendChild(iframe),iframe.src="javascript:",iframeDocument=iframe.contentWindow.document,iframeDocument.open(),iframeDocument.write(lt+"script"+gt+"document.F=Object"+lt+"/script"+gt),iframeDocument.close(),createDict=iframeDocument.F;i--;)delete createDict[PROTOTYPE][enumBugKeys[i]];return createDict()};module.exports=Object.create||function(O,Properties){var result;return null!==O?(Empty[PROTOTYPE]=anObject(O),result=new Empty,Empty[PROTOTYPE]=null,result[IE_PROTO]=O):result=createDict(),void 0===Properties?result:dPs(result,Properties)}},{29:29,30:30,41:41,68:68,7:7,93:93}],67:[function(_dereq_,module,exports){var anObject=_dereq_(7),IE8_DOM_DEFINE=_dereq_(42),toPrimitive=_dereq_(110),dP=Object.defineProperty;exports.f=_dereq_(28)?Object.defineProperty:function(O,P,Attributes){if(anObject(O),P=toPrimitive(P,!0),anObject(Attributes),IE8_DOM_DEFINE)try{return dP(O,P,Attributes)}catch(e){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported!");return"value"in Attributes&&(O[P]=Attributes.value),O}},{110:110,28:28,42:42,7:7}],68:[function(_dereq_,module,exports){var dP=_dereq_(67),anObject=_dereq_(7),getKeys=_dereq_(76);module.exports=_dereq_(28)?Object.defineProperties:function(O,Properties){anObject(O);for(var P,keys=getKeys(Properties),length=keys.length,i=0;length>i;)dP.f(O,P=keys[i++],Properties[P]);return O}},{28:28,67:67,7:7,76:76}],69:[function(_dereq_,module,exports){module.exports=_dereq_(58)||!_dereq_(34)(function(){var K=Math.random();__defineSetter__.call(null,K,function(){}),delete _dereq_(38)[K]});
},{34:34,38:38,58:58}],70:[function(_dereq_,module,exports){var pIE=_dereq_(77),createDesc=_dereq_(85),toIObject=_dereq_(107),toPrimitive=_dereq_(110),has=_dereq_(39),IE8_DOM_DEFINE=_dereq_(42),gOPD=Object.getOwnPropertyDescriptor;exports.f=_dereq_(28)?gOPD:function(O,P){if(O=toIObject(O),P=toPrimitive(P,!0),IE8_DOM_DEFINE)try{return gOPD(O,P)}catch(e){}if(has(O,P))return createDesc(!pIE.f.call(O,P),O[P])}},{107:107,110:110,28:28,39:39,42:42,77:77,85:85}],71:[function(_dereq_,module,exports){var toIObject=_dereq_(107),gOPN=_dereq_(72).f,toString={}.toString,windowNames="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames=function(it){try{return gOPN(it)}catch(e){return windowNames.slice()}};module.exports.f=function(it){return windowNames&&"[object Window]"==toString.call(it)?getWindowNames(it):gOPN(toIObject(it))}},{107:107,72:72}],72:[function(_dereq_,module,exports){var $keys=_dereq_(75),hiddenKeys=_dereq_(30).concat("length","prototype");exports.f=Object.getOwnPropertyNames||function(O){return $keys(O,hiddenKeys)}},{30:30,75:75}],73:[function(_dereq_,module,exports){exports.f=Object.getOwnPropertySymbols},{}],74:[function(_dereq_,module,exports){var has=_dereq_(39),toObject=_dereq_(109),IE_PROTO=_dereq_(93)("IE_PROTO"),ObjectProto=Object.prototype;module.exports=Object.getPrototypeOf||function(O){return O=toObject(O),has(O,IE_PROTO)?O[IE_PROTO]:"function"==typeof O.constructor&&O instanceof O.constructor?O.constructor.prototype:O instanceof Object?ObjectProto:null}},{109:109,39:39,93:93}],75:[function(_dereq_,module,exports){var has=_dereq_(39),toIObject=_dereq_(107),arrayIndexOf=_dereq_(11)(!1),IE_PROTO=_dereq_(93)("IE_PROTO");module.exports=function(object,names){var key,O=toIObject(object),i=0,result=[];for(key in O)key!=IE_PROTO&&has(O,key)&&result.push(key);for(;names.length>i;)has(O,key=names[i++])&&(~arrayIndexOf(result,key)||result.push(key));return result}},{107:107,11:11,39:39,93:93}],76:[function(_dereq_,module,exports){var $keys=_dereq_(75),enumBugKeys=_dereq_(30);module.exports=Object.keys||function(O){return $keys(O,enumBugKeys)}},{30:30,75:75}],77:[function(_dereq_,module,exports){exports.f={}.propertyIsEnumerable},{}],78:[function(_dereq_,module,exports){var $export=_dereq_(32),core=_dereq_(23),fails=_dereq_(34);module.exports=function(KEY,exec){var fn=(core.Object||{})[KEY]||Object[KEY],exp={};exp[KEY]=exec(fn),$export($export.S+$export.F*fails(function(){fn(1)}),"Object",exp)}},{23:23,32:32,34:34}],79:[function(_dereq_,module,exports){var getKeys=_dereq_(76),toIObject=_dereq_(107),isEnum=_dereq_(77).f;module.exports=function(isEntries){return function(it){for(var key,O=toIObject(it),keys=getKeys(O),length=keys.length,i=0,result=[];length>i;)isEnum.call(O,key=keys[i++])&&result.push(isEntries?[key,O[key]]:O[key]);return result}}},{107:107,76:76,77:77}],80:[function(_dereq_,module,exports){var gOPN=_dereq_(72),gOPS=_dereq_(73),anObject=_dereq_(7),Reflect=_dereq_(38).Reflect;module.exports=Reflect&&Reflect.ownKeys||function(it){var keys=gOPN.f(anObject(it)),getSymbols=gOPS.f;return getSymbols?keys.concat(getSymbols(it)):keys}},{38:38,7:7,72:72,73:73}],81:[function(_dereq_,module,exports){var $parseFloat=_dereq_(38).parseFloat,$trim=_dereq_(102).trim;module.exports=1/$parseFloat(_dereq_(103)+"-0")!==-(1/0)?function(str){var string=$trim(String(str),3),result=$parseFloat(string);return 0===result&&"-"==string.charAt(0)?-0:result}:$parseFloat},{102:102,103:103,38:38}],82:[function(_dereq_,module,exports){var $parseInt=_dereq_(38).parseInt,$trim=_dereq_(102).trim,ws=_dereq_(103),hex=/^[\-+]?0[xX]/;module.exports=8!==$parseInt(ws+"08")||22!==$parseInt(ws+"0x16")?function(str,radix){var string=$trim(String(str),3);return $parseInt(string,radix>>>0||(hex.test(string)?16:10))}:$parseInt},{102:102,103:103,38:38}],83:[function(_dereq_,module,exports){"use strict";var path=_dereq_(84),invoke=_dereq_(44),aFunction=_dereq_(3);module.exports=function(){for(var fn=aFunction(this),length=arguments.length,pargs=Array(length),i=0,_=path._,holder=!1;length>i;)(pargs[i]=arguments[i++])===_&&(holder=!0);return function(){var args,that=this,aLen=arguments.length,j=0,k=0;if(!holder&&!aLen)return invoke(fn,pargs,that);if(args=pargs.slice(),holder)for(;length>j;j++)args[j]===_&&(args[j]=arguments[k++]);for(;aLen>k;)args.push(arguments[k++]);return invoke(fn,args,that)}}},{3:3,44:44,84:84}],84:[function(_dereq_,module,exports){module.exports=_dereq_(38)},{38:38}],85:[function(_dereq_,module,exports){module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}},{}],86:[function(_dereq_,module,exports){var redefine=_dereq_(87);module.exports=function(target,src,safe){for(var key in src)redefine(target,key,src[key],safe);return target}},{87:87}],87:[function(_dereq_,module,exports){var global=_dereq_(38),hide=_dereq_(40),has=_dereq_(39),SRC=_dereq_(114)("src"),TO_STRING="toString",$toString=Function[TO_STRING],TPL=(""+$toString).split(TO_STRING);_dereq_(23).inspectSource=function(it){return $toString.call(it)},(module.exports=function(O,key,val,safe){var isFunction="function"==typeof val;isFunction&&(has(val,"name")||hide(val,"name",key)),O[key]!==val&&(isFunction&&(has(val,SRC)||hide(val,SRC,O[key]?""+O[key]:TPL.join(String(key)))),O===global?O[key]=val:safe?O[key]?O[key]=val:hide(O,key,val):(delete O[key],hide(O,key,val)))})(Function.prototype,TO_STRING,function(){return"function"==typeof this&&this[SRC]||$toString.call(this)})},{114:114,23:23,38:38,39:39,40:40}],88:[function(_dereq_,module,exports){module.exports=function(regExp,replace){var replacer=replace===Object(replace)?function(part){return replace[part]}:replace;return function(it){return String(it).replace(regExp,replacer)}}},{}],89:[function(_dereq_,module,exports){module.exports=Object.is||function(x,y){return x===y?0!==x||1/x===1/y:x!=x&&y!=y}},{}],90:[function(_dereq_,module,exports){var isObject=_dereq_(49),anObject=_dereq_(7),check=function(O,proto){if(anObject(O),!isObject(proto)&&null!==proto)throw TypeError(proto+": can't set as prototype!")};module.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(test,buggy,set){try{set=_dereq_(25)(Function.call,_dereq_(70).f(Object.prototype,"__proto__").set,2),set(test,[]),buggy=!(test instanceof Array)}catch(e){buggy=!0}return function(O,proto){return check(O,proto),buggy?O.__proto__=proto:set(O,proto),O}}({},!1):void 0),check:check}},{25:25,49:49,7:7,70:70}],91:[function(_dereq_,module,exports){"use strict";var global=_dereq_(38),dP=_dereq_(67),DESCRIPTORS=_dereq_(28),SPECIES=_dereq_(117)("species");module.exports=function(KEY){var C=global[KEY];DESCRIPTORS&&C&&!C[SPECIES]&&dP.f(C,SPECIES,{configurable:!0,get:function(){return this}})}},{117:117,28:28,38:38,67:67}],92:[function(_dereq_,module,exports){var def=_dereq_(67).f,has=_dereq_(39),TAG=_dereq_(117)("toStringTag");module.exports=function(it,tag,stat){it&&!has(it=stat?it:it.prototype,TAG)&&def(it,TAG,{configurable:!0,value:tag})}},{117:117,39:39,67:67}],93:[function(_dereq_,module,exports){var shared=_dereq_(94)("keys"),uid=_dereq_(114);module.exports=function(key){return shared[key]||(shared[key]=uid(key))}},{114:114,94:94}],94:[function(_dereq_,module,exports){var global=_dereq_(38),SHARED="__core-js_shared__",store=global[SHARED]||(global[SHARED]={});module.exports=function(key){return store[key]||(store[key]={})}},{38:38}],95:[function(_dereq_,module,exports){var anObject=_dereq_(7),aFunction=_dereq_(3),SPECIES=_dereq_(117)("species");module.exports=function(O,D){var S,C=anObject(O).constructor;return void 0===C||void 0==(S=anObject(C)[SPECIES])?D:aFunction(S)}},{117:117,3:3,7:7}],96:[function(_dereq_,module,exports){var fails=_dereq_(34);module.exports=function(method,arg){return!!method&&fails(function(){arg?method.call(null,function(){},1):method.call(null)})}},{34:34}],97:[function(_dereq_,module,exports){var toInteger=_dereq_(106),defined=_dereq_(27);module.exports=function(TO_STRING){return function(that,pos){var a,b,s=String(defined(that)),i=toInteger(pos),l=s.length;return i<0||i>=l?TO_STRING?"":void 0:(a=s.charCodeAt(i),a<55296||a>56319||i+1===l||(b=s.charCodeAt(i+1))<56320||b>57343?TO_STRING?s.charAt(i):a:TO_STRING?s.slice(i,i+2):(a-55296<<10)+(b-56320)+65536)}}},{106:106,27:27}],98:[function(_dereq_,module,exports){var isRegExp=_dereq_(50),defined=_dereq_(27);module.exports=function(that,searchString,NAME){if(isRegExp(searchString))throw TypeError("String#"+NAME+" doesn't accept regex!");return String(defined(that))}},{27:27,50:50}],99:[function(_dereq_,module,exports){var $export=_dereq_(32),fails=_dereq_(34),defined=_dereq_(27),quot=/"/g,createHTML=function(string,tag,attribute,value){var S=String(defined(string)),p1="<"+tag;return""!==attribute&&(p1+=" "+attribute+'="'+String(value).replace(quot,"&quot;")+'"'),p1+">"+S+"</"+tag+">"};module.exports=function(NAME,exec){var O={};O[NAME]=exec(createHTML),$export($export.P+$export.F*fails(function(){var test=""[NAME]('"');return test!==test.toLowerCase()||test.split('"').length>3}),"String",O)}},{27:27,32:32,34:34}],100:[function(_dereq_,module,exports){var toLength=_dereq_(108),repeat=_dereq_(101),defined=_dereq_(27);module.exports=function(that,maxLength,fillString,left){var S=String(defined(that)),stringLength=S.length,fillStr=void 0===fillString?" ":String(fillString),intMaxLength=toLength(maxLength);if(intMaxLength<=stringLength||""==fillStr)return S;var fillLen=intMaxLength-stringLength,stringFiller=repeat.call(fillStr,Math.ceil(fillLen/fillStr.length));return stringFiller.length>fillLen&&(stringFiller=stringFiller.slice(0,fillLen)),left?stringFiller+S:S+stringFiller}},{101:101,108:108,27:27}],101:[function(_dereq_,module,exports){"use strict";var toInteger=_dereq_(106),defined=_dereq_(27);module.exports=function(count){var str=String(defined(this)),res="",n=toInteger(count);if(n<0||n==1/0)throw RangeError("Count can't be negative");for(;n>0;(n>>>=1)&&(str+=str))1&n&&(res+=str);return res}},{106:106,27:27}],102:[function(_dereq_,module,exports){var $export=_dereq_(32),defined=_dereq_(27),fails=_dereq_(34),spaces=_dereq_(103),space="["+spaces+"]",non="​",ltrim=RegExp("^"+space+space+"*"),rtrim=RegExp(space+space+"*$"),exporter=function(KEY,exec,ALIAS){var exp={},FORCE=fails(function(){return!!spaces[KEY]()||non[KEY]()!=non}),fn=exp[KEY]=FORCE?exec(trim):spaces[KEY];ALIAS&&(exp[ALIAS]=fn),$export($export.P+$export.F*FORCE,"String",exp)},trim=exporter.trim=function(string,TYPE){return string=String(defined(string)),1&TYPE&&(string=string.replace(ltrim,"")),2&TYPE&&(string=string.replace(rtrim,"")),string};module.exports=exporter},{103:103,27:27,32:32,34:34}],103:[function(_dereq_,module,exports){module.exports="\t\n\x0B\f\r   ᠎             　\u2028\u2029\ufeff"},{}],104:[function(_dereq_,module,exports){var defer,channel,port,ctx=_dereq_(25),invoke=_dereq_(44),html=_dereq_(41),cel=_dereq_(29),global=_dereq_(38),process=global.process,setTask=global.setImmediate,clearTask=global.clearImmediate,MessageChannel=global.MessageChannel,counter=0,queue={},ONREADYSTATECHANGE="onreadystatechange",run=function(){var id=+this;if(queue.hasOwnProperty(id)){var fn=queue[id];delete queue[id],fn()}},listener=function(event){run.call(event.data)};setTask&&clearTask||(setTask=function(fn){for(var args=[],i=1;arguments.length>i;)args.push(arguments[i++]);return queue[++counter]=function(){invoke("function"==typeof fn?fn:Function(fn),args)},defer(counter),counter},clearTask=function(id){delete queue[id]},"process"==_dereq_(18)(process)?defer=function(id){process.nextTick(ctx(run,id,1))}:MessageChannel?(channel=new MessageChannel,port=channel.port2,channel.port1.onmessage=listener,defer=ctx(port.postMessage,port,1)):global.addEventListener&&"function"==typeof postMessage&&!global.importScripts?(defer=function(id){global.postMessage(id+"","*")},global.addEventListener("message",listener,!1)):defer=ONREADYSTATECHANGE in cel("script")?function(id){html.appendChild(cel("script"))[ONREADYSTATECHANGE]=function(){html.removeChild(this),run.call(id)}}:function(id){setTimeout(ctx(run,id,1),0)}),module.exports={set:setTask,clear:clearTask}},{18:18,25:25,29:29,38:38,41:41,44:44}],105:[function(_dereq_,module,exports){var toInteger=_dereq_(106),max=Math.max,min=Math.min;module.exports=function(index,length){return index=toInteger(index),index<0?max(index+length,0):min(index,length)}},{106:106}],106:[function(_dereq_,module,exports){var ceil=Math.ceil,floor=Math.floor;module.exports=function(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)}},{}],107:[function(_dereq_,module,exports){var IObject=_dereq_(45),defined=_dereq_(27);module.exports=function(it){return IObject(defined(it))}},{27:27,45:45}],108:[function(_dereq_,module,exports){var toInteger=_dereq_(106),min=Math.min;module.exports=function(it){return it>0?min(toInteger(it),9007199254740991):0}},{106:106}],109:[function(_dereq_,module,exports){var defined=_dereq_(27);module.exports=function(it){return Object(defined(it))}},{27:27}],110:[function(_dereq_,module,exports){var isObject=_dereq_(49);module.exports=function(it,S){if(!isObject(it))return it;var fn,val;if(S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;if("function"==typeof(fn=it.valueOf)&&!isObject(val=fn.call(it)))return val;if(!S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;throw TypeError("Can't convert object to primitive value")}},{49:49}],111:[function(_dereq_,module,exports){"use strict";if(_dereq_(28)){var LIBRARY=_dereq_(58),global=_dereq_(38),fails=_dereq_(34),$export=_dereq_(32),$typed=_dereq_(113),$buffer=_dereq_(112),ctx=_dereq_(25),anInstance=_dereq_(6),propertyDesc=_dereq_(85),hide=_dereq_(40),redefineAll=_dereq_(86),toInteger=_dereq_(106),toLength=_dereq_(108),toIndex=_dereq_(105),toPrimitive=_dereq_(110),has=_dereq_(39),same=_dereq_(89),classof=_dereq_(17),isObject=_dereq_(49),toObject=_dereq_(109),isArrayIter=_dereq_(46),create=_dereq_(66),getPrototypeOf=_dereq_(74),gOPN=_dereq_(72).f,getIterFn=_dereq_(118),uid=_dereq_(114),wks=_dereq_(117),createArrayMethod=_dereq_(12),createArrayIncludes=_dereq_(11),speciesConstructor=_dereq_(95),ArrayIterators=_dereq_(130),Iterators=_dereq_(56),$iterDetect=_dereq_(54),setSpecies=_dereq_(91),arrayFill=_dereq_(9),arrayCopyWithin=_dereq_(8),$DP=_dereq_(67),$GOPD=_dereq_(70),dP=$DP.f,gOPD=$GOPD.f,RangeError=global.RangeError,TypeError=global.TypeError,Uint8Array=global.Uint8Array,ARRAY_BUFFER="ArrayBuffer",SHARED_BUFFER="Shared"+ARRAY_BUFFER,BYTES_PER_ELEMENT="BYTES_PER_ELEMENT",PROTOTYPE="prototype",ArrayProto=Array[PROTOTYPE],$ArrayBuffer=$buffer.ArrayBuffer,$DataView=$buffer.DataView,arrayForEach=createArrayMethod(0),arrayFilter=createArrayMethod(2),arraySome=createArrayMethod(3),arrayEvery=createArrayMethod(4),arrayFind=createArrayMethod(5),arrayFindIndex=createArrayMethod(6),arrayIncludes=createArrayIncludes(!0),arrayIndexOf=createArrayIncludes(!1),arrayValues=ArrayIterators.values,arrayKeys=ArrayIterators.keys,arrayEntries=ArrayIterators.entries,arrayLastIndexOf=ArrayProto.lastIndexOf,arrayReduce=ArrayProto.reduce,arrayReduceRight=ArrayProto.reduceRight,arrayJoin=ArrayProto.join,arraySort=ArrayProto.sort,arraySlice=ArrayProto.slice,arrayToString=ArrayProto.toString,arrayToLocaleString=ArrayProto.toLocaleString,ITERATOR=wks("iterator"),TAG=wks("toStringTag"),TYPED_CONSTRUCTOR=uid("typed_constructor"),DEF_CONSTRUCTOR=uid("def_constructor"),ALL_CONSTRUCTORS=$typed.CONSTR,TYPED_ARRAY=$typed.TYPED,VIEW=$typed.VIEW,WRONG_LENGTH="Wrong length!",$map=createArrayMethod(1,function(O,length){return allocate(speciesConstructor(O,O[DEF_CONSTRUCTOR]),length)}),LITTLE_ENDIAN=fails(function(){return 1===new Uint8Array(new Uint16Array([1]).buffer)[0]}),FORCED_SET=!!Uint8Array&&!!Uint8Array[PROTOTYPE].set&&fails(function(){new Uint8Array(1).set({})}),strictToLength=function(it,SAME){if(void 0===it)throw TypeError(WRONG_LENGTH);var number=+it,length=toLength(it);if(SAME&&!same(number,length))throw RangeError(WRONG_LENGTH);return length},toOffset=function(it,BYTES){var offset=toInteger(it);if(offset<0||offset%BYTES)throw RangeError("Wrong offset!");return offset},validate=function(it){if(isObject(it)&&TYPED_ARRAY in it)return it;throw TypeError(it+" is not a typed array!")},allocate=function(C,length){if(!(isObject(C)&&TYPED_CONSTRUCTOR in C))throw TypeError("It is not a typed array constructor!");return new C(length)},speciesFromList=function(O,list){return fromList(speciesConstructor(O,O[DEF_CONSTRUCTOR]),list)},fromList=function(C,list){for(var index=0,length=list.length,result=allocate(C,length);length>index;)result[index]=list[index++];return result},addGetter=function(it,key,internal){dP(it,key,{get:function(){return this._d[internal]}})},$from=function(source){var i,length,values,result,step,iterator,O=toObject(source),aLen=arguments.length,mapfn=aLen>1?arguments[1]:void 0,mapping=void 0!==mapfn,iterFn=getIterFn(O);if(void 0!=iterFn&&!isArrayIter(iterFn)){for(iterator=iterFn.call(O),values=[],i=0;!(step=iterator.next()).done;i++)values.push(step.value);O=values}for(mapping&&aLen>2&&(mapfn=ctx(mapfn,arguments[2],2)),i=0,length=toLength(O.length),result=allocate(this,length);length>i;i++)result[i]=mapping?mapfn(O[i],i):O[i];return result},$of=function(){for(var index=0,length=arguments.length,result=allocate(this,length);length>index;)result[index]=arguments[index++];return result},TO_LOCALE_BUG=!!Uint8Array&&fails(function(){arrayToLocaleString.call(new Uint8Array(1))}),$toLocaleString=function(){return arrayToLocaleString.apply(TO_LOCALE_BUG?arraySlice.call(validate(this)):validate(this),arguments)},proto={copyWithin:function(target,start){return arrayCopyWithin.call(validate(this),target,start,arguments.length>2?arguments[2]:void 0)},every:function(callbackfn){return arrayEvery(validate(this),callbackfn,arguments.length>1?arguments[1]:void 0)},fill:function(value){return arrayFill.apply(validate(this),arguments)},filter:function(callbackfn){return speciesFromList(this,arrayFilter(validate(this),callbackfn,arguments.length>1?arguments[1]:void 0))},find:function(predicate){return arrayFind(validate(this),predicate,arguments.length>1?arguments[1]:void 0)},findIndex:function(predicate){return arrayFindIndex(validate(this),predicate,arguments.length>1?arguments[1]:void 0)},forEach:function(callbackfn){arrayForEach(validate(this),callbackfn,arguments.length>1?arguments[1]:void 0)},indexOf:function(searchElement){return arrayIndexOf(validate(this),searchElement,arguments.length>1?arguments[1]:void 0)},includes:function(searchElement){return arrayIncludes(validate(this),searchElement,arguments.length>1?arguments[1]:void 0)},join:function(separator){return arrayJoin.apply(validate(this),arguments)},lastIndexOf:function(searchElement){return arrayLastIndexOf.apply(validate(this),arguments)},map:function(mapfn){return $map(validate(this),mapfn,arguments.length>1?arguments[1]:void 0)},reduce:function(callbackfn){return arrayReduce.apply(validate(this),arguments)},reduceRight:function(callbackfn){return arrayReduceRight.apply(validate(this),arguments)},reverse:function(){for(var value,that=this,length=validate(that).length,middle=Math.floor(length/2),index=0;index<middle;)value=that[index],that[index++]=that[--length],that[length]=value;return that},some:function(callbackfn){return arraySome(validate(this),callbackfn,arguments.length>1?arguments[1]:void 0)},sort:function(comparefn){return arraySort.call(validate(this),comparefn)},subarray:function(begin,end){var O=validate(this),length=O.length,$begin=toIndex(begin,length);return new(speciesConstructor(O,O[DEF_CONSTRUCTOR]))(O.buffer,O.byteOffset+$begin*O.BYTES_PER_ELEMENT,toLength((void 0===end?length:toIndex(end,length))-$begin))}},$slice=function(start,end){return speciesFromList(this,arraySlice.call(validate(this),start,end))},$set=function(arrayLike){validate(this);var offset=toOffset(arguments[1],1),length=this.length,src=toObject(arrayLike),len=toLength(src.length),index=0;if(len+offset>length)throw RangeError(WRONG_LENGTH);for(;index<len;)this[offset+index]=src[index++]},$iterators={entries:function(){return arrayEntries.call(validate(this))},keys:function(){return arrayKeys.call(validate(this))},values:function(){return arrayValues.call(validate(this))}},isTAIndex=function(target,key){return isObject(target)&&target[TYPED_ARRAY]&&"symbol"!=typeof key&&key in target&&String(+key)==String(key)},$getDesc=function(target,key){return isTAIndex(target,key=toPrimitive(key,!0))?propertyDesc(2,target[key]):gOPD(target,key)},$setDesc=function(target,key,desc){return!(isTAIndex(target,key=toPrimitive(key,!0))&&isObject(desc)&&has(desc,"value"))||has(desc,"get")||has(desc,"set")||desc.configurable||has(desc,"writable")&&!desc.writable||has(desc,"enumerable")&&!desc.enumerable?dP(target,key,desc):(target[key]=desc.value,target)};ALL_CONSTRUCTORS||($GOPD.f=$getDesc,$DP.f=$setDesc),$export($export.S+$export.F*!ALL_CONSTRUCTORS,"Object",{getOwnPropertyDescriptor:$getDesc,defineProperty:$setDesc}),fails(function(){arrayToString.call({})})&&(arrayToString=arrayToLocaleString=function(){return arrayJoin.call(this)});var $TypedArrayPrototype$=redefineAll({},proto);redefineAll($TypedArrayPrototype$,$iterators),hide($TypedArrayPrototype$,ITERATOR,$iterators.values),redefineAll($TypedArrayPrototype$,{slice:$slice,set:$set,constructor:function(){},toString:arrayToString,toLocaleString:$toLocaleString}),addGetter($TypedArrayPrototype$,"buffer","b"),addGetter($TypedArrayPrototype$,"byteOffset","o"),addGetter($TypedArrayPrototype$,"byteLength","l"),addGetter($TypedArrayPrototype$,"length","e"),dP($TypedArrayPrototype$,TAG,{get:function(){return this[TYPED_ARRAY]}}),module.exports=function(KEY,BYTES,wrapper,CLAMPED){CLAMPED=!!CLAMPED;var NAME=KEY+(CLAMPED?"Clamped":"")+"Array",ISNT_UINT8="Uint8Array"!=NAME,GETTER="get"+KEY,SETTER="set"+KEY,TypedArray=global[NAME],Base=TypedArray||{},TAC=TypedArray&&getPrototypeOf(TypedArray),FORCED=!TypedArray||!$typed.ABV,O={},TypedArrayPrototype=TypedArray&&TypedArray[PROTOTYPE],getter=function(that,index){var data=that._d;return data.v[GETTER](index*BYTES+data.o,LITTLE_ENDIAN)},setter=function(that,index,value){var data=that._d;CLAMPED&&(value=(value=Math.round(value))<0?0:value>255?255:255&value),data.v[SETTER](index*BYTES+data.o,value,LITTLE_ENDIAN)},addElement=function(that,index){dP(that,index,{get:function(){return getter(this,index)},set:function(value){return setter(this,index,value)},enumerable:!0})};FORCED?(TypedArray=wrapper(function(that,data,$offset,$length){anInstance(that,TypedArray,NAME,"_d");var buffer,byteLength,length,klass,index=0,offset=0;if(isObject(data)){if(!(data instanceof $ArrayBuffer||(klass=classof(data))==ARRAY_BUFFER||klass==SHARED_BUFFER))return TYPED_ARRAY in data?fromList(TypedArray,data):$from.call(TypedArray,data);buffer=data,offset=toOffset($offset,BYTES);var $len=data.byteLength;if(void 0===$length){if($len%BYTES)throw RangeError(WRONG_LENGTH);if(byteLength=$len-offset,byteLength<0)throw RangeError(WRONG_LENGTH)}else if(byteLength=toLength($length)*BYTES,byteLength+offset>$len)throw RangeError(WRONG_LENGTH);length=byteLength/BYTES}else length=strictToLength(data,!0),byteLength=length*BYTES,buffer=new $ArrayBuffer(byteLength);for(hide(that,"_d",{b:buffer,o:offset,l:byteLength,e:length,v:new $DataView(buffer)});index<length;)addElement(that,index++)}),TypedArrayPrototype=TypedArray[PROTOTYPE]=create($TypedArrayPrototype$),hide(TypedArrayPrototype,"constructor",TypedArray)):$iterDetect(function(iter){new TypedArray(null),new TypedArray(iter)},!0)||(TypedArray=wrapper(function(that,data,$offset,$length){anInstance(that,TypedArray,NAME);var klass;return isObject(data)?data instanceof $ArrayBuffer||(klass=classof(data))==ARRAY_BUFFER||klass==SHARED_BUFFER?void 0!==$length?new Base(data,toOffset($offset,BYTES),$length):void 0!==$offset?new Base(data,toOffset($offset,BYTES)):new Base(data):TYPED_ARRAY in data?fromList(TypedArray,data):$from.call(TypedArray,data):new Base(strictToLength(data,ISNT_UINT8))}),arrayForEach(TAC!==Function.prototype?gOPN(Base).concat(gOPN(TAC)):gOPN(Base),function(key){key in TypedArray||hide(TypedArray,key,Base[key])}),TypedArray[PROTOTYPE]=TypedArrayPrototype,LIBRARY||(TypedArrayPrototype.constructor=TypedArray));var $nativeIterator=TypedArrayPrototype[ITERATOR],CORRECT_ITER_NAME=!!$nativeIterator&&("values"==$nativeIterator.name||void 0==$nativeIterator.name),$iterator=$iterators.values;hide(TypedArray,TYPED_CONSTRUCTOR,!0),hide(TypedArrayPrototype,TYPED_ARRAY,NAME),hide(TypedArrayPrototype,VIEW,!0),hide(TypedArrayPrototype,DEF_CONSTRUCTOR,TypedArray),(CLAMPED?new TypedArray(1)[TAG]==NAME:TAG in TypedArrayPrototype)||dP(TypedArrayPrototype,TAG,{get:function(){return NAME}}),O[NAME]=TypedArray,$export($export.G+$export.W+$export.F*(TypedArray!=Base),O),$export($export.S,NAME,{BYTES_PER_ELEMENT:BYTES,from:$from,of:$of}),BYTES_PER_ELEMENT in TypedArrayPrototype||hide(TypedArrayPrototype,BYTES_PER_ELEMENT,BYTES),$export($export.P,NAME,proto),setSpecies(NAME),$export($export.P+$export.F*FORCED_SET,NAME,{set:$set}),$export($export.P+$export.F*!CORRECT_ITER_NAME,NAME,$iterators),$export($export.P+$export.F*(TypedArrayPrototype.toString!=arrayToString),NAME,{toString:arrayToString}),$export($export.P+$export.F*fails(function(){new TypedArray(1).slice()}),NAME,{slice:$slice}),$export($export.P+$export.F*(fails(function(){return[1,2].toLocaleString()!=new TypedArray([1,2]).toLocaleString()})||!fails(function(){TypedArrayPrototype.toLocaleString.call([1,2])})),NAME,{toLocaleString:$toLocaleString}),Iterators[NAME]=CORRECT_ITER_NAME?$nativeIterator:$iterator,LIBRARY||CORRECT_ITER_NAME||hide(TypedArrayPrototype,ITERATOR,$iterator)}}else module.exports=function(){}},{105:105,106:106,108:108,109:109,11:11,110:110,112:112,113:113,114:114,117:117,118:118,12:12,130:130,17:17,25:25,28:28,32:32,34:34,38:38,39:39,40:40,46:46,49:49,54:54,56:56,58:58,6:6,66:66,67:67,70:70,72:72,74:74,8:8,85:85,86:86,89:89,9:9,91:91,95:95}],112:[function(_dereq_,module,exports){"use strict";var global=_dereq_(38),DESCRIPTORS=_dereq_(28),LIBRARY=_dereq_(58),$typed=_dereq_(113),hide=_dereq_(40),redefineAll=_dereq_(86),fails=_dereq_(34),anInstance=_dereq_(6),toInteger=_dereq_(106),toLength=_dereq_(108),gOPN=_dereq_(72).f,dP=_dereq_(67).f,arrayFill=_dereq_(9),setToStringTag=_dereq_(92),ARRAY_BUFFER="ArrayBuffer",DATA_VIEW="DataView",PROTOTYPE="prototype",WRONG_LENGTH="Wrong length!",WRONG_INDEX="Wrong index!",$ArrayBuffer=global[ARRAY_BUFFER],$DataView=global[DATA_VIEW],Math=global.Math,RangeError=global.RangeError,Infinity=global.Infinity,BaseBuffer=$ArrayBuffer,abs=Math.abs,pow=Math.pow,floor=Math.floor,log=Math.log,LN2=Math.LN2,BUFFER="buffer",BYTE_LENGTH="byteLength",BYTE_OFFSET="byteOffset",$BUFFER=DESCRIPTORS?"_b":BUFFER,$LENGTH=DESCRIPTORS?"_l":BYTE_LENGTH,$OFFSET=DESCRIPTORS?"_o":BYTE_OFFSET,packIEEE754=function(value,mLen,nBytes){var e,m,c,buffer=Array(nBytes),eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?pow(2,-24)-pow(2,-77):0,i=0,s=value<0||0===value&&1/value<0?1:0;for(value=abs(value),value!=value||value===Infinity?(m=value!=value?1:0,e=eMax):(e=floor(log(value)/LN2),value*(c=pow(2,-e))<1&&(e--,c*=2),value+=e+eBias>=1?rt/c:rt*pow(2,1-eBias),value*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*pow(2,mLen),e+=eBias):(m=value*pow(2,eBias-1)*pow(2,mLen),e=0));mLen>=8;buffer[i++]=255&m,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[i++]=255&e,e/=256,eLen-=8);return buffer[--i]|=128*s,buffer},unpackIEEE754=function(buffer,mLen,nBytes){var m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=eLen-7,i=nBytes-1,s=buffer[i--],e=127&s;for(s>>=7;nBits>0;e=256*e+buffer[i],i--,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[i],i--,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:s?-Infinity:Infinity;m+=pow(2,mLen),e-=eBias}return(s?-1:1)*m*pow(2,e-mLen)},unpackI32=function(bytes){return bytes[3]<<24|bytes[2]<<16|bytes[1]<<8|bytes[0]},packI8=function(it){return[255&it]},packI16=function(it){return[255&it,it>>8&255]},packI32=function(it){return[255&it,it>>8&255,it>>16&255,it>>24&255]},packF64=function(it){return packIEEE754(it,52,8)},packF32=function(it){return packIEEE754(it,23,4)},addGetter=function(C,key,internal){dP(C[PROTOTYPE],key,{get:function(){return this[internal]}})},get=function(view,bytes,index,isLittleEndian){var numIndex=+index,intIndex=toInteger(numIndex);if(numIndex!=intIndex||intIndex<0||intIndex+bytes>view[$LENGTH])throw RangeError(WRONG_INDEX);var store=view[$BUFFER]._b,start=intIndex+view[$OFFSET],pack=store.slice(start,start+bytes);return isLittleEndian?pack:pack.reverse()},set=function(view,bytes,index,conversion,value,isLittleEndian){var numIndex=+index,intIndex=toInteger(numIndex);if(numIndex!=intIndex||intIndex<0||intIndex+bytes>view[$LENGTH])throw RangeError(WRONG_INDEX);for(var store=view[$BUFFER]._b,start=intIndex+view[$OFFSET],pack=conversion(+value),i=0;i<bytes;i++)store[start+i]=pack[isLittleEndian?i:bytes-i-1]},validateArrayBufferArguments=function(that,length){anInstance(that,$ArrayBuffer,ARRAY_BUFFER);var numberLength=+length,byteLength=toLength(numberLength);if(numberLength!=byteLength)throw RangeError(WRONG_LENGTH);return byteLength};if($typed.ABV){if(!fails(function(){new $ArrayBuffer})||!fails(function(){new $ArrayBuffer(.5)})){$ArrayBuffer=function(length){return new BaseBuffer(validateArrayBufferArguments(this,length))};for(var key,ArrayBufferProto=$ArrayBuffer[PROTOTYPE]=BaseBuffer[PROTOTYPE],keys=gOPN(BaseBuffer),j=0;keys.length>j;)(key=keys[j++])in $ArrayBuffer||hide($ArrayBuffer,key,BaseBuffer[key]);LIBRARY||(ArrayBufferProto.constructor=$ArrayBuffer)}var view=new $DataView(new $ArrayBuffer(2)),$setInt8=$DataView[PROTOTYPE].setInt8;view.setInt8(0,2147483648),view.setInt8(1,2147483649),!view.getInt8(0)&&view.getInt8(1)||redefineAll($DataView[PROTOTYPE],{setInt8:function(byteOffset,value){$setInt8.call(this,byteOffset,value<<24>>24)},setUint8:function(byteOffset,value){$setInt8.call(this,byteOffset,value<<24>>24)}},!0)}else $ArrayBuffer=function(length){var byteLength=validateArrayBufferArguments(this,length);this._b=arrayFill.call(Array(byteLength),0),this[$LENGTH]=byteLength},$DataView=function(buffer,byteOffset,byteLength){anInstance(this,$DataView,DATA_VIEW),anInstance(buffer,$ArrayBuffer,DATA_VIEW);var bufferLength=buffer[$LENGTH],offset=toInteger(byteOffset);if(offset<0||offset>bufferLength)throw RangeError("Wrong offset!");if(byteLength=void 0===byteLength?bufferLength-offset:toLength(byteLength),offset+byteLength>bufferLength)throw RangeError(WRONG_LENGTH);this[$BUFFER]=buffer,this[$OFFSET]=offset,this[$LENGTH]=byteLength},DESCRIPTORS&&(addGetter($ArrayBuffer,BYTE_LENGTH,"_l"),addGetter($DataView,BUFFER,"_b"),addGetter($DataView,BYTE_LENGTH,"_l"),addGetter($DataView,BYTE_OFFSET,"_o")),redefineAll($DataView[PROTOTYPE],{getInt8:function(byteOffset){return get(this,1,byteOffset)[0]<<24>>24},getUint8:function(byteOffset){return get(this,1,byteOffset)[0]},getInt16:function(byteOffset){var bytes=get(this,2,byteOffset,arguments[1]);return(bytes[1]<<8|bytes[0])<<16>>16},getUint16:function(byteOffset){var bytes=get(this,2,byteOffset,arguments[1]);return bytes[1]<<8|bytes[0]},getInt32:function(byteOffset){return unpackI32(get(this,4,byteOffset,arguments[1]))},getUint32:function(byteOffset){return unpackI32(get(this,4,byteOffset,arguments[1]))>>>0},getFloat32:function(byteOffset){return unpackIEEE754(get(this,4,byteOffset,arguments[1]),23,4)},getFloat64:function(byteOffset){return unpackIEEE754(get(this,8,byteOffset,arguments[1]),52,8)},setInt8:function(byteOffset,value){set(this,1,byteOffset,packI8,value)},setUint8:function(byteOffset,value){set(this,1,byteOffset,packI8,value)},setInt16:function(byteOffset,value){set(this,2,byteOffset,packI16,value,arguments[2])},setUint16:function(byteOffset,value){set(this,2,byteOffset,packI16,value,arguments[2]);
},setInt32:function(byteOffset,value){set(this,4,byteOffset,packI32,value,arguments[2])},setUint32:function(byteOffset,value){set(this,4,byteOffset,packI32,value,arguments[2])},setFloat32:function(byteOffset,value){set(this,4,byteOffset,packF32,value,arguments[2])},setFloat64:function(byteOffset,value){set(this,8,byteOffset,packF64,value,arguments[2])}});setToStringTag($ArrayBuffer,ARRAY_BUFFER),setToStringTag($DataView,DATA_VIEW),hide($DataView[PROTOTYPE],$typed.VIEW,!0),exports[ARRAY_BUFFER]=$ArrayBuffer,exports[DATA_VIEW]=$DataView},{106:106,108:108,113:113,28:28,34:34,38:38,40:40,58:58,6:6,67:67,72:72,86:86,9:9,92:92}],113:[function(_dereq_,module,exports){for(var Typed,global=_dereq_(38),hide=_dereq_(40),uid=_dereq_(114),TYPED=uid("typed_array"),VIEW=uid("view"),ABV=!(!global.ArrayBuffer||!global.DataView),CONSTR=ABV,i=0,l=9,TypedArrayConstructors="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");i<l;)(Typed=global[TypedArrayConstructors[i++]])?(hide(Typed.prototype,TYPED,!0),hide(Typed.prototype,VIEW,!0)):CONSTR=!1;module.exports={ABV:ABV,CONSTR:CONSTR,TYPED:TYPED,VIEW:VIEW}},{114:114,38:38,40:40}],114:[function(_dereq_,module,exports){var id=0,px=Math.random();module.exports=function(key){return"Symbol(".concat(void 0===key?"":key,")_",(++id+px).toString(36))}},{}],115:[function(_dereq_,module,exports){var global=_dereq_(38),core=_dereq_(23),LIBRARY=_dereq_(58),wksExt=_dereq_(116),defineProperty=_dereq_(67).f;module.exports=function(name){var $Symbol=core.Symbol||(core.Symbol=LIBRARY?{}:global.Symbol||{});"_"==name.charAt(0)||name in $Symbol||defineProperty($Symbol,name,{value:wksExt.f(name)})}},{116:116,23:23,38:38,58:58,67:67}],116:[function(_dereq_,module,exports){exports.f=_dereq_(117)},{117:117}],117:[function(_dereq_,module,exports){var store=_dereq_(94)("wks"),uid=_dereq_(114),Symbol=_dereq_(38).Symbol,USE_SYMBOL="function"==typeof Symbol,$exports=module.exports=function(name){return store[name]||(store[name]=USE_SYMBOL&&Symbol[name]||(USE_SYMBOL?Symbol:uid)("Symbol."+name))};$exports.store=store},{114:114,38:38,94:94}],118:[function(_dereq_,module,exports){var classof=_dereq_(17),ITERATOR=_dereq_(117)("iterator"),Iterators=_dereq_(56);module.exports=_dereq_(23).getIteratorMethod=function(it){if(void 0!=it)return it[ITERATOR]||it["@@iterator"]||Iterators[classof(it)]}},{117:117,17:17,23:23,56:56}],119:[function(_dereq_,module,exports){var $export=_dereq_(32),$re=_dereq_(88)(/[\\^$*+?.()|[\]{}]/g,"\\$&");$export($export.S,"RegExp",{escape:function(it){return $re(it)}})},{32:32,88:88}],120:[function(_dereq_,module,exports){var $export=_dereq_(32);$export($export.P,"Array",{copyWithin:_dereq_(8)}),_dereq_(5)("copyWithin")},{32:32,5:5,8:8}],121:[function(_dereq_,module,exports){"use strict";var $export=_dereq_(32),$every=_dereq_(12)(4);$export($export.P+$export.F*!_dereq_(96)([].every,!0),"Array",{every:function(callbackfn){return $every(this,callbackfn,arguments[1])}})},{12:12,32:32,96:96}],122:[function(_dereq_,module,exports){var $export=_dereq_(32);$export($export.P,"Array",{fill:_dereq_(9)}),_dereq_(5)("fill")},{32:32,5:5,9:9}],123:[function(_dereq_,module,exports){"use strict";var $export=_dereq_(32),$filter=_dereq_(12)(2);$export($export.P+$export.F*!_dereq_(96)([].filter,!0),"Array",{filter:function(callbackfn){return $filter(this,callbackfn,arguments[1])}})},{12:12,32:32,96:96}],124:[function(_dereq_,module,exports){"use strict";var $export=_dereq_(32),$find=_dereq_(12)(6),KEY="findIndex",forced=!0;KEY in[]&&Array(1)[KEY](function(){forced=!1}),$export($export.P+$export.F*forced,"Array",{findIndex:function(callbackfn){return $find(this,callbackfn,arguments.length>1?arguments[1]:void 0)}}),_dereq_(5)(KEY)},{12:12,32:32,5:5}],125:[function(_dereq_,module,exports){"use strict";var $export=_dereq_(32),$find=_dereq_(12)(5),KEY="find",forced=!0;KEY in[]&&Array(1)[KEY](function(){forced=!1}),$export($export.P+$export.F*forced,"Array",{find:function(callbackfn){return $find(this,callbackfn,arguments.length>1?arguments[1]:void 0)}}),_dereq_(5)(KEY)},{12:12,32:32,5:5}],126:[function(_dereq_,module,exports){"use strict";var $export=_dereq_(32),$forEach=_dereq_(12)(0),STRICT=_dereq_(96)([].forEach,!0);$export($export.P+$export.F*!STRICT,"Array",{forEach:function(callbackfn){return $forEach(this,callbackfn,arguments[1])}})},{12:12,32:32,96:96}],127:[function(_dereq_,module,exports){"use strict";var ctx=_dereq_(25),$export=_dereq_(32),toObject=_dereq_(109),call=_dereq_(51),isArrayIter=_dereq_(46),toLength=_dereq_(108),createProperty=_dereq_(24),getIterFn=_dereq_(118);$export($export.S+$export.F*!_dereq_(54)(function(iter){Array.from(iter)}),"Array",{from:function(arrayLike){var length,result,step,iterator,O=toObject(arrayLike),C="function"==typeof this?this:Array,aLen=arguments.length,mapfn=aLen>1?arguments[1]:void 0,mapping=void 0!==mapfn,index=0,iterFn=getIterFn(O);if(mapping&&(mapfn=ctx(mapfn,aLen>2?arguments[2]:void 0,2)),void 0==iterFn||C==Array&&isArrayIter(iterFn))for(length=toLength(O.length),result=new C(length);length>index;index++)createProperty(result,index,mapping?mapfn(O[index],index):O[index]);else for(iterator=iterFn.call(O),result=new C;!(step=iterator.next()).done;index++)createProperty(result,index,mapping?call(iterator,mapfn,[step.value,index],!0):step.value);return result.length=index,result}})},{108:108,109:109,118:118,24:24,25:25,32:32,46:46,51:51,54:54}],128:[function(_dereq_,module,exports){"use strict";var $export=_dereq_(32),$indexOf=_dereq_(11)(!1),$native=[].indexOf,NEGATIVE_ZERO=!!$native&&1/[1].indexOf(1,-0)<0;$export($export.P+$export.F*(NEGATIVE_ZERO||!_dereq_(96)($native)),"Array",{indexOf:function(searchElement){return NEGATIVE_ZERO?$native.apply(this,arguments)||0:$indexOf(this,searchElement,arguments[1])}})},{11:11,32:32,96:96}],129:[function(_dereq_,module,exports){var $export=_dereq_(32);$export($export.S,"Array",{isArray:_dereq_(47)})},{32:32,47:47}],130:[function(_dereq_,module,exports){"use strict";var addToUnscopables=_dereq_(5),step=_dereq_(55),Iterators=_dereq_(56),toIObject=_dereq_(107);module.exports=_dereq_(53)(Array,"Array",function(iterated,kind){this._t=toIObject(iterated),this._i=0,this._k=kind},function(){var O=this._t,kind=this._k,index=this._i++;return!O||index>=O.length?(this._t=void 0,step(1)):"keys"==kind?step(0,index):"values"==kind?step(0,O[index]):step(0,[index,O[index]])},"values"),Iterators.Arguments=Iterators.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries")},{107:107,5:5,53:53,55:55,56:56}],131:[function(_dereq_,module,exports){"use strict";var $export=_dereq_(32),toIObject=_dereq_(107),arrayJoin=[].join;$export($export.P+$export.F*(_dereq_(45)!=Object||!_dereq_(96)(arrayJoin)),"Array",{join:function(separator){return arrayJoin.call(toIObject(this),void 0===separator?",":separator)}})},{107:107,32:32,45:45,96:96}],132:[function(_dereq_,module,exports){"use strict";var $export=_dereq_(32),toIObject=_dereq_(107),toInteger=_dereq_(106),toLength=_dereq_(108),$native=[].lastIndexOf,NEGATIVE_ZERO=!!$native&&1/[1].lastIndexOf(1,-0)<0;$export($export.P+$export.F*(NEGATIVE_ZERO||!_dereq_(96)($native)),"Array",{lastIndexOf:function(searchElement){if(NEGATIVE_ZERO)return $native.apply(this,arguments)||0;var O=toIObject(this),length=toLength(O.length),index=length-1;for(arguments.length>1&&(index=Math.min(index,toInteger(arguments[1]))),index<0&&(index=length+index);index>=0;index--)if(index in O&&O[index]===searchElement)return index||0;return-1}})},{106:106,107:107,108:108,32:32,96:96}],133:[function(_dereq_,module,exports){"use strict";var $export=_dereq_(32),$map=_dereq_(12)(1);$export($export.P+$export.F*!_dereq_(96)([].map,!0),"Array",{map:function(callbackfn){return $map(this,callbackfn,arguments[1])}})},{12:12,32:32,96:96}],134:[function(_dereq_,module,exports){"use strict";var $export=_dereq_(32),createProperty=_dereq_(24);$export($export.S+$export.F*_dereq_(34)(function(){function F(){}return!(Array.of.call(F)instanceof F)}),"Array",{of:function(){for(var index=0,aLen=arguments.length,result=new("function"==typeof this?this:Array)(aLen);aLen>index;)createProperty(result,index,arguments[index++]);return result.length=aLen,result}})},{24:24,32:32,34:34}],135:[function(_dereq_,module,exports){"use strict";var $export=_dereq_(32),$reduce=_dereq_(13);$export($export.P+$export.F*!_dereq_(96)([].reduceRight,!0),"Array",{reduceRight:function(callbackfn){return $reduce(this,callbackfn,arguments.length,arguments[1],!0)}})},{13:13,32:32,96:96}],136:[function(_dereq_,module,exports){"use strict";var $export=_dereq_(32),$reduce=_dereq_(13);$export($export.P+$export.F*!_dereq_(96)([].reduce,!0),"Array",{reduce:function(callbackfn){return $reduce(this,callbackfn,arguments.length,arguments[1],!1)}})},{13:13,32:32,96:96}],137:[function(_dereq_,module,exports){"use strict";var $export=_dereq_(32),html=_dereq_(41),cof=_dereq_(18),toIndex=_dereq_(105),toLength=_dereq_(108),arraySlice=[].slice;$export($export.P+$export.F*_dereq_(34)(function(){html&&arraySlice.call(html)}),"Array",{slice:function(begin,end){var len=toLength(this.length),klass=cof(this);if(end=void 0===end?len:end,"Array"==klass)return arraySlice.call(this,begin,end);for(var start=toIndex(begin,len),upTo=toIndex(end,len),size=toLength(upTo-start),cloned=Array(size),i=0;i<size;i++)cloned[i]="String"==klass?this.charAt(start+i):this[start+i];return cloned}})},{105:105,108:108,18:18,32:32,34:34,41:41}],138:[function(_dereq_,module,exports){"use strict";var $export=_dereq_(32),$some=_dereq_(12)(3);$export($export.P+$export.F*!_dereq_(96)([].some,!0),"Array",{some:function(callbackfn){return $some(this,callbackfn,arguments[1])}})},{12:12,32:32,96:96}],139:[function(_dereq_,module,exports){"use strict";var $export=_dereq_(32),aFunction=_dereq_(3),toObject=_dereq_(109),fails=_dereq_(34),$sort=[].sort,test=[1,2,3];$export($export.P+$export.F*(fails(function(){test.sort(void 0)})||!fails(function(){test.sort(null)})||!_dereq_(96)($sort)),"Array",{sort:function(comparefn){return void 0===comparefn?$sort.call(toObject(this)):$sort.call(toObject(this),aFunction(comparefn))}})},{109:109,3:3,32:32,34:34,96:96}],140:[function(_dereq_,module,exports){_dereq_(91)("Array")},{91:91}],141:[function(_dereq_,module,exports){var $export=_dereq_(32);$export($export.S,"Date",{now:function(){return(new Date).getTime()}})},{32:32}],142:[function(_dereq_,module,exports){"use strict";var $export=_dereq_(32),fails=_dereq_(34),getTime=Date.prototype.getTime,lz=function(num){return num>9?num:"0"+num};$export($export.P+$export.F*(fails(function(){return"0385-07-25T07:06:39.999Z"!=new Date(-5e13-1).toISOString()})||!fails(function(){new Date(NaN).toISOString()})),"Date",{toISOString:function(){if(!isFinite(getTime.call(this)))throw RangeError("Invalid time value");var d=this,y=d.getUTCFullYear(),m=d.getUTCMilliseconds(),s=y<0?"-":y>9999?"+":"";return s+("00000"+Math.abs(y)).slice(s?-6:-4)+"-"+lz(d.getUTCMonth()+1)+"-"+lz(d.getUTCDate())+"T"+lz(d.getUTCHours())+":"+lz(d.getUTCMinutes())+":"+lz(d.getUTCSeconds())+"."+(m>99?m:"0"+lz(m))+"Z"}})},{32:32,34:34}],143:[function(_dereq_,module,exports){"use strict";var $export=_dereq_(32),toObject=_dereq_(109),toPrimitive=_dereq_(110);$export($export.P+$export.F*_dereq_(34)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(key){var O=toObject(this),pv=toPrimitive(O);return"number"!=typeof pv||isFinite(pv)?O.toISOString():null}})},{109:109,110:110,32:32,34:34}],144:[function(_dereq_,module,exports){var TO_PRIMITIVE=_dereq_(117)("toPrimitive"),proto=Date.prototype;TO_PRIMITIVE in proto||_dereq_(40)(proto,TO_PRIMITIVE,_dereq_(26))},{117:117,26:26,40:40}],145:[function(_dereq_,module,exports){var DateProto=Date.prototype,INVALID_DATE="Invalid Date",TO_STRING="toString",$toString=DateProto[TO_STRING],getTime=DateProto.getTime;new Date(NaN)+""!=INVALID_DATE&&_dereq_(87)(DateProto,TO_STRING,function(){var value=getTime.call(this);return value===value?$toString.call(this):INVALID_DATE})},{87:87}],146:[function(_dereq_,module,exports){var $export=_dereq_(32);$export($export.P,"Function",{bind:_dereq_(16)})},{16:16,32:32}],147:[function(_dereq_,module,exports){"use strict";var isObject=_dereq_(49),getPrototypeOf=_dereq_(74),HAS_INSTANCE=_dereq_(117)("hasInstance"),FunctionProto=Function.prototype;HAS_INSTANCE in FunctionProto||_dereq_(67).f(FunctionProto,HAS_INSTANCE,{value:function(O){if("function"!=typeof this||!isObject(O))return!1;if(!isObject(this.prototype))return O instanceof this;for(;O=getPrototypeOf(O);)if(this.prototype===O)return!0;return!1}})},{117:117,49:49,67:67,74:74}],148:[function(_dereq_,module,exports){var dP=_dereq_(67).f,createDesc=_dereq_(85),has=_dereq_(39),FProto=Function.prototype,nameRE=/^\s*function ([^ (]*)/,NAME="name",isExtensible=Object.isExtensible||function(){return!0};NAME in FProto||_dereq_(28)&&dP(FProto,NAME,{configurable:!0,get:function(){try{var that=this,name=(""+that).match(nameRE)[1];return has(that,NAME)||!isExtensible(that)||dP(that,NAME,createDesc(5,name)),name}catch(e){return""}}})},{28:28,39:39,67:67,85:85}],149:[function(_dereq_,module,exports){"use strict";var strong=_dereq_(19);module.exports=_dereq_(22)("Map",function(get){return function(){return get(this,arguments.length>0?arguments[0]:void 0)}},{get:function(key){var entry=strong.getEntry(this,key);return entry&&entry.v},set:function(key,value){return strong.def(this,0===key?0:key,value)}},strong,!0)},{19:19,22:22}],150:[function(_dereq_,module,exports){var $export=_dereq_(32),log1p=_dereq_(60),sqrt=Math.sqrt,$acosh=Math.acosh;$export($export.S+$export.F*!($acosh&&710==Math.floor($acosh(Number.MAX_VALUE))&&$acosh(1/0)==1/0),"Math",{acosh:function(x){return(x=+x)<1?NaN:x>94906265.62425156?Math.log(x)+Math.LN2:log1p(x-1+sqrt(x-1)*sqrt(x+1))}})},{32:32,60:60}],151:[function(_dereq_,module,exports){function asinh(x){return isFinite(x=+x)&&0!=x?x<0?-asinh(-x):Math.log(x+Math.sqrt(x*x+1)):x}var $export=_dereq_(32),$asinh=Math.asinh;$export($export.S+$export.F*!($asinh&&1/$asinh(0)>0),"Math",{asinh:asinh})},{32:32}],152:[function(_dereq_,module,exports){var $export=_dereq_(32),$atanh=Math.atanh;$export($export.S+$export.F*!($atanh&&1/$atanh(-0)<0),"Math",{atanh:function(x){return 0==(x=+x)?x:Math.log((1+x)/(1-x))/2}})},{32:32}],153:[function(_dereq_,module,exports){var $export=_dereq_(32),sign=_dereq_(61);$export($export.S,"Math",{cbrt:function(x){return sign(x=+x)*Math.pow(Math.abs(x),1/3)}})},{32:32,61:61}],154:[function(_dereq_,module,exports){var $export=_dereq_(32);$export($export.S,"Math",{clz32:function(x){return(x>>>=0)?31-Math.floor(Math.log(x+.5)*Math.LOG2E):32}})},{32:32}],155:[function(_dereq_,module,exports){var $export=_dereq_(32),exp=Math.exp;$export($export.S,"Math",{cosh:function(x){return(exp(x=+x)+exp(-x))/2}})},{32:32}],156:[function(_dereq_,module,exports){var $export=_dereq_(32),$expm1=_dereq_(59);$export($export.S+$export.F*($expm1!=Math.expm1),"Math",{expm1:$expm1})},{32:32,59:59}],157:[function(_dereq_,module,exports){var $export=_dereq_(32),sign=_dereq_(61),pow=Math.pow,EPSILON=pow(2,-52),EPSILON32=pow(2,-23),MAX32=pow(2,127)*(2-EPSILON32),MIN32=pow(2,-126),roundTiesToEven=function(n){return n+1/EPSILON-1/EPSILON};$export($export.S,"Math",{fround:function(x){var a,result,$abs=Math.abs(x),$sign=sign(x);return $abs<MIN32?$sign*roundTiesToEven($abs/MIN32/EPSILON32)*MIN32*EPSILON32:(a=(1+EPSILON32/EPSILON)*$abs,result=a-(a-$abs),result>MAX32||result!=result?$sign*(1/0):$sign*result)}})},{32:32,61:61}],158:[function(_dereq_,module,exports){var $export=_dereq_(32),abs=Math.abs;$export($export.S,"Math",{hypot:function(value1,value2){for(var arg,div,sum=0,i=0,aLen=arguments.length,larg=0;i<aLen;)arg=abs(arguments[i++]),larg<arg?(div=larg/arg,sum=sum*div*div+1,larg=arg):arg>0?(div=arg/larg,sum+=div*div):sum+=arg;return larg===1/0?1/0:larg*Math.sqrt(sum)}})},{32:32}],159:[function(_dereq_,module,exports){var $export=_dereq_(32),$imul=Math.imul;$export($export.S+$export.F*_dereq_(34)(function(){return $imul(4294967295,5)!=-5||2!=$imul.length}),"Math",{imul:function(x,y){var UINT16=65535,xn=+x,yn=+y,xl=UINT16&xn,yl=UINT16&yn;return 0|xl*yl+((UINT16&xn>>>16)*yl+xl*(UINT16&yn>>>16)<<16>>>0)}})},{32:32,34:34}],160:[function(_dereq_,module,exports){var $export=_dereq_(32);$export($export.S,"Math",{log10:function(x){return Math.log(x)/Math.LN10}})},{32:32}],161:[function(_dereq_,module,exports){var $export=_dereq_(32);$export($export.S,"Math",{log1p:_dereq_(60)})},{32:32,60:60}],162:[function(_dereq_,module,exports){var $export=_dereq_(32);$export($export.S,"Math",{log2:function(x){return Math.log(x)/Math.LN2}})},{32:32}],163:[function(_dereq_,module,exports){var $export=_dereq_(32);$export($export.S,"Math",{sign:_dereq_(61)})},{32:32,61:61}],164:[function(_dereq_,module,exports){var $export=_dereq_(32),expm1=_dereq_(59),exp=Math.exp;$export($export.S+$export.F*_dereq_(34)(function(){return!Math.sinh(-2e-17)!=-2e-17}),"Math",{sinh:function(x){return Math.abs(x=+x)<1?(expm1(x)-expm1(-x))/2:(exp(x-1)-exp(-x-1))*(Math.E/2)}})},{32:32,34:34,59:59}],165:[function(_dereq_,module,exports){var $export=_dereq_(32),expm1=_dereq_(59),exp=Math.exp;$export($export.S,"Math",{tanh:function(x){var a=expm1(x=+x),b=expm1(-x);return a==1/0?1:b==1/0?-1:(a-b)/(exp(x)+exp(-x))}})},{32:32,59:59}],166:[function(_dereq_,module,exports){var $export=_dereq_(32);$export($export.S,"Math",{trunc:function(it){return(it>0?Math.floor:Math.ceil)(it)}})},{32:32}],167:[function(_dereq_,module,exports){"use strict";var global=_dereq_(38),has=_dereq_(39),cof=_dereq_(18),inheritIfRequired=_dereq_(43),toPrimitive=_dereq_(110),fails=_dereq_(34),gOPN=_dereq_(72).f,gOPD=_dereq_(70).f,dP=_dereq_(67).f,$trim=_dereq_(102).trim,NUMBER="Number",$Number=global[NUMBER],Base=$Number,proto=$Number.prototype,BROKEN_COF=cof(_dereq_(66)(proto))==NUMBER,TRIM="trim"in String.prototype,toNumber=function(argument){var it=toPrimitive(argument,!1);if("string"==typeof it&&it.length>2){it=TRIM?it.trim():$trim(it,3);var third,radix,maxCode,first=it.charCodeAt(0);if(43===first||45===first){if(third=it.charCodeAt(2),88===third||120===third)return NaN}else if(48===first){switch(it.charCodeAt(1)){case 66:case 98:radix=2,maxCode=49;break;case 79:case 111:radix=8,maxCode=55;break;default:return+it}for(var code,digits=it.slice(2),i=0,l=digits.length;i<l;i++)if(code=digits.charCodeAt(i),code<48||code>maxCode)return NaN;return parseInt(digits,radix)}}return+it};if(!$Number(" 0o1")||!$Number("0b1")||$Number("+0x1")){$Number=function(value){var it=arguments.length<1?0:value,that=this;return that instanceof $Number&&(BROKEN_COF?fails(function(){proto.valueOf.call(that)}):cof(that)!=NUMBER)?inheritIfRequired(new Base(toNumber(it)),that,$Number):toNumber(it)};for(var key,keys=_dereq_(28)?gOPN(Base):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),j=0;keys.length>j;j++)has(Base,key=keys[j])&&!has($Number,key)&&dP($Number,key,gOPD(Base,key));$Number.prototype=proto,proto.constructor=$Number,_dereq_(87)(global,NUMBER,$Number)}},{102:102,110:110,18:18,28:28,34:34,38:38,39:39,43:43,66:66,67:67,70:70,72:72,87:87}],168:[function(_dereq_,module,exports){var $export=_dereq_(32);$export($export.S,"Number",{EPSILON:Math.pow(2,-52)})},{32:32}],169:[function(_dereq_,module,exports){var $export=_dereq_(32),_isFinite=_dereq_(38).isFinite;$export($export.S,"Number",{isFinite:function(it){return"number"==typeof it&&_isFinite(it)}})},{32:32,38:38}],170:[function(_dereq_,module,exports){var $export=_dereq_(32);$export($export.S,"Number",{isInteger:_dereq_(48)})},{32:32,48:48}],171:[function(_dereq_,module,exports){var $export=_dereq_(32);$export($export.S,"Number",{isNaN:function(number){return number!=number}})},{32:32}],172:[function(_dereq_,module,exports){var $export=_dereq_(32),isInteger=_dereq_(48),abs=Math.abs;$export($export.S,"Number",{isSafeInteger:function(number){return isInteger(number)&&abs(number)<=9007199254740991}})},{32:32,48:48}],173:[function(_dereq_,module,exports){var $export=_dereq_(32);$export($export.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{32:32}],174:[function(_dereq_,module,exports){var $export=_dereq_(32);$export($export.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{32:32}],175:[function(_dereq_,module,exports){var $export=_dereq_(32),$parseFloat=_dereq_(81);$export($export.S+$export.F*(Number.parseFloat!=$parseFloat),"Number",{parseFloat:$parseFloat})},{32:32,81:81}],176:[function(_dereq_,module,exports){var $export=_dereq_(32),$parseInt=_dereq_(82);$export($export.S+$export.F*(Number.parseInt!=$parseInt),"Number",{parseInt:$parseInt})},{32:32,82:82}],177:[function(_dereq_,module,exports){"use strict";var $export=_dereq_(32),toInteger=_dereq_(106),aNumberValue=_dereq_(4),repeat=_dereq_(101),$toFixed=1..toFixed,floor=Math.floor,data=[0,0,0,0,0,0],ERROR="Number.toFixed: incorrect invocation!",ZERO="0",multiply=function(n,c){for(var i=-1,c2=c;++i<6;)c2+=n*data[i],data[i]=c2%1e7,c2=floor(c2/1e7)},divide=function(n){for(var i=6,c=0;--i>=0;)c+=data[i],data[i]=floor(c/n),c=c%n*1e7},numToString=function(){for(var i=6,s="";--i>=0;)if(""!==s||0===i||0!==data[i]){var t=String(data[i]);s=""===s?t:s+repeat.call(ZERO,7-t.length)+t}return s},pow=function(x,n,acc){return 0===n?acc:n%2===1?pow(x,n-1,acc*x):pow(x*x,n/2,acc)},log=function(x){for(var n=0,x2=x;x2>=4096;)n+=12,x2/=4096;for(;x2>=2;)n+=1,x2/=2;return n};$export($export.P+$export.F*(!!$toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!_dereq_(34)(function(){$toFixed.call({})})),"Number",{toFixed:function(fractionDigits){var e,z,j,k,x=aNumberValue(this,ERROR),f=toInteger(fractionDigits),s="",m=ZERO;if(f<0||f>20)throw RangeError(ERROR);if(x!=x)return"NaN";if(x<=-1e21||x>=1e21)return String(x);if(x<0&&(s="-",x=-x),x>1e-21)if(e=log(x*pow(2,69,1))-69,z=e<0?x*pow(2,-e,1):x/pow(2,e,1),z*=4503599627370496,e=52-e,e>0){for(multiply(0,z),j=f;j>=7;)multiply(1e7,0),j-=7;for(multiply(pow(10,j,1),0),j=e-1;j>=23;)divide(1<<23),j-=23;divide(1<<j),multiply(1,1),divide(2),m=numToString()}else multiply(0,z),multiply(1<<-e,0),m=numToString()+repeat.call(ZERO,f);return f>0?(k=m.length,m=s+(k<=f?"0."+repeat.call(ZERO,f-k)+m:m.slice(0,k-f)+"."+m.slice(k-f))):m=s+m,m}})},{101:101,106:106,32:32,34:34,4:4}],178:[function(_dereq_,module,exports){"use strict";var $export=_dereq_(32),$fails=_dereq_(34),aNumberValue=_dereq_(4),$toPrecision=1..toPrecision;$export($export.P+$export.F*($fails(function(){return"1"!==$toPrecision.call(1,void 0)})||!$fails(function(){$toPrecision.call({})})),"Number",{toPrecision:function(precision){var that=aNumberValue(this,"Number#toPrecision: incorrect invocation!");return void 0===precision?$toPrecision.call(that):$toPrecision.call(that,precision)}})},{32:32,34:34,4:4}],179:[function(_dereq_,module,exports){var $export=_dereq_(32);$export($export.S+$export.F,"Object",{assign:_dereq_(65)})},{32:32,65:65}],180:[function(_dereq_,module,exports){var $export=_dereq_(32);$export($export.S,"Object",{create:_dereq_(66)})},{32:32,66:66}],181:[function(_dereq_,module,exports){var $export=_dereq_(32);$export($export.S+$export.F*!_dereq_(28),"Object",{defineProperties:_dereq_(68)})},{28:28,32:32,68:68}],182:[function(_dereq_,module,exports){var $export=_dereq_(32);$export($export.S+$export.F*!_dereq_(28),"Object",{defineProperty:_dereq_(67).f})},{28:28,32:32,67:67}],183:[function(_dereq_,module,exports){var isObject=_dereq_(49),meta=_dereq_(62).onFreeze;_dereq_(78)("freeze",function($freeze){return function(it){return $freeze&&isObject(it)?$freeze(meta(it)):it}})},{49:49,62:62,78:78}],184:[function(_dereq_,module,exports){var toIObject=_dereq_(107),$getOwnPropertyDescriptor=_dereq_(70).f;_dereq_(78)("getOwnPropertyDescriptor",function(){return function(it,key){return $getOwnPropertyDescriptor(toIObject(it),key)}})},{107:107,70:70,78:78}],185:[function(_dereq_,module,exports){_dereq_(78)("getOwnPropertyNames",function(){return _dereq_(71).f})},{71:71,78:78}],186:[function(_dereq_,module,exports){var toObject=_dereq_(109),$getPrototypeOf=_dereq_(74);_dereq_(78)("getPrototypeOf",function(){return function(it){return $getPrototypeOf(toObject(it))}})},{109:109,74:74,78:78}],187:[function(_dereq_,module,exports){var isObject=_dereq_(49);_dereq_(78)("isExtensible",function($isExtensible){return function(it){return!!isObject(it)&&(!$isExtensible||$isExtensible(it))}})},{49:49,78:78}],188:[function(_dereq_,module,exports){var isObject=_dereq_(49);_dereq_(78)("isFrozen",function($isFrozen){return function(it){return!isObject(it)||!!$isFrozen&&$isFrozen(it)}})},{49:49,78:78}],189:[function(_dereq_,module,exports){var isObject=_dereq_(49);_dereq_(78)("isSealed",function($isSealed){return function(it){return!isObject(it)||!!$isSealed&&$isSealed(it)}})},{49:49,78:78}],190:[function(_dereq_,module,exports){var $export=_dereq_(32);$export($export.S,"Object",{is:_dereq_(89)})},{32:32,89:89}],191:[function(_dereq_,module,exports){var toObject=_dereq_(109),$keys=_dereq_(76);_dereq_(78)("keys",function(){return function(it){return $keys(toObject(it))}})},{109:109,76:76,78:78}],192:[function(_dereq_,module,exports){var isObject=_dereq_(49),meta=_dereq_(62).onFreeze;_dereq_(78)("preventExtensions",function($preventExtensions){return function(it){return $preventExtensions&&isObject(it)?$preventExtensions(meta(it)):it}})},{49:49,62:62,78:78}],193:[function(_dereq_,module,exports){var isObject=_dereq_(49),meta=_dereq_(62).onFreeze;_dereq_(78)("seal",function($seal){return function(it){return $seal&&isObject(it)?$seal(meta(it)):it}})},{49:49,62:62,78:78}],194:[function(_dereq_,module,exports){var $export=_dereq_(32);$export($export.S,"Object",{setPrototypeOf:_dereq_(90).set})},{32:32,90:90}],195:[function(_dereq_,module,exports){"use strict";var classof=_dereq_(17),test={};test[_dereq_(117)("toStringTag")]="z",test+""!="[object z]"&&_dereq_(87)(Object.prototype,"toString",function(){return"[object "+classof(this)+"]"},!0)},{117:117,17:17,87:87}],196:[function(_dereq_,module,exports){var $export=_dereq_(32),$parseFloat=_dereq_(81);$export($export.G+$export.F*(parseFloat!=$parseFloat),{parseFloat:$parseFloat})},{32:32,81:81}],197:[function(_dereq_,module,exports){var $export=_dereq_(32),$parseInt=_dereq_(82);$export($export.G+$export.F*(parseInt!=$parseInt),{parseInt:$parseInt})},{32:32,82:82}],198:[function(_dereq_,module,exports){"use strict";var Internal,GenericPromiseCapability,Wrapper,LIBRARY=_dereq_(58),global=_dereq_(38),ctx=_dereq_(25),classof=_dereq_(17),$export=_dereq_(32),isObject=_dereq_(49),aFunction=_dereq_(3),anInstance=_dereq_(6),forOf=_dereq_(37),speciesConstructor=_dereq_(95),task=_dereq_(104).set,microtask=_dereq_(64)(),PROMISE="Promise",TypeError=global.TypeError,process=global.process,$Promise=global[PROMISE],process=global.process,isNode="process"==classof(process),empty=function(){},USE_NATIVE=!!function(){try{var promise=$Promise.resolve(1),FakePromise=(promise.constructor={})[_dereq_(117)("species")]=function(exec){exec(empty,empty)};return(isNode||"function"==typeof PromiseRejectionEvent)&&promise.then(empty)instanceof FakePromise}catch(e){}}(),sameConstructor=function(a,b){return a===b||a===$Promise&&b===Wrapper},isThenable=function(it){var then;return!(!isObject(it)||"function"!=typeof(then=it.then))&&then},newPromiseCapability=function(C){return sameConstructor($Promise,C)?new PromiseCapability(C):new GenericPromiseCapability(C)},PromiseCapability=GenericPromiseCapability=function(C){var resolve,reject;this.promise=new C(function($$resolve,$$reject){if(void 0!==resolve||void 0!==reject)throw TypeError("Bad Promise constructor");resolve=$$resolve,reject=$$reject}),this.resolve=aFunction(resolve),this.reject=aFunction(reject)},perform=function(exec){try{exec()}catch(e){return{error:e}}},notify=function(promise,isReject){if(!promise._n){promise._n=!0;var chain=promise._c;microtask(function(){for(var value=promise._v,ok=1==promise._s,i=0,run=function(reaction){var result,then,handler=ok?reaction.ok:reaction.fail,resolve=reaction.resolve,reject=reaction.reject,domain=reaction.domain;try{handler?(ok||(2==promise._h&&onHandleUnhandled(promise),promise._h=1),handler===!0?result=value:(domain&&domain.enter(),result=handler(value),domain&&domain.exit()),result===reaction.promise?reject(TypeError("Promise-chain cycle")):(then=isThenable(result))?then.call(result,resolve,reject):resolve(result)):reject(value)}catch(e){reject(e)}};chain.length>i;)run(chain[i++]);promise._c=[],promise._n=!1,isReject&&!promise._h&&onUnhandled(promise)})}},onUnhandled=function(promise){task.call(global,function(){var abrupt,handler,console,value=promise._v;if(isUnhandled(promise)&&(abrupt=perform(function(){isNode?process.emit("unhandledRejection",value,promise):(handler=global.onunhandledrejection)?handler({promise:promise,reason:value}):(console=global.console)&&console.error&&console.error("Unhandled promise rejection",value)}),promise._h=isNode||isUnhandled(promise)?2:1),promise._a=void 0,abrupt)throw abrupt.error})},isUnhandled=function(promise){if(1==promise._h)return!1;for(var reaction,chain=promise._a||promise._c,i=0;chain.length>i;)if(reaction=chain[i++],reaction.fail||!isUnhandled(reaction.promise))return!1;return!0},onHandleUnhandled=function(promise){task.call(global,function(){var handler;isNode?process.emit("rejectionHandled",promise):(handler=global.onrejectionhandled)&&handler({promise:promise,reason:promise._v})})},$reject=function(value){var promise=this;promise._d||(promise._d=!0,promise=promise._w||promise,promise._v=value,promise._s=2,promise._a||(promise._a=promise._c.slice()),notify(promise,!0))},$resolve=function(value){var then,promise=this;if(!promise._d){promise._d=!0,promise=promise._w||promise;try{if(promise===value)throw TypeError("Promise can't be resolved itself");(then=isThenable(value))?microtask(function(){var wrapper={_w:promise,_d:!1};try{then.call(value,ctx($resolve,wrapper,1),ctx($reject,wrapper,1))}catch(e){$reject.call(wrapper,e)}}):(promise._v=value,promise._s=1,notify(promise,!1))}catch(e){$reject.call({_w:promise,_d:!1},e)}}};USE_NATIVE||($Promise=function(executor){anInstance(this,$Promise,PROMISE,"_h"),aFunction(executor),Internal.call(this);try{executor(ctx($resolve,this,1),ctx($reject,this,1))}catch(err){$reject.call(this,err)}},Internal=function(executor){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},Internal.prototype=_dereq_(86)($Promise.prototype,{then:function(onFulfilled,onRejected){var reaction=newPromiseCapability(speciesConstructor(this,$Promise));return reaction.ok="function"!=typeof onFulfilled||onFulfilled,reaction.fail="function"==typeof onRejected&&onRejected,reaction.domain=isNode?process.domain:void 0,this._c.push(reaction),this._a&&this._a.push(reaction),this._s&&notify(this,!1),reaction.promise},"catch":function(onRejected){return this.then(void 0,onRejected)}}),PromiseCapability=function(){var promise=new Internal;this.promise=promise,this.resolve=ctx($resolve,promise,1),this.reject=ctx($reject,promise,1)}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Promise:$Promise}),_dereq_(92)($Promise,PROMISE),_dereq_(91)(PROMISE),Wrapper=_dereq_(23)[PROMISE],$export($export.S+$export.F*!USE_NATIVE,PROMISE,{reject:function(r){var capability=newPromiseCapability(this),$$reject=capability.reject;return $$reject(r),capability.promise}}),$export($export.S+$export.F*(LIBRARY||!USE_NATIVE),PROMISE,{resolve:function(x){if(x instanceof $Promise&&sameConstructor(x.constructor,this))return x;var capability=newPromiseCapability(this),$$resolve=capability.resolve;return $$resolve(x),capability.promise}}),$export($export.S+$export.F*!(USE_NATIVE&&_dereq_(54)(function(iter){$Promise.all(iter)["catch"](empty);
})),PROMISE,{all:function(iterable){var C=this,capability=newPromiseCapability(C),resolve=capability.resolve,reject=capability.reject,abrupt=perform(function(){var values=[],index=0,remaining=1;forOf(iterable,!1,function(promise){var $index=index++,alreadyCalled=!1;values.push(void 0),remaining++,C.resolve(promise).then(function(value){alreadyCalled||(alreadyCalled=!0,values[$index]=value,--remaining||resolve(values))},reject)}),--remaining||resolve(values)});return abrupt&&reject(abrupt.error),capability.promise},race:function(iterable){var C=this,capability=newPromiseCapability(C),reject=capability.reject,abrupt=perform(function(){forOf(iterable,!1,function(promise){C.resolve(promise).then(capability.resolve,reject)})});return abrupt&&reject(abrupt.error),capability.promise}})},{104:104,117:117,17:17,23:23,25:25,3:3,32:32,37:37,38:38,49:49,54:54,58:58,6:6,64:64,86:86,91:91,92:92,95:95}],199:[function(_dereq_,module,exports){var $export=_dereq_(32),aFunction=_dereq_(3),anObject=_dereq_(7),rApply=(_dereq_(38).Reflect||{}).apply,fApply=Function.apply;$export($export.S+$export.F*!_dereq_(34)(function(){rApply(function(){})}),"Reflect",{apply:function(target,thisArgument,argumentsList){var T=aFunction(target),L=anObject(argumentsList);return rApply?rApply(T,thisArgument,L):fApply.call(T,thisArgument,L)}})},{3:3,32:32,34:34,38:38,7:7}],200:[function(_dereq_,module,exports){var $export=_dereq_(32),create=_dereq_(66),aFunction=_dereq_(3),anObject=_dereq_(7),isObject=_dereq_(49),fails=_dereq_(34),bind=_dereq_(16),rConstruct=(_dereq_(38).Reflect||{}).construct,NEW_TARGET_BUG=fails(function(){function F(){}return!(rConstruct(function(){},[],F)instanceof F)}),ARGS_BUG=!fails(function(){rConstruct(function(){})});$export($export.S+$export.F*(NEW_TARGET_BUG||ARGS_BUG),"Reflect",{construct:function(Target,args){aFunction(Target),anObject(args);var newTarget=arguments.length<3?Target:aFunction(arguments[2]);if(ARGS_BUG&&!NEW_TARGET_BUG)return rConstruct(Target,args,newTarget);if(Target==newTarget){switch(args.length){case 0:return new Target;case 1:return new Target(args[0]);case 2:return new Target(args[0],args[1]);case 3:return new Target(args[0],args[1],args[2]);case 4:return new Target(args[0],args[1],args[2],args[3])}var $args=[null];return $args.push.apply($args,args),new(bind.apply(Target,$args))}var proto=newTarget.prototype,instance=create(isObject(proto)?proto:Object.prototype),result=Function.apply.call(Target,instance,args);return isObject(result)?result:instance}})},{16:16,3:3,32:32,34:34,38:38,49:49,66:66,7:7}],201:[function(_dereq_,module,exports){var dP=_dereq_(67),$export=_dereq_(32),anObject=_dereq_(7),toPrimitive=_dereq_(110);$export($export.S+$export.F*_dereq_(34)(function(){Reflect.defineProperty(dP.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(target,propertyKey,attributes){anObject(target),propertyKey=toPrimitive(propertyKey,!0),anObject(attributes);try{return dP.f(target,propertyKey,attributes),!0}catch(e){return!1}}})},{110:110,32:32,34:34,67:67,7:7}],202:[function(_dereq_,module,exports){var $export=_dereq_(32),gOPD=_dereq_(70).f,anObject=_dereq_(7);$export($export.S,"Reflect",{deleteProperty:function(target,propertyKey){var desc=gOPD(anObject(target),propertyKey);return!(desc&&!desc.configurable)&&delete target[propertyKey]}})},{32:32,7:7,70:70}],203:[function(_dereq_,module,exports){"use strict";var $export=_dereq_(32),anObject=_dereq_(7),Enumerate=function(iterated){this._t=anObject(iterated),this._i=0;var key,keys=this._k=[];for(key in iterated)keys.push(key)};_dereq_(52)(Enumerate,"Object",function(){var key,that=this,keys=that._k;do if(that._i>=keys.length)return{value:void 0,done:!0};while(!((key=keys[that._i++])in that._t));return{value:key,done:!1}}),$export($export.S,"Reflect",{enumerate:function(target){return new Enumerate(target)}})},{32:32,52:52,7:7}],204:[function(_dereq_,module,exports){var gOPD=_dereq_(70),$export=_dereq_(32),anObject=_dereq_(7);$export($export.S,"Reflect",{getOwnPropertyDescriptor:function(target,propertyKey){return gOPD.f(anObject(target),propertyKey)}})},{32:32,7:7,70:70}],205:[function(_dereq_,module,exports){var $export=_dereq_(32),getProto=_dereq_(74),anObject=_dereq_(7);$export($export.S,"Reflect",{getPrototypeOf:function(target){return getProto(anObject(target))}})},{32:32,7:7,74:74}],206:[function(_dereq_,module,exports){function get(target,propertyKey){var desc,proto,receiver=arguments.length<3?target:arguments[2];return anObject(target)===receiver?target[propertyKey]:(desc=gOPD.f(target,propertyKey))?has(desc,"value")?desc.value:void 0!==desc.get?desc.get.call(receiver):void 0:isObject(proto=getPrototypeOf(target))?get(proto,propertyKey,receiver):void 0}var gOPD=_dereq_(70),getPrototypeOf=_dereq_(74),has=_dereq_(39),$export=_dereq_(32),isObject=_dereq_(49),anObject=_dereq_(7);$export($export.S,"Reflect",{get:get})},{32:32,39:39,49:49,7:7,70:70,74:74}],207:[function(_dereq_,module,exports){var $export=_dereq_(32);$export($export.S,"Reflect",{has:function(target,propertyKey){return propertyKey in target}})},{32:32}],208:[function(_dereq_,module,exports){var $export=_dereq_(32),anObject=_dereq_(7),$isExtensible=Object.isExtensible;$export($export.S,"Reflect",{isExtensible:function(target){return anObject(target),!$isExtensible||$isExtensible(target)}})},{32:32,7:7}],209:[function(_dereq_,module,exports){var $export=_dereq_(32);$export($export.S,"Reflect",{ownKeys:_dereq_(80)})},{32:32,80:80}],210:[function(_dereq_,module,exports){var $export=_dereq_(32),anObject=_dereq_(7),$preventExtensions=Object.preventExtensions;$export($export.S,"Reflect",{preventExtensions:function(target){anObject(target);try{return $preventExtensions&&$preventExtensions(target),!0}catch(e){return!1}}})},{32:32,7:7}],211:[function(_dereq_,module,exports){var $export=_dereq_(32),setProto=_dereq_(90);setProto&&$export($export.S,"Reflect",{setPrototypeOf:function(target,proto){setProto.check(target,proto);try{return setProto.set(target,proto),!0}catch(e){return!1}}})},{32:32,90:90}],212:[function(_dereq_,module,exports){function set(target,propertyKey,V){var existingDescriptor,proto,receiver=arguments.length<4?target:arguments[3],ownDesc=gOPD.f(anObject(target),propertyKey);if(!ownDesc){if(isObject(proto=getPrototypeOf(target)))return set(proto,propertyKey,V,receiver);ownDesc=createDesc(0)}return has(ownDesc,"value")?!(ownDesc.writable===!1||!isObject(receiver))&&(existingDescriptor=gOPD.f(receiver,propertyKey)||createDesc(0),existingDescriptor.value=V,dP.f(receiver,propertyKey,existingDescriptor),!0):void 0!==ownDesc.set&&(ownDesc.set.call(receiver,V),!0)}var dP=_dereq_(67),gOPD=_dereq_(70),getPrototypeOf=_dereq_(74),has=_dereq_(39),$export=_dereq_(32),createDesc=_dereq_(85),anObject=_dereq_(7),isObject=_dereq_(49);$export($export.S,"Reflect",{set:set})},{32:32,39:39,49:49,67:67,7:7,70:70,74:74,85:85}],213:[function(_dereq_,module,exports){var global=_dereq_(38),inheritIfRequired=_dereq_(43),dP=_dereq_(67).f,gOPN=_dereq_(72).f,isRegExp=_dereq_(50),$flags=_dereq_(36),$RegExp=global.RegExp,Base=$RegExp,proto=$RegExp.prototype,re1=/a/g,re2=/a/g,CORRECT_NEW=new $RegExp(re1)!==re1;if(_dereq_(28)&&(!CORRECT_NEW||_dereq_(34)(function(){return re2[_dereq_(117)("match")]=!1,$RegExp(re1)!=re1||$RegExp(re2)==re2||"/a/i"!=$RegExp(re1,"i")}))){$RegExp=function(p,f){var tiRE=this instanceof $RegExp,piRE=isRegExp(p),fiU=void 0===f;return!tiRE&&piRE&&p.constructor===$RegExp&&fiU?p:inheritIfRequired(CORRECT_NEW?new Base(piRE&&!fiU?p.source:p,f):Base((piRE=p instanceof $RegExp)?p.source:p,piRE&&fiU?$flags.call(p):f),tiRE?this:proto,$RegExp)};for(var proxy=(function(key){key in $RegExp||dP($RegExp,key,{configurable:!0,get:function(){return Base[key]},set:function(it){Base[key]=it}})}),keys=gOPN(Base),i=0;keys.length>i;)proxy(keys[i++]);proto.constructor=$RegExp,$RegExp.prototype=proto,_dereq_(87)(global,"RegExp",$RegExp)}_dereq_(91)("RegExp")},{117:117,28:28,34:34,36:36,38:38,43:43,50:50,67:67,72:72,87:87,91:91}],214:[function(_dereq_,module,exports){_dereq_(28)&&"g"!=/./g.flags&&_dereq_(67).f(RegExp.prototype,"flags",{configurable:!0,get:_dereq_(36)})},{28:28,36:36,67:67}],215:[function(_dereq_,module,exports){_dereq_(35)("match",1,function(defined,MATCH,$match){return[function(regexp){"use strict";var O=defined(this),fn=void 0==regexp?void 0:regexp[MATCH];return void 0!==fn?fn.call(regexp,O):new RegExp(regexp)[MATCH](String(O))},$match]})},{35:35}],216:[function(_dereq_,module,exports){_dereq_(35)("replace",2,function(defined,REPLACE,$replace){return[function(searchValue,replaceValue){"use strict";var O=defined(this),fn=void 0==searchValue?void 0:searchValue[REPLACE];return void 0!==fn?fn.call(searchValue,O,replaceValue):$replace.call(String(O),searchValue,replaceValue)},$replace]})},{35:35}],217:[function(_dereq_,module,exports){_dereq_(35)("search",1,function(defined,SEARCH,$search){return[function(regexp){"use strict";var O=defined(this),fn=void 0==regexp?void 0:regexp[SEARCH];return void 0!==fn?fn.call(regexp,O):new RegExp(regexp)[SEARCH](String(O))},$search]})},{35:35}],218:[function(_dereq_,module,exports){_dereq_(35)("split",2,function(defined,SPLIT,$split){"use strict";var isRegExp=_dereq_(50),_split=$split,$push=[].push,$SPLIT="split",LENGTH="length",LAST_INDEX="lastIndex";if("c"=="abbc"[$SPLIT](/(b)*/)[1]||4!="test"[$SPLIT](/(?:)/,-1)[LENGTH]||2!="ab"[$SPLIT](/(?:ab)*/)[LENGTH]||4!="."[$SPLIT](/(.?)(.?)/)[LENGTH]||"."[$SPLIT](/()()/)[LENGTH]>1||""[$SPLIT](/.?/)[LENGTH]){var NPCG=void 0===/()??/.exec("")[1];$split=function(separator,limit){var string=String(this);if(void 0===separator&&0===limit)return[];if(!isRegExp(separator))return _split.call(string,separator,limit);var separator2,match,lastIndex,lastLength,i,output=[],flags=(separator.ignoreCase?"i":"")+(separator.multiline?"m":"")+(separator.unicode?"u":"")+(separator.sticky?"y":""),lastLastIndex=0,splitLimit=void 0===limit?4294967295:limit>>>0,separatorCopy=new RegExp(separator.source,flags+"g");for(NPCG||(separator2=new RegExp("^"+separatorCopy.source+"$(?!\\s)",flags));(match=separatorCopy.exec(string))&&(lastIndex=match.index+match[0][LENGTH],!(lastIndex>lastLastIndex&&(output.push(string.slice(lastLastIndex,match.index)),!NPCG&&match[LENGTH]>1&&match[0].replace(separator2,function(){for(i=1;i<arguments[LENGTH]-2;i++)void 0===arguments[i]&&(match[i]=void 0)}),match[LENGTH]>1&&match.index<string[LENGTH]&&$push.apply(output,match.slice(1)),lastLength=match[0][LENGTH],lastLastIndex=lastIndex,output[LENGTH]>=splitLimit)));)separatorCopy[LAST_INDEX]===match.index&&separatorCopy[LAST_INDEX]++;return lastLastIndex===string[LENGTH]?!lastLength&&separatorCopy.test("")||output.push(""):output.push(string.slice(lastLastIndex)),output[LENGTH]>splitLimit?output.slice(0,splitLimit):output}}else"0"[$SPLIT](void 0,0)[LENGTH]&&($split=function(separator,limit){return void 0===separator&&0===limit?[]:_split.call(this,separator,limit)});return[function(separator,limit){var O=defined(this),fn=void 0==separator?void 0:separator[SPLIT];return void 0!==fn?fn.call(separator,O,limit):$split.call(String(O),separator,limit)},$split]})},{35:35,50:50}],219:[function(_dereq_,module,exports){"use strict";_dereq_(214);var anObject=_dereq_(7),$flags=_dereq_(36),DESCRIPTORS=_dereq_(28),TO_STRING="toString",$toString=/./[TO_STRING],define=function(fn){_dereq_(87)(RegExp.prototype,TO_STRING,fn,!0)};_dereq_(34)(function(){return"/a/b"!=$toString.call({source:"a",flags:"b"})})?define(function(){var R=anObject(this);return"/".concat(R.source,"/","flags"in R?R.flags:!DESCRIPTORS&&R instanceof RegExp?$flags.call(R):void 0)}):$toString.name!=TO_STRING&&define(function(){return $toString.call(this)})},{214:214,28:28,34:34,36:36,7:7,87:87}],220:[function(_dereq_,module,exports){"use strict";var strong=_dereq_(19);module.exports=_dereq_(22)("Set",function(get){return function(){return get(this,arguments.length>0?arguments[0]:void 0)}},{add:function(value){return strong.def(this,value=0===value?0:value,value)}},strong)},{19:19,22:22}],221:[function(_dereq_,module,exports){"use strict";_dereq_(99)("anchor",function(createHTML){return function(name){return createHTML(this,"a","name",name)}})},{99:99}],222:[function(_dereq_,module,exports){"use strict";_dereq_(99)("big",function(createHTML){return function(){return createHTML(this,"big","","")}})},{99:99}],223:[function(_dereq_,module,exports){"use strict";_dereq_(99)("blink",function(createHTML){return function(){return createHTML(this,"blink","","")}})},{99:99}],224:[function(_dereq_,module,exports){"use strict";_dereq_(99)("bold",function(createHTML){return function(){return createHTML(this,"b","","")}})},{99:99}],225:[function(_dereq_,module,exports){"use strict";var $export=_dereq_(32),$at=_dereq_(97)(!1);$export($export.P,"String",{codePointAt:function(pos){return $at(this,pos)}})},{32:32,97:97}],226:[function(_dereq_,module,exports){"use strict";var $export=_dereq_(32),toLength=_dereq_(108),context=_dereq_(98),ENDS_WITH="endsWith",$endsWith=""[ENDS_WITH];$export($export.P+$export.F*_dereq_(33)(ENDS_WITH),"String",{endsWith:function(searchString){var that=context(this,searchString,ENDS_WITH),endPosition=arguments.length>1?arguments[1]:void 0,len=toLength(that.length),end=void 0===endPosition?len:Math.min(toLength(endPosition),len),search=String(searchString);return $endsWith?$endsWith.call(that,search,end):that.slice(end-search.length,end)===search}})},{108:108,32:32,33:33,98:98}],227:[function(_dereq_,module,exports){"use strict";_dereq_(99)("fixed",function(createHTML){return function(){return createHTML(this,"tt","","")}})},{99:99}],228:[function(_dereq_,module,exports){"use strict";_dereq_(99)("fontcolor",function(createHTML){return function(color){return createHTML(this,"font","color",color)}})},{99:99}],229:[function(_dereq_,module,exports){"use strict";_dereq_(99)("fontsize",function(createHTML){return function(size){return createHTML(this,"font","size",size)}})},{99:99}],230:[function(_dereq_,module,exports){var $export=_dereq_(32),toIndex=_dereq_(105),fromCharCode=String.fromCharCode,$fromCodePoint=String.fromCodePoint;$export($export.S+$export.F*(!!$fromCodePoint&&1!=$fromCodePoint.length),"String",{fromCodePoint:function(x){for(var code,res=[],aLen=arguments.length,i=0;aLen>i;){if(code=+arguments[i++],toIndex(code,1114111)!==code)throw RangeError(code+" is not a valid code point");res.push(code<65536?fromCharCode(code):fromCharCode(((code-=65536)>>10)+55296,code%1024+56320))}return res.join("")}})},{105:105,32:32}],231:[function(_dereq_,module,exports){"use strict";var $export=_dereq_(32),context=_dereq_(98),INCLUDES="includes";$export($export.P+$export.F*_dereq_(33)(INCLUDES),"String",{includes:function(searchString){return!!~context(this,searchString,INCLUDES).indexOf(searchString,arguments.length>1?arguments[1]:void 0)}})},{32:32,33:33,98:98}],232:[function(_dereq_,module,exports){"use strict";_dereq_(99)("italics",function(createHTML){return function(){return createHTML(this,"i","","")}})},{99:99}],233:[function(_dereq_,module,exports){"use strict";var $at=_dereq_(97)(!0);_dereq_(53)(String,"String",function(iterated){this._t=String(iterated),this._i=0},function(){var point,O=this._t,index=this._i;return index>=O.length?{value:void 0,done:!0}:(point=$at(O,index),this._i+=point.length,{value:point,done:!1})})},{53:53,97:97}],234:[function(_dereq_,module,exports){"use strict";_dereq_(99)("link",function(createHTML){return function(url){return createHTML(this,"a","href",url)}})},{99:99}],235:[function(_dereq_,module,exports){var $export=_dereq_(32),toIObject=_dereq_(107),toLength=_dereq_(108);$export($export.S,"String",{raw:function(callSite){for(var tpl=toIObject(callSite.raw),len=toLength(tpl.length),aLen=arguments.length,res=[],i=0;len>i;)res.push(String(tpl[i++])),i<aLen&&res.push(String(arguments[i]));return res.join("")}})},{107:107,108:108,32:32}],236:[function(_dereq_,module,exports){var $export=_dereq_(32);$export($export.P,"String",{repeat:_dereq_(101)})},{101:101,32:32}],237:[function(_dereq_,module,exports){"use strict";_dereq_(99)("small",function(createHTML){return function(){return createHTML(this,"small","","")}})},{99:99}],238:[function(_dereq_,module,exports){"use strict";var $export=_dereq_(32),toLength=_dereq_(108),context=_dereq_(98),STARTS_WITH="startsWith",$startsWith=""[STARTS_WITH];$export($export.P+$export.F*_dereq_(33)(STARTS_WITH),"String",{startsWith:function(searchString){var that=context(this,searchString,STARTS_WITH),index=toLength(Math.min(arguments.length>1?arguments[1]:void 0,that.length)),search=String(searchString);return $startsWith?$startsWith.call(that,search,index):that.slice(index,index+search.length)===search}})},{108:108,32:32,33:33,98:98}],239:[function(_dereq_,module,exports){"use strict";_dereq_(99)("strike",function(createHTML){return function(){return createHTML(this,"strike","","")}})},{99:99}],240:[function(_dereq_,module,exports){"use strict";_dereq_(99)("sub",function(createHTML){return function(){return createHTML(this,"sub","","")}})},{99:99}],241:[function(_dereq_,module,exports){"use strict";_dereq_(99)("sup",function(createHTML){return function(){return createHTML(this,"sup","","")}})},{99:99}],242:[function(_dereq_,module,exports){"use strict";_dereq_(102)("trim",function($trim){return function(){return $trim(this,3)}})},{102:102}],243:[function(_dereq_,module,exports){"use strict";var global=_dereq_(38),has=_dereq_(39),DESCRIPTORS=_dereq_(28),$export=_dereq_(32),redefine=_dereq_(87),META=_dereq_(62).KEY,$fails=_dereq_(34),shared=_dereq_(94),setToStringTag=_dereq_(92),uid=_dereq_(114),wks=_dereq_(117),wksExt=_dereq_(116),wksDefine=_dereq_(115),keyOf=_dereq_(57),enumKeys=_dereq_(31),isArray=_dereq_(47),anObject=_dereq_(7),toIObject=_dereq_(107),toPrimitive=_dereq_(110),createDesc=_dereq_(85),_create=_dereq_(66),gOPNExt=_dereq_(71),$GOPD=_dereq_(70),$DP=_dereq_(67),$keys=_dereq_(76),gOPD=$GOPD.f,dP=$DP.f,gOPN=gOPNExt.f,$Symbol=global.Symbol,$JSON=global.JSON,_stringify=$JSON&&$JSON.stringify,PROTOTYPE="prototype",HIDDEN=wks("_hidden"),TO_PRIMITIVE=wks("toPrimitive"),isEnum={}.propertyIsEnumerable,SymbolRegistry=shared("symbol-registry"),AllSymbols=shared("symbols"),OPSymbols=shared("op-symbols"),ObjectProto=Object[PROTOTYPE],USE_NATIVE="function"==typeof $Symbol,QObject=global.QObject,setter=!QObject||!QObject[PROTOTYPE]||!QObject[PROTOTYPE].findChild,setSymbolDesc=DESCRIPTORS&&$fails(function(){return 7!=_create(dP({},"a",{get:function(){return dP(this,"a",{value:7}).a}})).a})?function(it,key,D){var protoDesc=gOPD(ObjectProto,key);protoDesc&&delete ObjectProto[key],dP(it,key,D),protoDesc&&it!==ObjectProto&&dP(ObjectProto,key,protoDesc)}:dP,wrap=function(tag){var sym=AllSymbols[tag]=_create($Symbol[PROTOTYPE]);return sym._k=tag,sym},isSymbol=USE_NATIVE&&"symbol"==typeof $Symbol.iterator?function(it){return"symbol"==typeof it}:function(it){return it instanceof $Symbol},$defineProperty=function(it,key,D){return it===ObjectProto&&$defineProperty(OPSymbols,key,D),anObject(it),key=toPrimitive(key,!0),anObject(D),has(AllSymbols,key)?(D.enumerable?(has(it,HIDDEN)&&it[HIDDEN][key]&&(it[HIDDEN][key]=!1),D=_create(D,{enumerable:createDesc(0,!1)})):(has(it,HIDDEN)||dP(it,HIDDEN,createDesc(1,{})),it[HIDDEN][key]=!0),setSymbolDesc(it,key,D)):dP(it,key,D)},$defineProperties=function(it,P){anObject(it);for(var key,keys=enumKeys(P=toIObject(P)),i=0,l=keys.length;l>i;)$defineProperty(it,key=keys[i++],P[key]);return it},$create=function(it,P){return void 0===P?_create(it):$defineProperties(_create(it),P)},$propertyIsEnumerable=function(key){var E=isEnum.call(this,key=toPrimitive(key,!0));return!(this===ObjectProto&&has(AllSymbols,key)&&!has(OPSymbols,key))&&(!(E||!has(this,key)||!has(AllSymbols,key)||has(this,HIDDEN)&&this[HIDDEN][key])||E)},$getOwnPropertyDescriptor=function(it,key){if(it=toIObject(it),key=toPrimitive(key,!0),it!==ObjectProto||!has(AllSymbols,key)||has(OPSymbols,key)){var D=gOPD(it,key);return!D||!has(AllSymbols,key)||has(it,HIDDEN)&&it[HIDDEN][key]||(D.enumerable=!0),D}},$getOwnPropertyNames=function(it){for(var key,names=gOPN(toIObject(it)),result=[],i=0;names.length>i;)has(AllSymbols,key=names[i++])||key==HIDDEN||key==META||result.push(key);return result},$getOwnPropertySymbols=function(it){for(var key,IS_OP=it===ObjectProto,names=gOPN(IS_OP?OPSymbols:toIObject(it)),result=[],i=0;names.length>i;)!has(AllSymbols,key=names[i++])||IS_OP&&!has(ObjectProto,key)||result.push(AllSymbols[key]);return result};USE_NATIVE||($Symbol=function(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor!");var tag=uid(arguments.length>0?arguments[0]:void 0),$set=function(value){this===ObjectProto&&$set.call(OPSymbols,value),has(this,HIDDEN)&&has(this[HIDDEN],tag)&&(this[HIDDEN][tag]=!1),setSymbolDesc(this,tag,createDesc(1,value))};return DESCRIPTORS&&setter&&setSymbolDesc(ObjectProto,tag,{configurable:!0,set:$set}),wrap(tag)},redefine($Symbol[PROTOTYPE],"toString",function(){return this._k}),$GOPD.f=$getOwnPropertyDescriptor,$DP.f=$defineProperty,_dereq_(72).f=gOPNExt.f=$getOwnPropertyNames,_dereq_(77).f=$propertyIsEnumerable,_dereq_(73).f=$getOwnPropertySymbols,DESCRIPTORS&&!_dereq_(58)&&redefine(ObjectProto,"propertyIsEnumerable",$propertyIsEnumerable,!0),wksExt.f=function(name){return wrap(wks(name))}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Symbol:$Symbol});for(var symbols="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),i=0;symbols.length>i;)wks(symbols[i++]);for(var symbols=$keys(wks.store),i=0;symbols.length>i;)wksDefine(symbols[i++]);$export($export.S+$export.F*!USE_NATIVE,"Symbol",{"for":function(key){return has(SymbolRegistry,key+="")?SymbolRegistry[key]:SymbolRegistry[key]=$Symbol(key)},keyFor:function(key){if(isSymbol(key))return keyOf(SymbolRegistry,key);throw TypeError(key+" is not a symbol!")},useSetter:function(){setter=!0},useSimple:function(){setter=!1}}),$export($export.S+$export.F*!USE_NATIVE,"Object",{create:$create,defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols}),$JSON&&$export($export.S+$export.F*(!USE_NATIVE||$fails(function(){var S=$Symbol();return"[null]"!=_stringify([S])||"{}"!=_stringify({a:S})||"{}"!=_stringify(Object(S))})),"JSON",{stringify:function(it){if(void 0!==it&&!isSymbol(it)){for(var replacer,$replacer,args=[it],i=1;arguments.length>i;)args.push(arguments[i++]);return replacer=args[1],"function"==typeof replacer&&($replacer=replacer),!$replacer&&isArray(replacer)||(replacer=function(key,value){if($replacer&&(value=$replacer.call(this,key,value)),!isSymbol(value))return value}),args[1]=replacer,_stringify.apply($JSON,args)}}}),$Symbol[PROTOTYPE][TO_PRIMITIVE]||_dereq_(40)($Symbol[PROTOTYPE],TO_PRIMITIVE,$Symbol[PROTOTYPE].valueOf),setToStringTag($Symbol,"Symbol"),setToStringTag(Math,"Math",!0),setToStringTag(global.JSON,"JSON",!0)},{107:107,110:110,114:114,115:115,116:116,117:117,28:28,31:31,32:32,34:34,38:38,39:39,40:40,47:47,57:57,58:58,62:62,66:66,67:67,7:7,70:70,71:71,72:72,73:73,76:76,77:77,85:85,87:87,92:92,94:94}],244:[function(_dereq_,module,exports){"use strict";var $export=_dereq_(32),$typed=_dereq_(113),buffer=_dereq_(112),anObject=_dereq_(7),toIndex=_dereq_(105),toLength=_dereq_(108),isObject=_dereq_(49),ArrayBuffer=_dereq_(38).ArrayBuffer,speciesConstructor=_dereq_(95),$ArrayBuffer=buffer.ArrayBuffer,$DataView=buffer.DataView,$isView=$typed.ABV&&ArrayBuffer.isView,$slice=$ArrayBuffer.prototype.slice,VIEW=$typed.VIEW,ARRAY_BUFFER="ArrayBuffer";$export($export.G+$export.W+$export.F*(ArrayBuffer!==$ArrayBuffer),{ArrayBuffer:$ArrayBuffer}),$export($export.S+$export.F*!$typed.CONSTR,ARRAY_BUFFER,{isView:function(it){return $isView&&$isView(it)||isObject(it)&&VIEW in it}}),$export($export.P+$export.U+$export.F*_dereq_(34)(function(){return!new $ArrayBuffer(2).slice(1,void 0).byteLength}),ARRAY_BUFFER,{slice:function(start,end){if(void 0!==$slice&&void 0===end)return $slice.call(anObject(this),start);for(var len=anObject(this).byteLength,first=toIndex(start,len),final=toIndex(void 0===end?len:end,len),result=new(speciesConstructor(this,$ArrayBuffer))(toLength(final-first)),viewS=new $DataView(this),viewT=new $DataView(result),index=0;first<final;)viewT.setUint8(index++,viewS.getUint8(first++));return result}}),_dereq_(91)(ARRAY_BUFFER)},{105:105,108:108,112:112,113:113,32:32,34:34,38:38,49:49,7:7,91:91,95:95}],245:[function(_dereq_,module,exports){var $export=_dereq_(32);$export($export.G+$export.W+$export.F*!_dereq_(113).ABV,{DataView:_dereq_(112).DataView})},{112:112,113:113,32:32}],246:[function(_dereq_,module,exports){_dereq_(111)("Float32",4,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{111:111}],247:[function(_dereq_,module,exports){_dereq_(111)("Float64",8,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{111:111}],248:[function(_dereq_,module,exports){_dereq_(111)("Int16",2,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{111:111}],249:[function(_dereq_,module,exports){_dereq_(111)("Int32",4,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{111:111}],250:[function(_dereq_,module,exports){_dereq_(111)("Int8",1,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{111:111}],251:[function(_dereq_,module,exports){_dereq_(111)("Uint16",2,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{111:111}],252:[function(_dereq_,module,exports){_dereq_(111)("Uint32",4,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{111:111}],253:[function(_dereq_,module,exports){_dereq_(111)("Uint8",1,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{111:111}],254:[function(_dereq_,module,exports){_dereq_(111)("Uint8",1,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}},!0)},{111:111}],255:[function(_dereq_,module,exports){"use strict";var InternalMap,each=_dereq_(12)(0),redefine=_dereq_(87),meta=_dereq_(62),assign=_dereq_(65),weak=_dereq_(21),isObject=_dereq_(49),getWeak=meta.getWeak,isExtensible=Object.isExtensible,uncaughtFrozenStore=weak.ufstore,tmp={},wrapper=function(get){return function(){return get(this,arguments.length>0?arguments[0]:void 0)}},methods={get:function(key){if(isObject(key)){var data=getWeak(key);return data===!0?uncaughtFrozenStore(this).get(key):data?data[this._i]:void 0}},set:function(key,value){return weak.def(this,key,value)}},$WeakMap=module.exports=_dereq_(22)("WeakMap",wrapper,methods,weak,!0,!0);7!=(new $WeakMap).set((Object.freeze||Object)(tmp),7).get(tmp)&&(InternalMap=weak.getConstructor(wrapper),assign(InternalMap.prototype,methods),meta.NEED=!0,each(["delete","has","get","set"],function(key){var proto=$WeakMap.prototype,method=proto[key];redefine(proto,key,function(a,b){if(isObject(a)&&!isExtensible(a)){this._f||(this._f=new InternalMap);var result=this._f[key](a,b);return"set"==key?this:result}return method.call(this,a,b)})}))},{12:12,21:21,22:22,49:49,62:62,65:65,87:87}],256:[function(_dereq_,module,exports){"use strict";var weak=_dereq_(21);_dereq_(22)("WeakSet",function(get){return function(){return get(this,arguments.length>0?arguments[0]:void 0)}},{add:function(value){return weak.def(this,value,!0)}},weak,!1,!0)},{21:21,22:22}],257:[function(_dereq_,module,exports){"use strict";var $export=_dereq_(32),$includes=_dereq_(11)(!0);$export($export.P,"Array",{includes:function(el){return $includes(this,el,arguments.length>1?arguments[1]:void 0)}}),_dereq_(5)("includes")},{11:11,32:32,5:5}],258:[function(_dereq_,module,exports){var $export=_dereq_(32),microtask=_dereq_(64)(),process=_dereq_(38).process,isNode="process"==_dereq_(18)(process);$export($export.G,{asap:function(fn){var domain=isNode&&process.domain;microtask(domain?domain.bind(fn):fn)}})},{18:18,32:32,38:38,64:64}],259:[function(_dereq_,module,exports){var $export=_dereq_(32),cof=_dereq_(18);$export($export.S,"Error",{isError:function(it){return"Error"===cof(it)}})},{18:18,32:32}],260:[function(_dereq_,module,exports){var $export=_dereq_(32);$export($export.P+$export.R,"Map",{toJSON:_dereq_(20)("Map")})},{20:20,32:32}],261:[function(_dereq_,module,exports){var $export=_dereq_(32);$export($export.S,"Math",{iaddh:function(x0,x1,y0,y1){var $x0=x0>>>0,$x1=x1>>>0,$y0=y0>>>0;return $x1+(y1>>>0)+(($x0&$y0|($x0|$y0)&~($x0+$y0>>>0))>>>31)|0}})},{32:32}],262:[function(_dereq_,module,exports){var $export=_dereq_(32);$export($export.S,"Math",{imulh:function(u,v){var UINT16=65535,$u=+u,$v=+v,u0=$u&UINT16,v0=$v&UINT16,u1=$u>>16,v1=$v>>16,t=(u1*v0>>>0)+(u0*v0>>>16);return u1*v1+(t>>16)+((u0*v1>>>0)+(t&UINT16)>>16)}})},{32:32}],263:[function(_dereq_,module,exports){var $export=_dereq_(32);$export($export.S,"Math",{isubh:function(x0,x1,y0,y1){var $x0=x0>>>0,$x1=x1>>>0,$y0=y0>>>0;return $x1-(y1>>>0)-((~$x0&$y0|~($x0^$y0)&$x0-$y0>>>0)>>>31)|0}})},{32:32}],264:[function(_dereq_,module,exports){var $export=_dereq_(32);$export($export.S,"Math",{umulh:function(u,v){var UINT16=65535,$u=+u,$v=+v,u0=$u&UINT16,v0=$v&UINT16,u1=$u>>>16,v1=$v>>>16,t=(u1*v0>>>0)+(u0*v0>>>16);return u1*v1+(t>>>16)+((u0*v1>>>0)+(t&UINT16)>>>16)}})},{32:32}],265:[function(_dereq_,module,exports){"use strict";var $export=_dereq_(32),toObject=_dereq_(109),aFunction=_dereq_(3),$defineProperty=_dereq_(67);_dereq_(28)&&$export($export.P+_dereq_(69),"Object",{__defineGetter__:function(P,getter){$defineProperty.f(toObject(this),P,{get:aFunction(getter),enumerable:!0,configurable:!0})}})},{109:109,28:28,3:3,32:32,67:67,69:69}],266:[function(_dereq_,module,exports){"use strict";var $export=_dereq_(32),toObject=_dereq_(109),aFunction=_dereq_(3),$defineProperty=_dereq_(67);_dereq_(28)&&$export($export.P+_dereq_(69),"Object",{__defineSetter__:function(P,setter){$defineProperty.f(toObject(this),P,{set:aFunction(setter),enumerable:!0,configurable:!0})}})},{109:109,28:28,3:3,32:32,67:67,69:69}],267:[function(_dereq_,module,exports){var $export=_dereq_(32),$entries=_dereq_(79)(!0);$export($export.S,"Object",{entries:function(it){return $entries(it)}})},{32:32,79:79}],268:[function(_dereq_,module,exports){var $export=_dereq_(32),ownKeys=_dereq_(80),toIObject=_dereq_(107),gOPD=_dereq_(70),createProperty=_dereq_(24);$export($export.S,"Object",{getOwnPropertyDescriptors:function(object){for(var key,O=toIObject(object),getDesc=gOPD.f,keys=ownKeys(O),result={},i=0;keys.length>i;)createProperty(result,key=keys[i++],getDesc(O,key));return result}})},{107:107,24:24,32:32,70:70,80:80}],269:[function(_dereq_,module,exports){"use strict";var $export=_dereq_(32),toObject=_dereq_(109),toPrimitive=_dereq_(110),getPrototypeOf=_dereq_(74),getOwnPropertyDescriptor=_dereq_(70).f;_dereq_(28)&&$export($export.P+_dereq_(69),"Object",{__lookupGetter__:function(P){var D,O=toObject(this),K=toPrimitive(P,!0);do if(D=getOwnPropertyDescriptor(O,K))return D.get;while(O=getPrototypeOf(O))}})},{109:109,110:110,28:28,32:32,69:69,70:70,74:74}],270:[function(_dereq_,module,exports){"use strict";var $export=_dereq_(32),toObject=_dereq_(109),toPrimitive=_dereq_(110),getPrototypeOf=_dereq_(74),getOwnPropertyDescriptor=_dereq_(70).f;_dereq_(28)&&$export($export.P+_dereq_(69),"Object",{__lookupSetter__:function(P){var D,O=toObject(this),K=toPrimitive(P,!0);do if(D=getOwnPropertyDescriptor(O,K))return D.set;while(O=getPrototypeOf(O))}})},{109:109,110:110,28:28,32:32,69:69,70:70,74:74}],271:[function(_dereq_,module,exports){var $export=_dereq_(32),$values=_dereq_(79)(!1);$export($export.S,"Object",{values:function(it){return $values(it)}})},{32:32,79:79}],272:[function(_dereq_,module,exports){"use strict";var $export=_dereq_(32),global=_dereq_(38),core=_dereq_(23),microtask=_dereq_(64)(),OBSERVABLE=_dereq_(117)("observable"),aFunction=_dereq_(3),anObject=_dereq_(7),anInstance=_dereq_(6),redefineAll=_dereq_(86),hide=_dereq_(40),forOf=_dereq_(37),RETURN=forOf.RETURN,getMethod=function(fn){
return null==fn?void 0:aFunction(fn)},cleanupSubscription=function(subscription){var cleanup=subscription._c;cleanup&&(subscription._c=void 0,cleanup())},subscriptionClosed=function(subscription){return void 0===subscription._o},closeSubscription=function(subscription){subscriptionClosed(subscription)||(subscription._o=void 0,cleanupSubscription(subscription))},Subscription=function(observer,subscriber){anObject(observer),this._c=void 0,this._o=observer,observer=new SubscriptionObserver(this);try{var cleanup=subscriber(observer),subscription=cleanup;null!=cleanup&&("function"==typeof cleanup.unsubscribe?cleanup=function(){subscription.unsubscribe()}:aFunction(cleanup),this._c=cleanup)}catch(e){return void observer.error(e)}subscriptionClosed(this)&&cleanupSubscription(this)};Subscription.prototype=redefineAll({},{unsubscribe:function(){closeSubscription(this)}});var SubscriptionObserver=function(subscription){this._s=subscription};SubscriptionObserver.prototype=redefineAll({},{next:function(value){var subscription=this._s;if(!subscriptionClosed(subscription)){var observer=subscription._o;try{var m=getMethod(observer.next);if(m)return m.call(observer,value)}catch(e){try{closeSubscription(subscription)}finally{throw e}}}},error:function(value){var subscription=this._s;if(subscriptionClosed(subscription))throw value;var observer=subscription._o;subscription._o=void 0;try{var m=getMethod(observer.error);if(!m)throw value;value=m.call(observer,value)}catch(e){try{cleanupSubscription(subscription)}finally{throw e}}return cleanupSubscription(subscription),value},complete:function(value){var subscription=this._s;if(!subscriptionClosed(subscription)){var observer=subscription._o;subscription._o=void 0;try{var m=getMethod(observer.complete);value=m?m.call(observer,value):void 0}catch(e){try{cleanupSubscription(subscription)}finally{throw e}}return cleanupSubscription(subscription),value}}});var $Observable=function(subscriber){anInstance(this,$Observable,"Observable","_f")._f=aFunction(subscriber)};redefineAll($Observable.prototype,{subscribe:function(observer){return new Subscription(observer,this._f)},forEach:function(fn){var that=this;return new(core.Promise||global.Promise)(function(resolve,reject){aFunction(fn);var subscription=that.subscribe({next:function(value){try{return fn(value)}catch(e){reject(e),subscription.unsubscribe()}},error:reject,complete:resolve})})}}),redefineAll($Observable,{from:function(x){var C="function"==typeof this?this:$Observable,method=getMethod(anObject(x)[OBSERVABLE]);if(method){var observable=anObject(method.call(x));return observable.constructor===C?observable:new C(function(observer){return observable.subscribe(observer)})}return new C(function(observer){var done=!1;return microtask(function(){if(!done){try{if(forOf(x,!1,function(it){if(observer.next(it),done)return RETURN})===RETURN)return}catch(e){if(done)throw e;return void observer.error(e)}observer.complete()}}),function(){done=!0}})},of:function(){for(var i=0,l=arguments.length,items=Array(l);i<l;)items[i]=arguments[i++];return new("function"==typeof this?this:$Observable)(function(observer){var done=!1;return microtask(function(){if(!done){for(var i=0;i<items.length;++i)if(observer.next(items[i]),done)return;observer.complete()}}),function(){done=!0}})}}),hide($Observable.prototype,OBSERVABLE,function(){return this}),$export($export.G,{Observable:$Observable}),_dereq_(91)("Observable")},{117:117,23:23,3:3,32:32,37:37,38:38,40:40,6:6,64:64,7:7,86:86,91:91}],273:[function(_dereq_,module,exports){var metadata=_dereq_(63),anObject=_dereq_(7),toMetaKey=metadata.key,ordinaryDefineOwnMetadata=metadata.set;metadata.exp({defineMetadata:function(metadataKey,metadataValue,target,targetKey){ordinaryDefineOwnMetadata(metadataKey,metadataValue,anObject(target),toMetaKey(targetKey))}})},{63:63,7:7}],274:[function(_dereq_,module,exports){var metadata=_dereq_(63),anObject=_dereq_(7),toMetaKey=metadata.key,getOrCreateMetadataMap=metadata.map,store=metadata.store;metadata.exp({deleteMetadata:function(metadataKey,target){var targetKey=arguments.length<3?void 0:toMetaKey(arguments[2]),metadataMap=getOrCreateMetadataMap(anObject(target),targetKey,!1);if(void 0===metadataMap||!metadataMap["delete"](metadataKey))return!1;if(metadataMap.size)return!0;var targetMetadata=store.get(target);return targetMetadata["delete"](targetKey),!!targetMetadata.size||store["delete"](target)}})},{63:63,7:7}],275:[function(_dereq_,module,exports){var Set=_dereq_(220),from=_dereq_(10),metadata=_dereq_(63),anObject=_dereq_(7),getPrototypeOf=_dereq_(74),ordinaryOwnMetadataKeys=metadata.keys,toMetaKey=metadata.key,ordinaryMetadataKeys=function(O,P){var oKeys=ordinaryOwnMetadataKeys(O,P),parent=getPrototypeOf(O);if(null===parent)return oKeys;var pKeys=ordinaryMetadataKeys(parent,P);return pKeys.length?oKeys.length?from(new Set(oKeys.concat(pKeys))):pKeys:oKeys};metadata.exp({getMetadataKeys:function(target){return ordinaryMetadataKeys(anObject(target),arguments.length<2?void 0:toMetaKey(arguments[1]))}})},{10:10,220:220,63:63,7:7,74:74}],276:[function(_dereq_,module,exports){var metadata=_dereq_(63),anObject=_dereq_(7),getPrototypeOf=_dereq_(74),ordinaryHasOwnMetadata=metadata.has,ordinaryGetOwnMetadata=metadata.get,toMetaKey=metadata.key,ordinaryGetMetadata=function(MetadataKey,O,P){var hasOwn=ordinaryHasOwnMetadata(MetadataKey,O,P);if(hasOwn)return ordinaryGetOwnMetadata(MetadataKey,O,P);var parent=getPrototypeOf(O);return null!==parent?ordinaryGetMetadata(MetadataKey,parent,P):void 0};metadata.exp({getMetadata:function(metadataKey,target){return ordinaryGetMetadata(metadataKey,anObject(target),arguments.length<3?void 0:toMetaKey(arguments[2]))}})},{63:63,7:7,74:74}],277:[function(_dereq_,module,exports){var metadata=_dereq_(63),anObject=_dereq_(7),ordinaryOwnMetadataKeys=metadata.keys,toMetaKey=metadata.key;metadata.exp({getOwnMetadataKeys:function(target){return ordinaryOwnMetadataKeys(anObject(target),arguments.length<2?void 0:toMetaKey(arguments[1]))}})},{63:63,7:7}],278:[function(_dereq_,module,exports){var metadata=_dereq_(63),anObject=_dereq_(7),ordinaryGetOwnMetadata=metadata.get,toMetaKey=metadata.key;metadata.exp({getOwnMetadata:function(metadataKey,target){return ordinaryGetOwnMetadata(metadataKey,anObject(target),arguments.length<3?void 0:toMetaKey(arguments[2]))}})},{63:63,7:7}],279:[function(_dereq_,module,exports){var metadata=_dereq_(63),anObject=_dereq_(7),getPrototypeOf=_dereq_(74),ordinaryHasOwnMetadata=metadata.has,toMetaKey=metadata.key,ordinaryHasMetadata=function(MetadataKey,O,P){var hasOwn=ordinaryHasOwnMetadata(MetadataKey,O,P);if(hasOwn)return!0;var parent=getPrototypeOf(O);return null!==parent&&ordinaryHasMetadata(MetadataKey,parent,P)};metadata.exp({hasMetadata:function(metadataKey,target){return ordinaryHasMetadata(metadataKey,anObject(target),arguments.length<3?void 0:toMetaKey(arguments[2]))}})},{63:63,7:7,74:74}],280:[function(_dereq_,module,exports){var metadata=_dereq_(63),anObject=_dereq_(7),ordinaryHasOwnMetadata=metadata.has,toMetaKey=metadata.key;metadata.exp({hasOwnMetadata:function(metadataKey,target){return ordinaryHasOwnMetadata(metadataKey,anObject(target),arguments.length<3?void 0:toMetaKey(arguments[2]))}})},{63:63,7:7}],281:[function(_dereq_,module,exports){var metadata=_dereq_(63),anObject=_dereq_(7),aFunction=_dereq_(3),toMetaKey=metadata.key,ordinaryDefineOwnMetadata=metadata.set;metadata.exp({metadata:function(metadataKey,metadataValue){return function(target,targetKey){ordinaryDefineOwnMetadata(metadataKey,metadataValue,(void 0!==targetKey?anObject:aFunction)(target),toMetaKey(targetKey))}}})},{3:3,63:63,7:7}],282:[function(_dereq_,module,exports){var $export=_dereq_(32);$export($export.P+$export.R,"Set",{toJSON:_dereq_(20)("Set")})},{20:20,32:32}],283:[function(_dereq_,module,exports){"use strict";var $export=_dereq_(32),$at=_dereq_(97)(!0);$export($export.P,"String",{at:function(pos){return $at(this,pos)}})},{32:32,97:97}],284:[function(_dereq_,module,exports){"use strict";var $export=_dereq_(32),defined=_dereq_(27),toLength=_dereq_(108),isRegExp=_dereq_(50),getFlags=_dereq_(36),RegExpProto=RegExp.prototype,$RegExpStringIterator=function(regexp,string){this._r=regexp,this._s=string};_dereq_(52)($RegExpStringIterator,"RegExp String",function(){var match=this._r.exec(this._s);return{value:match,done:null===match}}),$export($export.P,"String",{matchAll:function(regexp){if(defined(this),!isRegExp(regexp))throw TypeError(regexp+" is not a regexp!");var S=String(this),flags="flags"in RegExpProto?String(regexp.flags):getFlags.call(regexp),rx=new RegExp(regexp.source,~flags.indexOf("g")?flags:"g"+flags);return rx.lastIndex=toLength(regexp.lastIndex),new $RegExpStringIterator(rx,S)}})},{108:108,27:27,32:32,36:36,50:50,52:52}],285:[function(_dereq_,module,exports){"use strict";var $export=_dereq_(32),$pad=_dereq_(100);$export($export.P,"String",{padEnd:function(maxLength){return $pad(this,maxLength,arguments.length>1?arguments[1]:void 0,!1)}})},{100:100,32:32}],286:[function(_dereq_,module,exports){"use strict";var $export=_dereq_(32),$pad=_dereq_(100);$export($export.P,"String",{padStart:function(maxLength){return $pad(this,maxLength,arguments.length>1?arguments[1]:void 0,!0)}})},{100:100,32:32}],287:[function(_dereq_,module,exports){"use strict";_dereq_(102)("trimLeft",function($trim){return function(){return $trim(this,1)}},"trimStart")},{102:102}],288:[function(_dereq_,module,exports){"use strict";_dereq_(102)("trimRight",function($trim){return function(){return $trim(this,2)}},"trimEnd")},{102:102}],289:[function(_dereq_,module,exports){_dereq_(115)("asyncIterator")},{115:115}],290:[function(_dereq_,module,exports){_dereq_(115)("observable")},{115:115}],291:[function(_dereq_,module,exports){var $export=_dereq_(32);$export($export.S,"System",{global:_dereq_(38)})},{32:32,38:38}],292:[function(_dereq_,module,exports){for(var $iterators=_dereq_(130),redefine=_dereq_(87),global=_dereq_(38),hide=_dereq_(40),Iterators=_dereq_(56),wks=_dereq_(117),ITERATOR=wks("iterator"),TO_STRING_TAG=wks("toStringTag"),ArrayValues=Iterators.Array,collections=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],i=0;i<5;i++){var key,NAME=collections[i],Collection=global[NAME],proto=Collection&&Collection.prototype;if(proto){proto[ITERATOR]||hide(proto,ITERATOR,ArrayValues),proto[TO_STRING_TAG]||hide(proto,TO_STRING_TAG,NAME),Iterators[NAME]=ArrayValues;for(key in $iterators)proto[key]||redefine(proto,key,$iterators[key],!0)}}},{117:117,130:130,38:38,40:40,56:56,87:87}],293:[function(_dereq_,module,exports){var $export=_dereq_(32),$task=_dereq_(104);$export($export.G+$export.B,{setImmediate:$task.set,clearImmediate:$task.clear})},{104:104,32:32}],294:[function(_dereq_,module,exports){var global=_dereq_(38),$export=_dereq_(32),invoke=_dereq_(44),partial=_dereq_(83),navigator=global.navigator,MSIE=!!navigator&&/MSIE .\./.test(navigator.userAgent),wrap=function(set){return MSIE?function(fn,time){return set(invoke(partial,[].slice.call(arguments,2),"function"==typeof fn?fn:Function(fn)),time)}:set};$export($export.G+$export.B+$export.F*MSIE,{setTimeout:wrap(global.setTimeout),setInterval:wrap(global.setInterval)})},{32:32,38:38,44:44,83:83}],295:[function(_dereq_,module,exports){_dereq_(243),_dereq_(180),_dereq_(182),_dereq_(181),_dereq_(184),_dereq_(186),_dereq_(191),_dereq_(185),_dereq_(183),_dereq_(193),_dereq_(192),_dereq_(188),_dereq_(189),_dereq_(187),_dereq_(179),_dereq_(190),_dereq_(194),_dereq_(195),_dereq_(146),_dereq_(148),_dereq_(147),_dereq_(197),_dereq_(196),_dereq_(167),_dereq_(177),_dereq_(178),_dereq_(168),_dereq_(169),_dereq_(170),_dereq_(171),_dereq_(172),_dereq_(173),_dereq_(174),_dereq_(175),_dereq_(176),_dereq_(150),_dereq_(151),_dereq_(152),_dereq_(153),_dereq_(154),_dereq_(155),_dereq_(156),_dereq_(157),_dereq_(158),_dereq_(159),_dereq_(160),_dereq_(161),_dereq_(162),_dereq_(163),_dereq_(164),_dereq_(165),_dereq_(166),_dereq_(230),_dereq_(235),_dereq_(242),_dereq_(233),_dereq_(225),_dereq_(226),_dereq_(231),_dereq_(236),_dereq_(238),_dereq_(221),_dereq_(222),_dereq_(223),_dereq_(224),_dereq_(227),_dereq_(228),_dereq_(229),_dereq_(232),_dereq_(234),_dereq_(237),_dereq_(239),_dereq_(240),_dereq_(241),_dereq_(141),_dereq_(143),_dereq_(142),_dereq_(145),_dereq_(144),_dereq_(129),_dereq_(127),_dereq_(134),_dereq_(131),_dereq_(137),_dereq_(139),_dereq_(126),_dereq_(133),_dereq_(123),_dereq_(138),_dereq_(121),_dereq_(136),_dereq_(135),_dereq_(128),_dereq_(132),_dereq_(120),_dereq_(122),_dereq_(125),_dereq_(124),_dereq_(140),_dereq_(130),_dereq_(213),_dereq_(219),_dereq_(214),_dereq_(215),_dereq_(216),_dereq_(217),_dereq_(218),_dereq_(198),_dereq_(149),_dereq_(220),_dereq_(255),_dereq_(256),_dereq_(244),_dereq_(245),_dereq_(250),_dereq_(253),_dereq_(254),_dereq_(248),_dereq_(251),_dereq_(249),_dereq_(252),_dereq_(246),_dereq_(247),_dereq_(199),_dereq_(200),_dereq_(201),_dereq_(202),_dereq_(203),_dereq_(206),_dereq_(204),_dereq_(205),_dereq_(207),_dereq_(208),_dereq_(209),_dereq_(210),_dereq_(212),_dereq_(211),_dereq_(257),_dereq_(283),_dereq_(286),_dereq_(285),_dereq_(287),_dereq_(288),_dereq_(284),_dereq_(289),_dereq_(290),_dereq_(268),_dereq_(271),_dereq_(267),_dereq_(265),_dereq_(266),_dereq_(269),_dereq_(270),_dereq_(260),_dereq_(282),_dereq_(291),_dereq_(259),_dereq_(261),_dereq_(263),_dereq_(262),_dereq_(264),_dereq_(273),_dereq_(274),_dereq_(276),_dereq_(275),_dereq_(278),_dereq_(277),_dereq_(279),_dereq_(280),_dereq_(281),_dereq_(258),_dereq_(272),_dereq_(294),_dereq_(293),_dereq_(292),module.exports=_dereq_(23)},{120:120,121:121,122:122,123:123,124:124,125:125,126:126,127:127,128:128,129:129,130:130,131:131,132:132,133:133,134:134,135:135,136:136,137:137,138:138,139:139,140:140,141:141,142:142,143:143,144:144,145:145,146:146,147:147,148:148,149:149,150:150,151:151,152:152,153:153,154:154,155:155,156:156,157:157,158:158,159:159,160:160,161:161,162:162,163:163,164:164,165:165,166:166,167:167,168:168,169:169,170:170,171:171,172:172,173:173,174:174,175:175,176:176,177:177,178:178,179:179,180:180,181:181,182:182,183:183,184:184,185:185,186:186,187:187,188:188,189:189,190:190,191:191,192:192,193:193,194:194,195:195,196:196,197:197,198:198,199:199,200:200,201:201,202:202,203:203,204:204,205:205,206:206,207:207,208:208,209:209,210:210,211:211,212:212,213:213,214:214,215:215,216:216,217:217,218:218,219:219,220:220,221:221,222:222,223:223,224:224,225:225,226:226,227:227,228:228,229:229,23:23,230:230,231:231,232:232,233:233,234:234,235:235,236:236,237:237,238:238,239:239,240:240,241:241,242:242,243:243,244:244,245:245,246:246,247:247,248:248,249:249,250:250,251:251,252:252,253:253,254:254,255:255,256:256,257:257,258:258,259:259,260:260,261:261,262:262,263:263,264:264,265:265,266:266,267:267,268:268,269:269,270:270,271:271,272:272,273:273,274:274,275:275,276:276,277:277,278:278,279:279,280:280,281:281,282:282,283:283,284:284,285:285,286:286,287:287,288:288,289:289,290:290,291:291,292:292,293:293,294:294}],296:[function(_dereq_,module,exports){(function(global){!function(global){"use strict";function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=makeInvokeMethod(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){prototype[method]=function(arg){return this._invoke(method,arg)}})}function AwaitArgument(arg){this.arg=arg}function AsyncIterator(generator){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value instanceof AwaitArgument?Promise.resolve(value.arg).then(function(value){invoke("next",value,resolve,reject)},function(err){invoke("throw",err,resolve,reject)}):Promise.resolve(value).then(function(unwrapped){result.value=unwrapped,resolve(result)},reject)}reject(record.arg)}function enqueue(method,arg){function callInvokeWithMethodAndArg(){return new Promise(function(resolve,reject){invoke(method,arg,resolve,reject)})}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}"object"==typeof process&&process.domain&&(invoke=process.domain.bind(invoke));var previousPromise;this._invoke=enqueue}function makeInvokeMethod(innerFn,self,context){var state=GenStateSuspendedStart;return function(method,arg){if(state===GenStateExecuting)throw new Error("Generator is already running");if(state===GenStateCompleted){if("throw"===method)throw arg;return doneResult()}for(;;){var delegate=context.delegate;if(delegate){if("return"===method||"throw"===method&&delegate.iterator[method]===undefined){context.delegate=null;var returnMethod=delegate.iterator["return"];if(returnMethod){var record=tryCatch(returnMethod,delegate.iterator,arg);if("throw"===record.type){method="throw",arg=record.arg;continue}}if("return"===method)continue}var record=tryCatch(delegate.iterator[method],delegate.iterator,arg);if("throw"===record.type){context.delegate=null,method="throw",arg=record.arg;continue}method="next",arg=undefined;var info=record.arg;if(!info.done)return state=GenStateSuspendedYield,info;context[delegate.resultName]=info.value,context.next=delegate.nextLoc,context.delegate=null}if("next"===method)context.sent=context._sent=arg;else if("throw"===method){if(state===GenStateSuspendedStart)throw state=GenStateCompleted,arg;context.dispatchException(arg)&&(method="next",arg=undefined)}else"return"===method&&context.abrupt("return",arg);state=GenStateExecuting;var record=tryCatch(innerFn,self,context);if("normal"===record.type){state=context.done?GenStateCompleted:GenStateSuspendedYield;var info={value:record.arg,done:context.done};if(record.arg!==ContinueSentinel)return info;context.delegate&&"next"===method&&(arg=undefined)}else"throw"===record.type&&(state=GenStateCompleted,method="throw",arg=record.arg)}}}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=undefined,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:undefined,done:!0}}var undefined,hasOwn=Object.prototype.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag",inModule="object"==typeof module,runtime=global.regeneratorRuntime;if(runtime)return void(inModule&&(module.exports=runtime));runtime=global.regeneratorRuntime=inModule?module.exports:{},runtime.wrap=wrap;var GenStateSuspendedStart="suspendedStart",GenStateSuspendedYield="suspendedYield",GenStateExecuting="executing",GenStateCompleted="completed",ContinueSentinel={},Gp=GeneratorFunctionPrototype.prototype=Generator.prototype;GeneratorFunction.prototype=Gp.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[toStringTagSymbol]=GeneratorFunction.displayName="GeneratorFunction",runtime.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},runtime.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,toStringTagSymbol in genFun||(genFun[toStringTagSymbol]="GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},runtime.awrap=function(arg){return new AwaitArgument(arg)},defineIteratorMethods(AsyncIterator.prototype),runtime.async=function(innerFn,outerFn,self,tryLocsList){var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList));return runtime.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next()})},defineIteratorMethods(Gp),Gp[iteratorSymbol]=function(){return this},Gp[toStringTagSymbol]="Generator",Gp.toString=function(){return"[object Generator]"},runtime.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},runtime.values=values,Context.prototype={constructor:Context,reset:function(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=undefined)},stop:function(){this.done=!0;var rootEntry=this.tryEntries[0],rootRecord=rootEntry.completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function(exception){function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,!!caught}if(this.done)throw exception;for(var context=this,i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?this.next=finallyEntry.finallyLoc:this.complete(record),ContinueSentinel},complete:function(record,afterLoc){if("throw"===record.type)throw record.arg;"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=record.arg,this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc)},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},"catch":function(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},ContinueSentinel}}}("object"==typeof global?global:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])}(),function(){"use strict";angular.module("walletApp.core",[])}(),function(){"use strict";function MyBlockchainApi(){return Blockchain.API}angular.module("walletApp.core").factory("MyBlockchainApi",MyBlockchainApi)}(),function(){"use strict";function MyWalletBuySell(){return Blockchain.BuySell}angular.module("walletApp.core").factory("MyWalletBuySell",MyWalletBuySell)}(),function(){"use strict";function BlockchainConstants(){return Blockchain.constants}angular.module("walletApp.core").factory("BlockchainConstants",BlockchainConstants)}(),function(){"use strict";function MyWalletHelpers(){return Blockchain.Helpers}angular.module("walletApp.core").factory("MyWalletHelpers",MyWalletHelpers)}(),function(){"use strict";function MyWallet(){return Blockchain.MyWallet}angular.module("walletApp.core").factory("MyWallet",MyWallet)}(),function(){"use strict";function MyWalletPayment(){return Blockchain.Payment}angular.module("walletApp.core").factory("MyWalletPayment",MyWalletPayment)}(),function(){"use strict";function MyBlockchainRng(){return Blockchain.RNG}angular.module("walletApp.core").factory("MyBlockchainRng",MyBlockchainRng)}(),function(){"use strict";function MyBlockchainSettings(){return Blockchain.BlockchainSettingsAPI}angular.module("walletApp.core").factory("MyBlockchainSettings",MyBlockchainSettings)}(),function(){"use strict";function MyWalletStore(){return Blockchain.WalletStore}angular.module("walletApp.core").factory("MyWalletStore",MyWalletStore)}(),function(){"use strict";function WalletNetwork(){return Blockchain.WalletNetwork}angular.module("walletApp.core").factory("WalletNetwork",WalletNetwork)}(),function(){"use strict";function WalletTokenEndpoints(){return Blockchain.WalletTokenEndpoints}angular.module("walletApp.core").factory("WalletTokenEndpoints",WalletTokenEndpoints)}(),function(){"use strict";function Activity($rootScope,$timeout,Wallet,MyWallet,buySell){function setTxSub(){var w=MyWallet.wallet;txSub||(w?txSub=w.txList.subscribe(updateTxActivities):$timeout(setTxSub,250))}function updateAllActivities(){activity.updateTxActivities(),activity.updateLogActivities()}function updateTxActivities(){activity.transactions=MyWallet.wallet.txList.transactions().slice(0,activity.limit).map(factory.bind(null,0)),combineAll()}function updateLogActivities(){Wallet.settings.loggingLevel>0?Wallet.getActivityLogs(function(logs){activity.logs=logs.results.slice(0,activity.limit).map(factory.bind(null,4)),combineAll()}):(activity.logs=[],combineAll())}function combineAll(){activity.activities=activity.transactions.concat(activity.logs).filter(hasTime).sort(timeSort).slice(0,activity.limit),$rootScope.$safeApply()}function factory(type,obj){var a={type:type};switch(type){case 0:a.title="TRANSACTION",a.icon="ti-layout-list-post",a.time=1e3*obj.time,a.message=getTxMessage(obj),a.amount=Math.abs(obj.amount),a.labelClass=obj.txType.toLowerCase();break;case 4:a.title="LOG",a.icon="ti-settings",a.time=obj.time,a.message=capitalize(obj.action),a.labelClass=obj.action.toLowerCase()}return a}function capitalize(str){return str[0].toUpperCase()+str.substr(1)}function timeSort(x,y){return y.time-x.time}function hasTime(x){return null!=x.time&&x.time>0}var txSub,activity={activities:[],transactions:[],logs:[],limit:8,timeSort:timeSort,capitalize:capitalize,factory:factory,updateTxActivities:updateTxActivities,updateLogActivities:updateLogActivities,updateAllActivities:updateAllActivities},getTxMessage=function(tx){return"buy"===buySell.getTxMethod(tx.hash)?"BOUGHT":tx.txType.toUpperCase()};return setTxSub(),$rootScope.$on("updateActivityFeed",activity.updateAllActivities),activity}angular.module("activity",[]).factory("Activity",Activity),Activity.$inject=["$rootScope","$timeout","Wallet","MyWallet","buySell"]}(),function(){"use strict";function Adverts($http,$rootScope){function fetchOnce(){service.didFetch||(service.fetch(),service.didFetch=!0)}function fetch(){var advertsFeed=$rootScope.rootURL+"adverts_feed?wallet_version=3";$http.get(advertsFeed).success(function(data){var adverts=data.partners.home_buttons.splice(0);service.ads.push(randFromArray(adverts)),service.ads.push(randFromArray(adverts))})}function randFromArray(array){return array.splice(Math.floor(Math.random()*array.length),1)[0]}var service={ads:[],didFetch:!1,fetchOnce:fetchOnce,fetch:fetch};return service}angular.module("adverts",[]).factory("Adverts",Adverts),Adverts.$inject=["$http","$rootScope"]}(),function(){"use strict";function Alerts($timeout,$rootScope,$q,$translate,$uibModal){function close(alert){var context=arguments.length>1&&void 0!==arguments[1]?arguments[1]:service.alerts;$timeout.cancel(alert.timer),context.splice(context.indexOf(alert),1)}function clear(){for(var context=arguments.length>0&&void 0!==arguments[0]?arguments[0]:service.alerts;context.length>0;){var alert=context.pop();$timeout.cancel(alert.timer)}}function isDuplicate(){var context=arguments.length>0&&void 0!==arguments[0]?arguments[0]:service.alerts,nextAlert=arguments[1];return context.some(function(alert){return alert.msg===nextAlert.msg})}function display(type,message){var keep=arguments.length>2&&void 0!==arguments[2]&&arguments[2],context=arguments.length>3&&void 0!==arguments[3]?arguments[3]:service.alerts,displayAlert=function(msg){return $q(function(resolve,reject){var alert={type:type,msg:msg},close=service.close.bind(null,alert,context);return isDuplicate(context,alert)?reject("DUPLICATE"):(alert.close=function(){close(),reject("CLOSED")},alert.action=function(){close(),resolve("CLICKED")},alert.timer=keep?null:$timeout(alert.close,7e3),void context.push(alert))})};return $translate(message).then(displayAlert,function(){return displayAlert(message)})}function displayResetTwoFactor(message){$translate(["SUCCESS"]).then(function(translations){$rootScope.$emit("showNotification",{type:"verified-email",icon:"ti-email",heading:translations.SUCCESS,msg:message})})}function confirm(namespace){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return $uibModal.open({templateUrl:"partials/modal-confirm.jade",windowClass:"bc-modal confirm "+(options.modalClass||""),controller:function($scope){return angular.extend($scope,options,{namespace:namespace})}}).result}function prompt(message){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return $uibModal.open({templateUrl:"partials/modal-prompt.jade",windowClass:"bc-modal medium",controller:function($scope){return angular.extend($scope,options,{message:message})}}).result}function saving(){return $uibModal.open({templateUrl:"partials/modal-saving.jade",windowClass:"bc-modal confirm top",backdrop:"static",keyboard:!1,controller:function($scope,$interval,$uibModalInstance,Wallet){var tick=function(){return Wallet.isSynchronizedWithServer()&&$uibModalInstance.close(!0)};$scope.timer=$interval(tick,500),$scope.$on("$destroy",function(){return $interval.cancel($scope.timer)})}}).result}var service={alerts:[],close:close,clear:clear,display:display,confirm:confirm,prompt:prompt,saving:saving,isDuplicate:isDuplicate,displayInfo:display.bind(null,"info"),displaySuccess:display.bind(null,"success"),displayWarning:display.bind(null,""),displayError:display.bind(null,"danger"),displayReceivedBitcoin:display.bind(null,"received-bitcoin"),displaySentBitcoin:display.bind(null,"sent-bitcoin"),displayResetTwoFactor:displayResetTwoFactor};return service}angular.module("walletApp").factory("Alerts",Alerts),Alerts.$inject=["$timeout","$rootScope","$q","$translate","$uibModal"]}(),function(){"use strict";function BCTranslateStaticFilesLoader($http,$q,$translateStaticFilesLoader,$rootScope){var map={de:"locales/de-26d81a0741275eb7c1f6395da1cb012e63fdd7d1.json",cs:"locales/cs-49e6a96b6d81c10bf36d67534a38ba8fbdb53a26.json",hi:"locales/hi-edc2b02753fc32514bffc48cde21b5d7605d8e42.json",
no:"locales/no-2eb5803c262470bba7dace18ad5f718b6cede433.json",ru:"locales/ru-4a77b5e69059e1b328699134ccf84dd6f63e1e05.json",pt:"locales/pt-5c141c0f8924bdb265487618ac9048d6449a5a5f.json",bg:"locales/bg-dffe299ae5db9702d77d0d708519a89e604766ef.json",fr:"locales/fr-f8037f3c958b8d0b82036c878af1e07abb062e1c.json",zh_CN:"locales/zh-cn-9701cd07149ab945a30c0ea1e0e60d826ce83b98.json","zh-cn":"locales/zh-cn-9701cd07149ab945a30c0ea1e0e60d826ce83b98.json",hu:"locales/hu-3b4eebd6a75ac93e14b81ecad3cb8797b848f8f0.json",sl:"locales/sl-a55ae76d4282d3b492f0ec034ecdc7ddfb316b0f.json",id:"locales/id-20f0526d2358addd3b04ee3e1267c3f2b4d9bb1d.json",sv:"locales/sv-fc671903c45d97fd85b208ec7424deb4daf92d9b.json",ko:"locales/ko-8fa8d95e86398e3ffc6fff19b55f9ca15af33592.json",el:"locales/el-33d715dadcdb33ba445308dc288fbbb327f1146a.json",en:"locales/en-19f4b8557bae41ab6e41594de872192eee8022ac.json",it:"locales/it-4fdc42ca5a6ece72db79d30f576808d25e8efd85.json",es:"locales/es-aaa93481a4a2c546d1ee25b186ab2a3c7b5875a0.json",vi:"locales/vi-d2d44ad1728246e0062dbaeab90d4a296fd8f8ff.json",th:"locales/th-fc34b4fc8f3182b8ee81556b3fa15f2dc6e7694a.json",ja:"locales/ja-1fae8d9c40a2bf25f371ff73e178af145777e761.json",pl:"locales/pl-138da9438c5e62614e6f3673be231ee6ab96f021.json",da:"locales/da-4f817d338f34bd45db33f172819e6bb7c46d8dfa.json",ro:"locales/ro-386e71fae8e547598bfada52594711a730bedd52.json",nl:"locales/nl-292ee324eaa5da653391f45a7bdfe79f2ebb04dc.json",tr:"locales/tr-7b3f1115f368df01c3115f4dac89ed15716b8fba.json",uk:"locales/uk-9a08c8c9f55884f3631f15d6fe282da37e0291ea.json"};return function(options){var mapped=map[options.key]||map.en,deferred=$q.defer(),httpOptions=angular.extend({url:mapped,method:"GET",params:""},options.$http),success=function(res){return $rootScope.i18nLoaded=!0,deferred.resolve(res)};return $http(httpOptions).success(success).error(function(data){deferred.reject(options.key)}),deferred.promise}}angular.module("bcTranslateStaticFilesLoader",[]).factory("BCTranslateStaticFilesLoader",BCTranslateStaticFilesLoader),BCTranslateStaticFilesLoader.$inject=["$http","$q","$translateStaticFilesLoader","$rootScope"]}(),function(){"use strict";function buySell($rootScope,$timeout,$q,$state,$uibModal,$uibModalStack,Wallet,MyWallet,MyWalletHelpers,Alerts,currency,MyWalletBuySell){function init(exchange){return exchange.trades&&setTrades(exchange.trades),exchange.monitorPayments(),$q.resolve()}function getQuote(amt,curr,quoteCurr){return amt="BTC"===curr?Math.trunc(1e8*amt):Math.trunc(100*amt),$q.resolve(service.getExchange().getBuyQuote(amt,curr,quoteCurr))}function getKYCs(){return $q.resolve(service.getExchange().getKYCs()).then(function(kycs){return service.kycs=kycs.sort(function(k0,k1){return k1.createdAt>k0.createdAt}),service.kycs})}function getRate(base,quote){var getRate=service.getExchange().exchangeRate.get(base,quote);return $q.resolve(getRate)}function calculateMax(rate,medium){var currentLimit=service.getExchange().profile.currentLimits[medium].inRemaining,userLimits=service.getExchange().profile.level.limits,dailyLimit=userLimits[medium].inDaily,limits={};return limits.max=100*Math.round(rate*dailyLimit/100),limits.available=(rate*currentLimit).toFixed(2),limits.available>limits.max&&(limits.available=limits.max),limits.available>0?limits.available:0,limits.max=limits.max.toFixed(2),limits}function triggerKYC(){return $q.resolve(service.getExchange().triggerKYC()).then(function(kyc){return service.kycs.unshift(kyc),kyc})}function pollKYC(){var kyc=service.kycs[0];kyc&&"pending"!==kyc.state||poll&&0===poll.$$state.status||(poll=service.pollUserLevel(kyc).result.then(function(){return Alerts.displaySuccess("KYC_APPROVED",!0)}).then(function(){$state.go("wallet.common.buy-sell"),$uibModalStack.dismissAll()}))}function pollUserLevel(kyc){var stop=void 0,profile=service.getExchange().profile,pollUntil=function(action,test){return $q(function(resolve){var exit=function(){stop(),resolve()},check=function(){return action().then(function(){return test()&&exit()})};stop=MyWalletHelpers.exponentialBackoff(check,maxPollTime)})},pollKyc=function(){return pollUntil(function(){return kyc.refresh()},function(){return"completed"===kyc.state})},pollProfile=function(){return pollUntil(function(){return profile.fetch()},function(){return 2===+profile.level.name})};return{cancel:function(){return stop&&stop()},result:$q.resolve(pollKyc().then(pollProfile))}}function getOpenKYC(){return service.kycs.length?$q.resolve(service.kycs[0]):service.triggerKYC()}function getTrades(){return $q.resolve(service.getExchange().getTrades()).then(setTrades)}function setTrades(trades){return service.trades.pending=trades.filter(tradeStateIn(states.pending)),service.trades.completed=trades.filter(tradeStateIn(states.completed)),service.trades.completed.filter(function(t){return tradeStateIn(states.success)(t)&&!t.bitcoinReceived&&!watching[t.receiveAddress]}).forEach(service.watchAddress),service.trades.completed.forEach(function(t){var type=t.isBuy?"buy":"sell";t.txHash&&(txHashes[t.txHash]=type)}),service.trades}function watchAddress(trade){watching[trade.receiveAddress]=!0,trade.watchAddress().then(function(){trade.txHash&&trade.isBuy&&(txHashes[trade.txHash]="buy"),service.openBuyView(trade,{bitcoinReceived:!0})})}function fetchProfile(lean){var success=function(){return $q.all([service.getTrades(),service.getKYCs(),service.getExchange().getBuyCurrencies().then(currency.updateCoinifyCurrencies)])},error=function(err){var msg=void 0;try{msg=JSON.parse(err).error.toUpperCase()}catch(e){msg="INVALID_REQUEST"}return $q.reject(msg)};return $q.resolve(service.getExchange().fetchProfile()).then(lean?function(){}:success,error)}function openBuyView(){var _trade=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return $uibModal.open({templateUrl:"partials/coinify-modal.jade",windowClass:"bc-modal auto buy",controller:"CoinifyController",backdrop:"static",keyboard:!1,resolve:{trade:function(){return _trade&&_trade.refresh().then(function(){return _trade})},buyOptions:function(){return options}}}).result}function getCurrency(trade){if(trade&&trade.inCurrency)return currency.currencies.filter(function(t){return t.code===trade.inCurrency})[0];var coinifyCurrencies=currency.coinifyCurrencies,walletCurrency=Wallet.settings.currency,isCoinifyCompatible=coinifyCurrencies.some(function(c){return c.code===walletCurrency.code}),exchange=service.getExchange(),coinifyCode=exchange&&exchange.profile?exchange.profile.defaultCurrency:"EUR";return isCoinifyCompatible?walletCurrency:coinifyCurrencies.filter(function(c){return c.code===coinifyCode})[0]}function signupForAccess(email,country){var url="https://docs.google.com/forms/d/e/1FAIpQLSeYiTe7YsqEIvaQ-P1NScFLCSPlxRh24zv06FFpNcxY_Hs0Ow/viewform?entry.1192956638="+email+"&entry.644018680="+country,otherWindow=window.open(url);otherWindow.opener=null}function submitFeedback(rating){var url="https://docs.google.com/a/blockchain.com/forms/d/e/1FAIpQLSeKRzLKn0jsR19vkN6Bw4jK0QW-2pH6Ptb-LbFSaOqxOnbO-Q/viewform?entry.1125242796="+rating,otherWindow=window.open(url);otherWindow.opener=null}var states={error:["expired","rejected","cancelled"],success:["completed","completed_test"],pending:["awaiting_transfer_in","reviewing","processing","pending"],completed:["expired","rejected","cancelled","completed","completed_test"]},tradeStateIn=function(states){return function(t){return states.indexOf(t.state)>-1}},txHashes={},watching={},_initialized=$q.defer(),poll=void 0,maxPollTime=3e4,_buySellMyWallet=void 0,buySellMyWallet=function(){return Wallet.status.isLoggedIn?(_buySellMyWallet||(_buySellMyWallet=new MyWalletBuySell(MyWallet.wallet,$rootScope.buySellDebug),_buySellMyWallet.exchanges&&(_buySellMyWallet.exchanges.coinify.partnerId=19,_buySellMyWallet.exchanges.sfox.api.apiKey="f31614a7-5074-49f2-8c2a-bfb8e55de2bd",_buySellMyWallet.exchanges.sfox.api.production=!0)),_buySellMyWallet):null},service={getStatus:function(){return buySellMyWallet()&&buySellMyWallet().status},getExchange:function(){return buySellMyWallet()&&buySellMyWallet().exchanges?buySellMyWallet().exchanges.coinify:null},trades:{completed:[],pending:[]},kycs:[],getTxMethod:function(hash){return txHashes[hash]||null},initialized:function(){return _initialized.promise},login:function(){return _initialized.promise["finally"](service.fetchProfile)},init:init,getQuote:getQuote,getKYCs:getKYCs,getRate:getRate,calculateMax:calculateMax,triggerKYC:triggerKYC,getOpenKYC:getOpenKYC,getTrades:getTrades,watchAddress:watchAddress,fetchProfile:fetchProfile,openBuyView:openBuyView,pollKYC:pollKYC,pollUserLevel:pollUserLevel,getCurrency:getCurrency,signupForAccess:signupForAccess,submitFeedback:submitFeedback,tradeStateIn:tradeStateIn,states:states},unwatch=$rootScope.$watch(service.getExchange,function(exchange){exchange&&init(exchange).then(unwatch).then(_initialized.resolve)});return service}angular.module("walletApp").factory("buySell",buySell)}(),function(){"use strict";function buyStatus(Wallet,MyWallet,Options,$cookies,Alerts,$state,$q){var service={},isCountryWhitelisted=null,isCoinifyCountry=null,nextWeek=function(){return new Date(Date.now()+6048e5).getTime()},processOptions=function(options){var accountInfo=MyWallet.wallet&&MyWallet.wallet.accountInfo;isCoinifyCountry=options.partners.coinify.countries.indexOf(accountInfo.countryCodeGuess)>-1;var whitelist=options.showBuySellTab||[];isCountryWhitelisted=accountInfo&&whitelist.indexOf(accountInfo.countryCodeGuess)>-1};return service.canBuy=function(){var accountInfo=MyWallet.wallet&&MyWallet.wallet.accountInfo,isUserInvited=accountInfo&&accountInfo.invited,canBuy=function(){return service.userHasAccount()||isCoinifyCountry||isUserInvited&&isCountryWhitelisted};return Options.didFetch?(processOptions(Options.options),$q.resolve(canBuy())):Options.get().then(processOptions).then(canBuy)},service.shouldShowBuyReminder=function(){var buyReminder=$cookies.getObject("buy-bitcoin-reminder"),timeHasPassed=!buyReminder||new Date>buyReminder.when,shownTwice=!!buyReminder&&buyReminder.index>=2,firstTime=Wallet.goal.firstTime;return!firstTime&&!shownTwice&&timeHasPassed||!firstTime&&!buyReminder},service.showBuyReminder=function(){var buyReminder=$cookies.getObject("buy-bitcoin-reminder"),options=function(ops){return angular.merge({friendly:!0,modalClass:"top"},ops)},saidNoThanks=function(e){return"cancelled"===e?$q.resolve():$q.reject()},goToBuy=function(){return $state.go("wallet.common.buy-sell")},nextIndex=buyReminder?buyReminder.index+1:0;Alerts.confirm("BUY_BITCOIN_REMINDER",options({cancel:"NO_THANKS",action:"GET_BITCOIN",iconClass:"hide"})).then(goToBuy,saidNoThanks),$cookies.putObject("buy-bitcoin-reminder",{index:nextIndex,when:nextWeek()})},service.userHasAccount=function(){var external=MyWallet.wallet.external;return external&&(external.coinify&&external.coinify.hasAccount||external.sfox&&external.sfox.hasAccount)},service}angular.module("walletApp").factory("buyStatus",buyStatus)}(),function(){"use strict";function country(){var countryCodes=[{Name:"Aland Islands",Code:"FI"},{Name:"Albania",Code:"AL"},{Name:"Algeria",Code:"DZ"},{Name:"American Samoa",Code:"AS"},{Name:"Andorra",Code:"AD"},{Name:"Angola",Code:"AO"},{Name:"Anguilla",Code:"AI"},{Name:"Antigua and Barbuda",Code:"AG"},{Name:"Argentina",Code:"AR"},{Name:"Armenia",Code:"AM"},{Name:"Aruba",Code:"AW"},{Name:"Australia",Code:"AU"},{Name:"Austria",Code:"AT"},{Name:"Azerbaijan",Code:"AZ"},{Name:"Azores",Code:"PT"},{Name:"Bahamas",Code:"BS"},{Name:"Bahrain",Code:"BH"},{Name:"Bangladesh",Code:"BD"},{Name:"Barbados",Code:"BB"},{Name:"Belgium",Code:"BE"},{Name:"Belize",Code:"BZ"},{Name:"Benin",Code:"BJ"},{Name:"Bermuda",Code:"BM"},{Name:"Bhutan",Code:"BT"},{Name:"Bolivia, Plurinational State of",Code:"BO"},{Name:"Bonaire, Sint Eustatius and Saba",Code:"BQ"},{Name:"Bosnia and Herzegovina",Code:"BA"},{Name:"Botswana",Code:"BW"},{Name:"Bouvet Island",Code:"BV"},{Name:"Brazil",Code:"BR"},{Name:"British Indian Ocean Territory",Code:"IO"},{Name:"Brunei Darussalam",Code:"BN"},{Name:"Bulgaria",Code:"BG"},{Name:"Burkina Faso",Code:"BF"},{Name:"Burundi",Code:"BI"},{Name:"Cambodia",Code:"KH"},{Name:"Cameroon",Code:"CM"},{Name:"Canada",Code:"CA"},{Name:"Canary Islands",Code:"ES"},{Name:"Cape Verde",Code:"CV"},{Name:"Cayman Islands",Code:"KY"},{Name:"Chad",Code:"TD"},{Name:"Chile",Code:"CL"},{Name:"China",Code:"CN"},{Name:"Christmas Island",Code:"CX"},{Name:"Cocos (Keeling) Islands",Code:"CC"},{Name:"Colombia",Code:"CO"},{Name:"Comoros",Code:"KM"},{Name:"Cook Islands",Code:"CK"},{Name:"Costa Rica",Code:"CR"},{Name:"Croatia",Code:"HR"},{Name:"Curaçao",Code:"CW"},{Name:"Cyprus",Code:"CY"},{Name:"Czech Republic",Code:"CZ"},{Name:"Denmark",Code:"DK"},{Name:"Djibouti",Code:"DJ"},{Name:"Dominica",Code:"DM"},{Name:"Dominican Republic",Code:"DO"},{Name:"Ecuador",Code:"EC"},{Name:"Egypt",Code:"EG"},{Name:"El Salvador",Code:"SV"},{Name:"Estonia",Code:"EE"},{Name:"Ethiopia",Code:"ET"},{Name:"Falkland Islands (Malvinas)",Code:"FK"},{Name:"Faroe Islands",Code:"FO"},{Name:"Fiji",Code:"FJ"},{Name:"Finland",Code:"FI"},{Name:"France",Code:"FR"},{Name:"French Guiana",Code:"GF"},{Name:"French Polynesia",Code:"PF"},{Name:"French Southern Territories",Code:"TF"},{Name:"Gabon",Code:"GA"},{Name:"Gambia",Code:"GM"},{Name:"Georgia",Code:"GE"},{Name:"Germany",Code:"DE"},{Name:"Ghana",Code:"GH"},{Name:"Gibraltar",Code:"GI"},{Name:"Greece",Code:"GR"},{Name:"Greenland",Code:"GL"},{Name:"Grenada",Code:"GD"},{Name:"Guadeloupe",Code:"GP"},{Name:"Guam",Code:"GU"},{Name:"Guatemala",Code:"GT"},{Name:"Guernsey",Code:"GG"},{Name:"Guyana",Code:"GY"},{Name:"Haiti",Code:"HT"},{Name:"Heard Island and McDonald Islands",Code:"HM"},{Name:"Honduras",Code:"HN"},{Name:"Hong Kong",Code:"HK"},{Name:"Hungary",Code:"HU"},{Name:"Iceland",Code:"IS"},{Name:"India",Code:"IN"},{Name:"Indonesia",Code:"ID"},{Name:"Ireland",Code:"IE"},{Name:"Isle of Man",Code:"IM"},{Name:"Israel",Code:"IL"},{Name:"Italy",Code:"IT"},{Name:"Jamaica",Code:"JM"},{Name:"Japan",Code:"JP"},{Name:"Jersey",Code:"JE"},{Name:"Jordan",Code:"JO"},{Name:"Kazakhstan",Code:"KZ"},{Name:"Kenya",Code:"KE"},{Name:"Kiribati",Code:"KI"},{Name:"Korea, Republic of",Code:"KR"},{Name:"Kuwait",Code:"KW"},{Name:"Kyrgyzstan",Code:"KG"},{Name:"Lao People's Democratic Republic",Code:"LA"},{Name:"Latvia",Code:"LV"},{Name:"Lesotho",Code:"LS"},{Name:"Liechtenstein",Code:"LI"},{Name:"Lithuania",Code:"LT"},{Name:"Luxembourg",Code:"LU"},{Name:"Macao",Code:"MO"},{Name:"Macedonia, the Former Yugoslav Republic of",Code:"MK"},{Name:"Madagascar",Code:"MG"},{Name:"Madeira",Code:"PT"},{Name:"Malawi",Code:"MW"},{Name:"Malaysia",Code:"MY"},{Name:"Maldives",Code:"MV"},{Name:"Mali",Code:"ML"},{Name:"Malta",Code:"MT"},{Name:"Marshall Islands",Code:"MH"},{Name:"Martinique",Code:"MQ"},{Name:"Mauritania",Code:"MR"},{Name:"Mauritius",Code:"MU"},{Name:"Mayotte",Code:"YT"},{Name:"Mexico",Code:"MX"},{Name:"Micronesia, Federated States of",Code:"FM"},{Name:"Moldova, Republic of",Code:"MD"},{Name:"Monaco",Code:"MC"},{Name:"Mongolia",Code:"MN"},{Name:"Montenegro",Code:"ME"},{Name:"Montserrat",Code:"MS"},{Name:"Morocco",Code:"MA"},{Name:"Mozambique",Code:"MZ"},{Name:"Namibia",Code:"NA"},{Name:"Nauru",Code:"NR"},{Name:"Nepal",Code:"NP"},{Name:"Netherlands",Code:"NL"},{Name:"New Caledonia",Code:"NC"},{Name:"New Zealand",Code:"NZ"},{Name:"Nicaragua",Code:"NI"},{Name:"Niger",Code:"NE"},{Name:"Nigeria",Code:"NG"},{Name:"Niue",Code:"NU"},{Name:"Norfolk Island",Code:"NF"},{Name:"Northern Mariana Islands",Code:"MP"},{Name:"Norway",Code:"NO"},{Name:"Oman",Code:"OM"},{Name:"Pakistan",Code:"PK"},{Name:"Palau",Code:"PW"},{Name:"Palestine, State of",Code:"PS"},{Name:"Panama",Code:"PA"},{Name:"Papua New Guinea",Code:"PG"},{Name:"Paraguay",Code:"PY"},{Name:"Peru",Code:"PE"},{Name:"Philippines",Code:"PH"},{Name:"Pitcairn",Code:"PN"},{Name:"Poland",Code:"PL"},{Name:"Portugal",Code:"PT"},{Name:"Puerto Rico",Code:"PR"},{Name:"Qatar",Code:"QA"},{Name:"Réunion",Code:"RE"},{Name:"Romania",Code:"RO"},{Name:"Rwanda",Code:"RW"},{Name:"Saint Barthélemy",Code:"BL"},{Name:"Saint Helena, Ascension and Tristan da Cunha",Code:"SH"},{Name:"Saint Kitts and Nevis",Code:"KN"},{Name:"Saint Lucia",Code:"LC"},{Name:"Saint Martin (French part)",Code:"MF"},{Name:"Saint Pierre and Miquelon",Code:"PM"},{Name:"Saint Vincent and the Grenadines",Code:"VC"},{Name:"Samoa",Code:"WS"},{Name:"San Marino",Code:"SM"},{Name:"Sao Tome and Principe",Code:"ST"},{Name:"Saudi Arabia",Code:"SA"},{Name:"Senegal",Code:"SN"},{Name:"Serbia",Code:"RS"},{Name:"Seychelles",Code:"SC"},{Name:"Sierra Leone",Code:"SL"},{Name:"Singapore",Code:"SG"},{Name:"Sint Maarten (Dutch part)",Code:"SX"},{Name:"Slovakia",Code:"SK"},{Name:"Slovenia",Code:"SI"},{Name:"Solomon Islands",Code:"SB"},{Name:"South Africa",Code:"ZA"},{Name:"South Georgia and the South Sandwich Islands",Code:"GS"},{Name:"Spain",Code:"ES"},{Name:"Sri Lanka",Code:"LK"},{Name:"Suriname",Code:"SR"},{Name:"Svalbard and Jan Mayen",Code:"SJ"},{Name:"Swaziland",Code:"SZ"},{Name:"Sweden",Code:"SE"},{Name:"Switzerland",Code:"CH"},{Name:"Taiwan, Province of China",Code:"TW"},{Name:"Tajikistan",Code:"TJ"},{Name:"Tanzania, United Republic of",Code:"TZ"},{Name:"Thailand",Code:"TH"},{Name:"Timor-Leste",Code:"TL"},{Name:"Togo",Code:"TG"},{Name:"Tokelau",Code:"TK"},{Name:"Tonga",Code:"TO"},{Name:"Trinidad and Tobago",Code:"TT"},{Name:"Turkey",Code:"TR"},{Name:"Turkmenistan",Code:"TM"},{Name:"Turks and Caicos Islands",Code:"TC"},{Name:"Tuvalu",Code:"TV"},{Name:"Uganda",Code:"UG"},{Name:"Ukraine",Code:"UA"},{Name:"United Arab Emirates",Code:"AE"},{Name:"United Kingdom",Code:"GB"},{Name:"United States",Code:"US"},{Name:"United States Minor Outlying Islands",Code:"UM"},{Name:"Uruguay",Code:"UY"},{Name:"Uzbekistan",Code:"UZ"},{Name:"Vanuatu",Code:"VU"},{Name:"Viet Nam",Code:"VN"},{Name:"Virgin Islands, British",Code:"VG"},{Name:"Wallis and Futuna",Code:"WF"},{Name:"Western Sahara",Code:"EH"},{Name:"Zambia",Code:"ZM"}],service={countryCodes:countryCodes};return service}angular.module("walletApp").factory("country",country),country.$inject=[]}(),function(){"use strict";function cta($cookies,Wallet,buyStatus){function cacheCookies(){cookieJar[BUY_CTA_KEY]=$cookies.get(BUY_CTA_KEY),cookieJar[SECURITY_WARNING_KEY]=$cookies.getObject(SECURITY_WARNING_KEY)}function shouldShowBuyCta(){var hasAccount=buyStatus.userHasAccount(),hasSeenCta="true"===cookieJar[BUY_CTA_KEY];return!hasAccount&&!hasSeenCta}function setBuyCtaDissmissed(){$cookies.put(BUY_CTA_KEY,!0),cacheCookies()}function shouldShowSecurityWarning(){if(service.shouldShowBuyCta())return!1;var messageCookie=cookieJar[SECURITY_WARNING_KEY],isTime=!messageCookie||Date.now()>messageCookie.when,hasBalance=Wallet.total("")>0,didBackup=Wallet.status.didConfirmRecoveryPhrase,has2FA=Wallet.settings.needs2FA,verifiedEmail=Wallet.user.isEmailVerified,isSecure=didBackup&&(has2FA||verifiedEmail);return isTime&&hasBalance&&!isSecure}function setSecurityWarningDismissed(){var messageCookie=cookieJar[SECURITY_WARNING_KEY],index=messageCookie?messageCookie.index+1:0,when=nextWeek();$cookies.putObject(SECURITY_WARNING_KEY,{index:index,when:when}),cacheCookies()}function getSecurityWarningMessage(){var messageCookie=cookieJar[SECURITY_WARNING_KEY],messageIndex=messageCookie?messageCookie.index:0,message=SECURITY_MESSAGES[messageIndex];return message}function nextWeek(){return new Date(Date.now()+ONE_WEEK).getTime()}var cookieJar={},ONE_WEEK=6048e5,BUY_CTA_KEY="buy-alert-seen",SECURITY_WARNING_KEY="contextual-message",SECURITY_MESSAGES=["SECURE_WALLET_MSG_1","SECURE_WALLET_MSG_2"],service={shouldShowBuyCta:shouldShowBuyCta,setBuyCtaDissmissed:setBuyCtaDissmissed,shouldShowSecurityWarning:shouldShowSecurityWarning,setSecurityWarningDismissed:setSecurityWarningDismissed,getSecurityWarningMessage:getSecurityWarningMessage};return cacheCookies(),service}angular.module("walletApp").factory("cta",cta)}(),function(){"use strict";function currency($q,MyBlockchainApi){function formatCurrencies(currencies){var currencyFormat=function(code){return{code:code,name:currencies[code]}};return Object.keys(currencies).map(currencyFormat)}function fetchExchangeRate(){var currencyFormat=function(info){return{symbol:info.symbol,conversion:parseInt(SATOSHI/info.last,10)}},success=function(result){Object.keys(result).forEach(function(code){conversions[code]=currencyFormat(result[code])})},fail=function(error){console.log("Failed to load ticker: %s",error)};return MyBlockchainApi.getTicker().then(success)["catch"](fail)}function getFiatAtTime(time,amount,currencyCode){time=1e3*time,currencyCode=currencyCode.toLowerCase();var key=time+amount+currencyCode,cached=fiatConversionCache[key],cacheResult=function(fiat){return fiatConversionCache[key]=parseFloat(fiat).toFixed(2)},fiatValuePromise=void 0!==cached?$q.resolve(cached):MyBlockchainApi.getFiatAtTime(time,amount,currencyCode);return fiatValuePromise.then(cacheResult)}function updateCoinifyCurrencies(currencies){var format=function(code){return{code:code,name:currencyCodes[code]}};service.coinifyCurrencies=currencies.slice().sort().map(format)}function isBitCurrency(currency){return null==currency?null:bitCurrencies.map(function(c){return c.code}).indexOf(currency.code)>-1}function decimalPlacesForCurrency(currency){if(null==currency)return null;var decimalPlaces={BTC:8,mBTC:5,bits:2}[currency.code];return decimalPlaces||2}function convertToSatoshi(amount,currency){return null==amount||null==currency?null:isBitCurrency(currency)?Math.round(amount*currency.conversion):null!=conversions[currency.code]?Math.ceil(amount*conversions[currency.code].conversion):null}function convertFromSatoshi(amount,currency){return null==amount||null==currency?null:isBitCurrency(currency)?amount/currency.conversion:null!=conversions[currency.code]?amount/conversions[currency.code].conversion:null}function formatCurrencyForView(amount,currency){var showCode=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null==amount||null==currency)return null;var decimalPlaces=decimalPlacesForCurrency(currency),code=showCode?" "+currency.code:"";return isBitCurrency(currency)?(amount=amount.toFixed(decimalPlaces),amount=amount.replace(/\.?0+$/,"")):amount=parseFloat(amount).toFixed(decimalPlaces),commaSeparate(amount)+code}function commaSeparate(amount){var parts=amount.toString().split(".");return parts[0]=parts[0].replace(/\B(?=(\d{3})+\b)/g,","),parts.join(".")}var SATOSHI=1e8,conversions={},fiatConversionCache={},coinifyCurrencyCodes={DKK:"Danish Krone",EUR:"Euro",GBP:"Great British Pound",USD:"U.S. Dollar"},currencyCodes={USD:"U.S. Dollar",EUR:"Euro",ISK:"lcelandic Króna",HKD:"Hong Kong Dollar",TWD:"New Taiwan Dollar",CHF:"Swiss Franc",DKK:"Danish Krone",CLP:"Chilean, Peso",CAD:"Canadian Dollar",CNY:"Chinese Yuan",THB:"Thai Baht",AUD:"Australian Dollar",SGD:"Singapore Dollar",KRW:"South Korean Won",JPY:"Japanese Yen",PLN:"Polish Zloty",GBP:"Great British Pound",SEK:"Swedish Krona",NZD:"New Zealand Dollar",BRL:"Brazil Real",RUB:"Russian Ruble"},bitCurrencies=[{serverCode:"BTC",code:"BTC",conversion:1e8,btcValue:"1 BTC"},{serverCode:"MBC",code:"mBTC",conversion:1e5,btcValue:"0.001 BTC"},{serverCode:"UBC",code:"bits",conversion:100,btcValue:"0.000001 BTC"}],service={currencies:formatCurrencies(currencyCodes),coinifyCurrencies:formatCurrencies(coinifyCurrencyCodes),bitCurrencies:bitCurrencies,conversions:conversions,fetchExchangeRate:fetchExchangeRate,updateCoinifyCurrencies:updateCoinifyCurrencies,getFiatAtTime:getFiatAtTime,isBitCurrency:isBitCurrency,decimalPlacesForCurrency:decimalPlacesForCurrency,convertToSatoshi:convertToSatoshi,convertFromSatoshi:convertFromSatoshi,formatCurrencyForView:formatCurrencyForView,commaSeparate:commaSeparate};return service}angular.module("walletApp").factory("currency",currency),currency.$inject=["$q","MyBlockchainApi"]}(),function(){"use strict";function DidYouKnow(){var getRandInRange=function(min,max){return Math.floor(Math.random()*(max-min+1)+min)},dyks=[{id:1,title:"DYK_CUSTOM_FEES_TITLE",type:"FEATURE",text:"DYK_CUSTOM_FEES",icon:"ti-signal"},{id:2,title:"DYK_RECOVERY_TITLE",type:"FEATURE",text:"DYK_RECOVERY",icon:"ti-lock",linkText:"SECURITY_CENTER",state:"wallet.common.security-center"},{id:3,title:"DYK_TX_FEES_TITLE",type:"EDUCATIONAL",text:"DYK_TX_FEES",icon:"ti-thought"},{id:4,title:"DYK_BTC_VALUE_TITLE",type:"EDUCATIONAL",text:"DYK_BTC_VALUE",icon:"ti-stats-up"},{id:5,title:"DYK_TOP_SECURITY_TIPS_TITLE",type:"EDUCATIONAL",text:"DYK_TOP_SECURITY_TIPS",icon:"ti-lock",linkText:"SECURITY_CENTER",state:"wallet.common.security-center"},{id:6,title:"WALLET_ID_EXPLANATION_TITLE",type:"EDUCATIONAL",text:"WALLET_ID_EXPLANATION",icon:"ti-id-badge"},{id:7,title:"DYK_MOBILE_TITLE",type:"FEATURE",text:"DYK_MOBILE",icon:"ti-mobile",linkText:"PAIRING_CODE",state:"wallet.common.settings.info"},{id:8,title:"DYK_HOW_IT_WORKS_TITLE",type:"EDUCATIONAL",text:"DYK_HOW_IT_WORKS",icon:"ti-cloud-up"},{id:9,title:"DYK_HD_PRIVACY_TITLE",type:"EDUCATIONAL",text:"DYK_HD_PRIVACY",icon:"ti-check"},{id:10,title:"DYK_DYNAMIC_FEES_TITLE",type:"FEATURE",text:"DYK_DYNAMIC_FEES",icon:"ti-check"},{id:11,title:"DYK_OPEN_SOURCE_TITLE",type:"EDUCATIONAL",text:"DYK_OPEN_SOURCE",icon:"ti-github"}],survey={id:5,title:"SEND_FEEDBACK",type:"SURVEY",text:"DYK_FEEDBACK_VALUE",icon:"ti-announcement",linkText:"SHARE_FEEDBACK",external:!0,state:"https://blockchain.co1.qualtrics.com/SE/?SID=SV_0PMH4ruxU5krOmh"},service={getAll:function(){return dyks},getRandom:function(){return dyks[getRandInRange(0,dyks.length-1)]},getSurvey:function(){return survey}};return service}angular.module("didYouKnow",[]).factory("DidYouKnow",DidYouKnow)}(),function(){"use strict";function faq(){var questions=[{name:"CAN_I_BUY",values:{link:"wallet.common.buy-sell",text:"START_CLICK_HERE"}},{name:"WALLET_SAFETY",link:["START_CLICK_HERE","wallet.common.security-center"]},{name:"WALLET_ID_VS_ADDRESS"},{name:"HOW_TO_TRANSACT"},{name:"HOW_MUCH_TO_SEND"},{name:"WHEN_IS_A_TX_CONFIRMED"},{name:"CAN_BC_SEE_FUNDS"},{name:"CAN_BC_RESET_PW"}],service={questions:questions};return service}angular.module("walletApp").factory("faq",faq)}(),function(){"use strict";function fees($uibModal){function showFeeWarning(currentFee,suggestedFee,maxFee,surge){var modalOptions={templateUrl:"partials/dynamic-fee.jade",windowClass:"bc-modal medium",resolve:{feeValues:function(){return{currentFee:currentFee,suggestedFee:suggestedFee,maxFee:maxFee,surge:surge}}},controller:"DynamicFeeController"};return $uibModal.open(modalOptions).result}function showLargeTxWarning(txSize,recommendedFee){var multiplier=(txSize/standardTx).toFixed(1),modalOptions={templateUrl:"partials/large-tx.jade",windowClass:"bc-modal medium",controller:function($scope){return angular.extend($scope,{multiplier:multiplier,recommendedFee:recommendedFee})}};return $uibModal.open(modalOptions).result}var standardTx=512,service={showFeeWarning:showFeeWarning,showLargeTxWarning:showLargeTxWarning};return service}angular.module("walletApp").factory("fees",fees)}(),function(){"use strict";function format(){function originDestination(o){var formatted={label:o.label||o.address,index:o.index,address:o.address},def=defineIn(formatted);return def("balance",function(){return o.balance}),def("archived",function(){return o.archived}),formatted.type=null!=o.index?"Accounts":"Imported Addresses",null==o.index?formatted.isWatchOnly=o.isWatchOnly:formatted.xpub=o.extendedPublicKey,formatted}function addressBook(o){return{label:o.label,address:o.address,type:"Address Book"}}var defineIn=function(obj){return function(prop,get){return Object.defineProperty(obj,prop,{configurable:!1,get:get})}},service={origin:originDestination,destination:originDestination,addressBook:addressBook};return service}angular.module("walletApp").factory("format",format),format.$inject=[]}(),function(){"use strict";function formatTrade($rootScope,$filter,Wallet,MyWallet,currency){function rejected(trade){return service.error(trade,"rejected")}function cancelled(trade){return service.error(trade)}function failed(trade){return service.error(trade)}function expired(trade){return service.error(trade)}function completed(trade){return service.success(trade)}function completed_test(trade){return service.success(trade)}function error(trade,state){var tx=addTradeDetails(trade);return{tx:tx,"class":"state-danger-text",namespace:"TX_ERROR_STATE",values:{state:state||getState(trade.state)}}}function success(trade){var tx=addTradeDetails(trade);return trade.bitcoinReceived?{tx:tx,"class":"success",values:{label:getLabel(trade)},namespace:"TX_SUCCESS"}:service.processing(trade)}function processing(trade){var tx=addTradeDetails(trade);return{tx:tx,"class":"blue",values:{},namespace:"TX_PENDING"}}function reviewing(trade){var tx=addTradeDetails(trade);return{tx:tx,"class":"blue",values:{},namespace:"TX_IN_REVIEW"}}function initiated(trade){var tx=addTradeDetails(trade);return{tx:tx,"class":"success",values:{email:Wallet.user.email},namespace:"TX_INITIATED"}}function kyc(trade){return{"class":"blue",namespace:"TX_KYC_PENDING",values:{date:$filter("date")(trade.createdAt,"MM/dd")}}}function bank_transfer(trade){return{"class":"state-danger-text",namespace:"TX_BANK_TRANSFER",tx:{"Recipient Name":trade.bankAccount.holderName,"Recipient Address":[trade.bankAccount.holderAddress.street,trade.bankAccount.holderAddress.zipcode+" "+trade.bankAccount.holderAddress.city,trade.bankAccount.holderAddress.country].join(", "),IBAN:trade.bankAccount.number,BIC:trade.bankAccount.bic,Bank:[trade.bankAccount.bankName,trade.bankAccount.bankAddress.street,trade.bankAccount.bankAddress.zipcode+" "+trade.bankAccount.bankAddress.city,trade.bankAccount.bankAddress.country].join(", "),Message:trade.bankAccount.referenceText},values:{label:getLabel(trade),curr:trade.inCurrency,amt:trade.inAmount/100}}}var service={reviewing:reviewing,processing:processing,cancelled:cancelled,rejected:rejected,failed:failed,expired:expired,completed:completed,completed_test:completed_test,initiated:initiated,kyc:kyc,error:error,success:success,bank_transfer:bank_transfer},errorStates={cancelled:"canceled",rejected:"rejected",expired:"expired"},getState=function(state){return errorStates[state]||state},getLabel=function(trade){var accountIndex=trade.accountIndex;return null!=accountIndex?MyWallet.wallet.hdwallet.accounts[accountIndex].label:""},addTradeDetails=function(trade){var transaction={DATE_INITIALIZED:$filter("date")(trade.createdAt,"d MMMM yyyy, HH:mm"),TOTAL_COST:currency.formatCurrencyForView(trade.inAmount/100,{code:trade.inCurrency}),BTC:currency.convertFromSatoshi(trade.outAmount||trade.outAmountExpected,currency.bitCurrencies[0]),SEND_TO:getLabel(trade),TRADE_ID:"#"+trade.id};return $rootScope.buySellDebug&&(transaction.RECEIVING_ADDRESS=trade.receiveAddress),transaction};return service}angular.module("walletApp").factory("formatTrade",formatTrade),formatTrade.$inject=["$rootScope","$filter","Wallet","MyWallet","currency"]}(),function(){"use strict";function languages($translate){function formatLanguages(langs){var langFormat=function(code){return{code:code,name:langs[code]}},langSort=function(l0,l1){var name0=l0.name.toLowerCase(),name1=l1.name.toLowerCase();return name0<name1?-1:1};return Object.keys(langs).map(langFormat).sort(langSort)}function parseFromUrl(url){var codes=service.codes.join("|"),regex=new RegExp("\\/("+codes+")\\/wallet"),matches=url.match(regex);return matches&&matches.length?matches[1]:null}var languageCodes={de:"German",hi:"Hindi",no:"Norwegian",ru:"Russian",pt:"Portuguese",bg:"Bulgarian",fr:"French","zh-cn":"Chinese Simplified",hu:"Hungarian",sl:"Slovenian",id:"Indonesian",sv:"Swedish",ko:"Korean",el:"Greek",en:"English",it:"Italiano",es:"Spanish",vi:"Vietnamese",th:"Thai",ja:"Japanese",pl:"Polish",da:"Danish",ro:"Romanian",nl:"Dutch",tr:"Turkish"},service={languages:formatLanguages(languageCodes),codes:Object.keys(languageCodes),get:function(){return $translate.use()},set:function(code){return $translate.use(code)},mapCodeToName:function(code){return languageCodes[code]},parseFromUrl:parseFromUrl};return service}angular.module("walletApp").factory("languages",languages),languages.$inject=["$translate"]}(),function(){"use strict";function modals($state,$uibModal,$ocLazyLoad){var service={},open=function(defaults){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return $uibModal.open(angular.merge(options,defaults))};return service.openBankHelper=function(){return open({templateUrl:"partials/bank-check-modal.jade",windowClass:"bc-modal medium"})},service.openDepositHelper=function(){return open({templateUrl:"partials/bank-deposit-modal.jade",windowClass:"bc-modal medium"})},service.openTransfer=function(addresses){return open({templateUrl:"partials/settings/transfer.jade",controller:"TransferController",windowClass:"bc-modal",
resolve:{address:function(){return addresses}}}).result},service.expandTray=function(options){return open({backdrop:!1,windowClass:"tray"},options).result},service.openSfoxSignup=function(_exchange){return service.expandTray({templateUrl:"partials/sfox/signup.jade",controllerAs:"vm",controller:"SfoxSignupController",resolve:{exchange:function(){return _exchange},accounts:function($q){return _exchange.profile?_exchange.getBuyMethods().then(function(methods){return methods.ach.getAccounts()}):$q.resolve([])}}})["finally"](function(){var base="wallet.common.buy-sell",goingToBuySellState=0===$state.current.name.indexOf(base);goingToBuySellState&&$state.go("wallet.common.buy-sell")})},service.openTradeSummary=function(_trade,state){return open({templateUrl:"partials/trade-modal.jade",windowClass:"bc-modal auto buy",controller:function($scope,trade,formatTrade){$scope.formattedTrade=formatTrade[state||trade.state](trade)},resolve:{trade:function(){return _trade}}}).result},service}angular.module("walletApp").factory("modals",modals)}(),function(){"use strict";function Options($http,$rootScope){function get(){var file=$rootScope.isProduction?"wallet-options":"wallet-options-debug",url="/Resources/"+file+".json";return fetchedOptions?Promise.resolve(service.options):$http.get(url).success(function(res){service.options=res,fetchedOptions=!0}).then(function(){return service.options})}var fetchedOptions=!1,service={get:get,get didFetch(){return fetchedOptions},options:{}};return service}angular.module("options",[]).factory("Options",Options),Options.$inject=["$http","$rootScope"]}(),function(){"use strict";function QA(){var service={};return service.SFOXAddressForm=function(){var unique=(new Date).getTime().toString(),fields={first:"Satoshi"+unique,last:"Nakamoto"+unique,ssn:unique.slice(4,13),dob:new Date(1991,4,14),addr1:"123 Bitcoin Lane",addr2:"2",city:"New York City",state:{Code:"NY",Name:"New York"},zipcode:10028};return fields},service.SFOXDebugDocs=["testing-docs-id","testing-docs-address","testing-docs-all","testing-user-block"],service}angular.module("walletApp").factory("QA",QA)}(),function(){"use strict";function SecurityCenter($rootScope,Wallet){function updateLevel(){var securityObjectives=getSecurityObjectives(),securityLevel=0,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=securityObjectives[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var objective=_step.value;objective&&securityLevel++}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator["return"]&&_iterator["return"]()}finally{if(_didIteratorError)throw _iteratorError}}service.security.level=securityLevel,service.security.score=securityLevel/securityObjectives.length}function sumSecurityObjectives(){return getSecurityObjectives().map(function(o){return o?1:0}).reduce(function(a,b){return a+b})}function getSecurityObjectives(){return[user.isEmailVerified,status.didConfirmRecoveryPhrase,user.passwordHint,settings.needs2FA,user.isMobileVerified,settings.blockTOR]}var settings=Wallet.settings,user=Wallet.user,status=Wallet.status,service={security:{level:0,score:0}};return $rootScope.$watch(sumSecurityObjectives,updateLevel),service}angular.module("securityCenter",[]).factory("SecurityCenter",SecurityCenter),SecurityCenter.$inject=["$rootScope","Wallet"]}(),function(){"use strict";function sfox($q,Alerts){function displayError(error){if(angular.isString(error))try{error=JSON.parse(error).error}catch(e){}else error=error.error||error.message||error.initial_error||error;Alerts.displayError(error)}function determineStep(exchange,accounts){var profile=exchange.profile;if(profile){var _profile$verification=profile.verificationStatus,level=_profile$verification.level,_profile$verification2=_profile$verification.required_docs,required_docs=void 0===_profile$verification2?[]:_profile$verification2,didVerify="verified"===level||"pending"===level&&0===required_docs.length,hasAccount=accounts.length&&"active"===accounts[0].status;return didVerify?hasAccount?"buy":"link":"verify"}return"create"}function fetchExchangeData(exchange){return $q.resolve(exchange.fetchProfile()).then(function(){return exchange.getTrades()}).then(function(){return exchange.monitorPayments()})}var service={displayError:displayError,determineStep:determineStep,fetchExchangeData:fetchExchangeData};return service}angular.module("walletApp").factory("sfox",sfox)}(),function(){"use strict";function smartAccount(Wallet,MyWallet,format){function getOptions(){var accounts=Wallet.accounts().filter(function(a){return!a.archived&&null!=a.index}),addresses=Wallet.legacyAddresses().filter(function(a){return!a.archived});return accounts.concat(addresses).map(format.origin)}function getDefault(){var acct=void 0,idx=service.getDefaultIdx(),options=service.getOptions();return!isNaN(idx)&&(acct=options.filter(function(a){return a.index===idx})[0]),isNaN(idx)&&(acct=service.getDefaultIdx()),acct}function getDefaultIdx(){var isAvail=function(a){return!a.archived&&a.balance>0},availAccounts=Wallet.accounts().filter(isAvail),availAddresses=Wallet.legacyAddresses().filter(isAvail);return MyWallet.wallet.hdwallet.defaultAccount.balance>0?MyWallet.wallet.hdwallet.defaultAccountIndex:availAccounts.length?availAccounts[0].index:availAddresses.length?availAddresses.sort(function(a,b){return a.created_time-b.created_time})[0]:MyWallet.wallet.hdwallet.defaultAccountIndex}var service={getDefaultIdx:getDefaultIdx,getOptions:getOptions,getDefault:getDefault};return service}angular.module("walletApp").factory("smartAccount",smartAccount),smartAccount.$inject=["Wallet","MyWallet","format"]}(),function(){"use strict";function state(){var stateCodes=[{Name:"Alabama",Code:"AL"},{Name:"Alaska",Code:"AK"},{Name:"American Samoa",Code:"AS"},{Name:"Arizona",Code:"AZ"},{Name:"Arkansas",Code:"AR"},{Name:"California",Code:"CA"},{Name:"Colorado",Code:"CO"},{Name:"Connecticut",Code:"CT"},{Name:"Delaware",Code:"DE"},{Name:"District Of Columbia",Code:"DC"},{Name:"Federated States Of Micronesia",Code:"FM"},{Name:"Florida",Code:"FL"},{Name:"Georgia",Code:"GA"},{Name:"Guam",Code:"GU"},{Name:"Hawaii",Code:"HI"},{Name:"Idaho",Code:"ID"},{Name:"Illinois",Code:"IL"},{Name:"Indiana",Code:"IN"},{Name:"Iowa",Code:"IA"},{Name:"Kansas",Code:"KS"},{Name:"Kentucky",Code:"KY"},{Name:"Louisiana",Code:"LA"},{Name:"Maine",Code:"ME"},{Name:"Marshall Islands",Code:"MH"},{Name:"Maryland",Code:"MD"},{Name:"Massachusetts",Code:"MA"},{Name:"Michigan",Code:"MI"},{Name:"Minnesota",Code:"MN"},{Name:"Mississippi",Code:"MS"},{Name:"Missouri",Code:"MO"},{Name:"Montana",Code:"MT"},{Name:"Nebraska",Code:"NE"},{Name:"Nevada",Code:"NV"},{Name:"New Hampshire",Code:"NH"},{Name:"New Jersey",Code:"NJ"},{Name:"New Mexico",Code:"NM"},{Name:"New York",Code:"NY"},{Name:"North Carolina",Code:"NC"},{Name:"North Dakota",Code:"ND"},{Name:"Northern Mariana Islands",Code:"MP"},{Name:"Ohio",Code:"OH"},{Name:"Oklahoma",Code:"OK"},{Name:"Oregon",Code:"OR"},{Name:"Palau",Code:"PW"},{Name:"Pennsylvania",Code:"PA"},{Name:"Puerto Rico",Code:"PR"},{Name:"Rhode Island",Code:"RI"},{Name:"South Carolina",Code:"SC"},{Name:"South Dakota",Code:"SD"},{Name:"Tennessee",Code:"TN"},{Name:"Texas",Code:"TX"},{Name:"Utah",Code:"UT"},{Name:"Vermont",Code:"VT"},{Name:"Virgin Islands",Code:"VI"},{Name:"Virginia",Code:"VA"},{Name:"Washington",Code:"WA"},{Name:"West Virginia",Code:"WV"},{Name:"Wisconsin",Code:"WI"},{Name:"Wyoming",Code:"WY"}],service={stateCodes:stateCodes};return service}angular.module("walletApp").factory("state",state),state.$inject=[]}(),function(){"use strict";function theme(){var themes=[{name:"default","class":"","display-name":"Default"},{name:"dev","class":"dev-theme","display-name":"Dev Theme"},{name:"inverted","class":"inverted-theme","display-name":"Invert Colors"}],service={themes:themes};return service}angular.module("walletApp").factory("theme",theme)}(),function(){"use strict";function Wallet($http,$window,$timeout,$location,$injector,Alerts,MyWallet,MyBlockchainApi,MyBlockchainRng,MyBlockchainSettings,MyWalletStore,MyWalletPayment,MyWalletHelpers,$rootScope,ngAudio,$cookies,$translate,$filter,$state,$q,languages,currency,theme,BlockchainConstants){var wallet={goal:{auth:!1,upgrade:!1},status:{isLoggedIn:!1,didUpgradeToHd:null,didInitializeHD:!1,didLoadSettings:!1,didLoadTransactions:!1,didLoadBalances:!1,didConfirmRecoveryPhrase:!1},settings:{currency:null,displayCurrency:null,language:null,btcCurrency:null,needs2FA:null,twoFactorMethod:null,feePerKB:null,handleBitcoinLinks:!1,blockTOR:null,rememberTwoFactor:null,secondPassword:null,ipWhitelist:null,apiAccess:null,restrictToWhitelist:null,loggingLevel:null},user:{current_ip:null,email:null,mobile:null,passwordHint:"",mobileNumber:null,alias:null}};wallet.fiatHistoricalConversionCache={},wallet.conversions={},wallet.paymentRequests=[],wallet.my=MyWallet,wallet.settings_api=MyBlockchainSettings,wallet.store=MyWalletStore,wallet.api=MyBlockchainApi,wallet.rng=MyBlockchainRng;var network="bitcoin";BlockchainConstants.NETWORK=network,wallet.api.ROOT_URL=$rootScope.rootURL;var customWebSocketURL="wss://ws.blockchain.info/inv";customWebSocketURL&&(wallet.my.ws.wsUrl=customWebSocketURL);var customApiDomain="https://api.blockchain.info/";$rootScope.apiDomain=customApiDomain,customApiDomain&&(wallet.api.API_ROOT_URL=customApiDomain),wallet.Payment=MyWalletPayment,wallet.api_code="1770d5d9-bcea-4d28-ad21-6cbd5be018a8",MyBlockchainApi.API_CODE=wallet.api_code,$rootScope.isProduction||!function(){var KEY="qa-tools-enabled";$rootScope.buySellDebug="true"===$cookies.get(KEY);var reloadWithDebug=function(debug){$cookies.put(KEY,debug),$window.location.reload()};$window.enableQA=function(){return reloadWithDebug(!0)},$window.disableQA=function(){return reloadWithDebug(!1)}}(),wallet.login=function(uid,password,two_factor_code,needsTwoFactorCallback,successCallback,errorCallback){var didLogin=function(result){wallet.status.didUpgradeToHd=wallet.my.wallet.isUpgradedToHD,wallet.my.wallet.isUpgradedToHD&&(wallet.status.didConfirmRecoveryPhrase=wallet.my.wallet.hdwallet.isMnemonicVerified),wallet.user.uid=uid,wallet.settings.secondPassword=wallet.my.wallet.isDoubleEncrypted,wallet.settings.pbkdf2=wallet.my.wallet.pbkdf2_iterations,wallet.settings.logoutTimeMinutes=wallet.my.wallet.logoutTime/6e4,wallet.my.wallet.isUpgradedToHD&&!wallet.status.didInitializeHD&&(wallet.status.didInitializeHD=!0),$window.name="blockchain-"+uid,wallet.my.wallet.fetchAccountInfo().then(function(result){var accountInfo=wallet.my.wallet.accountInfo;if(wallet.user.email=accountInfo.email,wallet.my.wallet.accountInfo.mobile?wallet.user.mobileNumber=accountInfo.mobile:wallet.user.mobileNumber="+"+accountInfo.dialCode,wallet.user.isEmailVerified=accountInfo.isEmailVerified,wallet.user.isMobileVerified=accountInfo.isMobileVerified,wallet.settings.currency=$filter("getByProperty")("code",accountInfo.currency,currency.currencies),wallet.settings.ipWhitelist=result.ip_lock||"",wallet.settings.restrictToWhitelist=result.ip_lock_on,wallet.settings.apiAccess=result.is_api_access_enabled,wallet.settings.rememberTwoFactor=!result.never_save_auth_type,wallet.settings.needs2FA=0!==result.auth_type,wallet.settings.twoFactorMethod=result.auth_type,wallet.settings.loggingLevel=result.logging_level,wallet.user.current_ip=result.my_ip,wallet.user.guid=result.guid,wallet.user.alias=result.alias,wallet.settings.notifications_on=result.notifications_on,wallet.settings.notifications={},result.notifications_type&&!function(){var notifs=wallet.settings.notifications;result.notifications_type.forEach(function(code){var type=Math.log2(code);0===type&&(notifs.email=!0),2===type&&(notifs.http=!0),5===type&&(notifs.sms=!0)})}(),wallet.user.passwordHint=result.password_hint1,wallet.setLanguage($filter("getByProperty")("code",result.language,languages.languages)),wallet.settings.btcCurrency=$filter("getByProperty")("serverCode",result.btc_currency,currency.bitCurrencies),wallet.settings.displayCurrency=wallet.settings.btcCurrency,wallet.settings.theme=$filter("getByProperty")("name",$cookies.get("theme"),theme.themes)||theme.themes[0],wallet.settings.feePerKB=wallet.my.wallet.fee_per_kb,wallet.settings.blockTOR=!!result.block_tor_ips,wallet.status.didLoadSettings=!0,wallet.my.wallet.isUpgradedToHD){var didFetchTransactions=function(){"ie"===browserDetection().browser?(console.warn("Stop!"),console.warn("This browser feature is intended for developers. If someone told you to copy-paste something here, it is a scam and will give them access to your money!")):(console.log("%cStop!","color:white; background:red; font-size: 16pt"),console.log("%cThis browser feature is intended for developers. If someone told you to copy-paste something here, it is a scam and will give them access to your money!","font-size: 14pt")),wallet.status.didLoadTransactions=!0,wallet.status.didLoadBalances=!0,$rootScope.$safeApply()};wallet.my.wallet.getHistory().then(didFetchTransactions)}wallet.status.isLoggedIn=!0,$injector.get("buySell"),$rootScope.$safeApply(),successCallback&&successCallback(result.guid)}),$rootScope.$safeApply()},needsTwoFactorCode=function(method){Alerts.displayWarning("Please enter your 2FA code"),wallet.settings.needs2FA=!0,needsTwoFactorCallback(method),wallet.settings.twoFactorMethod=method,$rootScope.$safeApply()},wrongTwoFactorCode=function(message){errorCallback("twoFactor",message),$rootScope.$safeApply()},loginError=function(error){console.log(error),error.length&&error.indexOf("Unknown Wallet Identifier")>-1?errorCallback("uid","UNKNOWN_IDENTIFIER"):error.length&&error.indexOf("password")>-1?errorCallback("password",error):(Alerts.displayError(error.message||error,!0),errorCallback()),$rootScope.$safeApply()};null!=two_factor_code&&""!==two_factor_code?wallet.settings.needs2FA=!0:two_factor_code=null;var authorizationProvided=function(){wallet.goal.auth=!0,$rootScope.$safeApply()},authorizationRequired=function(callback){callback(authorizationProvided()),Alerts.displayWarning("CHECK_EMAIL_VERIFY_BROWSER",!0),$rootScope.$safeApply()},two_factor=null;wallet.settings.twoFactorMethod&&(two_factor={type:wallet.settings.twoFactorMethod,code:two_factor_code});var doLogin=function(uid,sessionGuid,sessionToken){uid!==sessionGuid&&(sessionToken=null);var newSessionToken=function(token){$cookies.put("session",token),$cookies.put("uid",uid)};wallet.my.login(uid,password,{twoFactor:two_factor,sessionToken:sessionToken},{newSessionToken:newSessionToken,needsTwoFactorCode:needsTwoFactorCode,wrongTwoFactorCode:wrongTwoFactorCode,authorizationRequired:authorizationRequired}).then(didLogin)["catch"](loginError)},sessionToken=$cookies.get("session"),sessionGuid=$cookies.get("uid");doLogin(uid,sessionGuid,sessionToken),currency.fetchExchangeRate()},wallet.upgrade=function(successCallback,cancelSecondPasswordCallback){var success=function(){wallet.status.didUpgradeToHd=!0,wallet.status.didInitializeHD=!0,wallet.my.wallet.getHistory().then(function(){wallet.status.didLoadBalances=!0,wallet.status.didLoadTransactions=!0}),successCallback(),$rootScope.$safeApply()},error=function(){wallet.store.enableLogout(),wallet.store.setIsSynchronizedWithServer(!0),$window.location.reload()},proceed=function(password){$translate("FIRST_ACCOUNT_NAME").then(function(translation){wallet.my.wallet.upgradeToV3(translation,password,success,error)})};wallet.askForSecondPasswordIfNeeded().then(proceed)["catch"](cancelSecondPasswordCallback)},wallet.legacyAddresses=function(){return wallet.status.isLoggedIn?wallet.my.wallet.keys:[]},wallet.getReceiveAddress=MyWalletHelpers.memoize(function(acctIdx,addrIdx){var account=wallet.accounts()[acctIdx];return account.receiveAddressAtIndex(addrIdx)}),wallet.getLabelledHdAddresses=function(acctIdx){var account=wallet.accounts()[acctIdx];return account.receivingAddressesLabels.map(function(_ref){var index=_ref.index,label=_ref.label;return{index:index,label:label,address:wallet.getReceiveAddress(acctIdx,index)}})},wallet.getPendingPayments=function(acctIdx){var labelledAddresses=wallet.getLabelledHdAddresses(acctIdx),addresses=labelledAddresses.map(function(a){return a.address});return $q.resolve(MyBlockchainApi.getBalances(addresses)).then(function(data){return labelledAddresses.map(function(_ref2){var index=_ref2.index,address=_ref2.address,label=_ref2.label;return{index:index,address:address,label:label,ntxs:data[address].n_tx}}).filter(function(a){return 0===a.ntxs})})},wallet.addAddressForAccount=function(account){var index=account.receiveIndex,address=wallet.getReceiveAddress(account.index,index),label=$translate.instant("DEFAULT_NEW_ADDRESS_LABEL");return $q.resolve(account.setLabelForReceivingAddress(index,label,15)).then(function(){return{index:index,address:address,label:label}})},wallet.create=function(password,email,currency,language,success_callback){var success=function(uid,sharedKey,password,sessionToken){$cookies.put("session",sessionToken),$cookies.put("uid",uid),Alerts.displaySuccess("Wallet created with identifier: "+uid),wallet.goal.firstTime=!0;var loginSuccess=function(guid){success_callback(uid)},loginError=function(error){console.log(error),Alerts.displayError("Unable to login to new wallet")};wallet.login(uid,password,null,null,loginSuccess,loginError)},error=function(_error){void 0!==_error.message?Alerts.displayError(_error.message):Alerts.displayError(_error)},currency_code=currency&&currency.code||"USD",language_code=language&&language.code||"en";$translate("FIRST_ACCOUNT_NAME").then(function(translation){wallet.my.createNewWallet(email,password,translation,language_code,currency_code,success,error)})},wallet.askForSecondPasswordIfNeeded=function(){var defer=$q.defer();return wallet.my.wallet.isDoubleEncrypted?$rootScope.$broadcast("requireSecondPassword",defer):defer.resolve(null),defer.promise},wallet.askForMainPasswordConfirmation=function(){return Alerts.prompt("MAIN_PW_REQUIRED",{type:"password"}).then(wallet.isCorrectMainPassword).then(function(correct){return correct?$q.resolve(!0):$q.reject("incorrect_main_pw")})},wallet.saveActivity=function(){$rootScope.$broadcast("updateActivityFeed")};var addressBook=void 0;wallet.addressBook=function(refresh){var myAddressBook=wallet.my.wallet.addressBook;return(void 0===addressBook||refresh)&&(addressBook=Object.keys(myAddressBook).map(function(key){return{address:key,label:myAddressBook[key]}})),addressBook},wallet.removeAddressBookEntry=function(address){wallet.my.wallet.removeAddressBookEntry(address.address),wallet.addressBook(!0)},wallet.createAccount=function(label,successCallback,errorCallback,cancelCallback){var proceed=function(password){wallet.my.wallet.newAccount(label,password),wallet.my.wallet.getHistory(),successCallback&&successCallback()};wallet.askForSecondPasswordIfNeeded().then(proceed)["catch"](cancelCallback)},wallet.renameAccount=function(account,name,successCallback,errorCallback){account.label=name,successCallback()},wallet.changeLegacyAddressLabel=function(address,label,successCallback,errorCallback){address.label=label,successCallback()},wallet.changeHDAddressLabel=function(accountIdx,index,label,successCallback,errorCallback){var account=wallet.accounts()[parseInt(accountIdx,10)];$q.resolve(account.setLabelForReceivingAddress(index,label,15)).then(successCallback)["catch"](errorCallback)},wallet.askForDeauth=function(){return wallet.user.isEmailVerified&&!wallet.autoLogout},wallet.logout=function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_options$auto=options.auto,auto=void 0!==_options$auto&&_options$auto;wallet.autoLogout=auto,$window.name=wallet.askForDeauth()?"blockchain-logout":"blockchain",$cookies.remove("password"),wallet.my.logout(!0)},wallet.makePairingCode=function(successCallback,errorCallback){var success=function(code){successCallback(code),$rootScope.$safeApply()},error=function(){errorCallback(),$rootScope.$safeApply()};wallet.my.makePairingCode(success,error)},wallet.confirmRecoveryPhrase=function(){wallet.my.wallet.hdwallet.verifyMnemonic(),wallet.status.didConfirmRecoveryPhrase=!0},wallet.isCorrectMainPassword=function(candidate){return wallet.store.isCorrectMainPassword(candidate)},wallet.changePassword=function(newPassword,successCallback,errorCallback){wallet.store.changePassword(newPassword,function(){var msg="CHANGE_PASSWORD_SUCCESS";Alerts.displaySuccess(msg),successCallback(msg)},function(){var err="CHANGE_PASSWORD_FAILED";Alerts.displayError(err),errorCallback(err)})},wallet.setIPWhitelist=function(ips){var update=function(s,e){return wallet.settings_api.updateIPlock(ips,s,e)};return $q(update).then(function(){return wallet.settings.ipWhitelist=ips})},wallet.resendEmailConfirmation=function(successCallback,errorCallback){var success=function(){successCallback&&successCallback(),$rootScope.$safeApply()},error=function(){errorCallback&&errorCallback(),$rootScope.$safeApply()};wallet.settings_api.resendEmailConfirmation(wallet.user.email,success,error)},wallet.sendConfirmationCode=function(successCallback,errorCallback){var success=function(){successCallback&&successCallback(),$rootScope.$safeApply()},error=function(){errorCallback&&errorCallback(),$rootScope.$safeApply()};wallet.settings_api.sendConfirmationCode(success,error)},wallet.verifyEmail=function(code,successCallback,errorCallback){var success=function(res){res.success?(wallet.user.isEmailVerified=1,$rootScope.$safeApply(),successCallback()):error(res.error)},error=function(err){errorCallback(err),$rootScope.$safeApply()};wallet.settings_api.verifyEmail(code,success,error)},wallet.setPbkdf2Iterations=function(n,successCallback,errorCallback,cancelCallback){var proceed=function(password){wallet.my.wallet.changePbkdf2Iterations(parseInt(n,10),password),wallet.settings.pbkdf2=wallet.my.wallet.pbkdf2_iterations,successCallback()};wallet.askForSecondPasswordIfNeeded().then(proceed)["catch"](cancelCallback)},wallet.setLoggingLevel=function(level){wallet.settings_api.updateLoggingLevel(level,function(){wallet.settings.loggingLevel=level,wallet.saveActivity(4),$rootScope.$safeApply()},function(){Alerts.displayError("Failed to update logging level"),$rootScope.$safeApply()})},wallet.toggleDisplayCurrency=function(){currency.isBitCurrency(wallet.settings.displayCurrency)?wallet.settings.displayCurrency=wallet.settings.currency:wallet.settings.displayCurrency=wallet.settings.btcCurrency},wallet.checkAndGetTransactionAmount=function(amount,currency,success,error){return amount=currency.convertToSatoshi(amount,currency),null==success||null==error?void console.error("Success and error callbacks are required"):amount},wallet.addAddressOrPrivateKey=function(addressOrPrivateKey,needsBipPassphraseCallback,successCallback,errorCallback,cancel){var success=function(address){successCallback(address),$rootScope.$safeApply()},proceed=function(){var secondPassword=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",error=function(message){"needsBip38"===message?needsBipPassphraseCallback(proceedWithBip38):errorCallback(message),$rootScope.$safeApply()},proceedWithBip38=function(bipPassphrase){wallet.my.wallet.importLegacyAddress(addressOrPrivateKey,"",secondPassword,bipPassphrase).then(success,error)},proceedWithoutBip38=function(){wallet.my.wallet.importLegacyAddress(addressOrPrivateKey,"",secondPassword,"").then(success,error)};proceedWithoutBip38()};wallet.askForSecondPasswordIfNeeded().then(proceed,cancel)},wallet.getAddressBookLabel=function(address){return wallet.my.wallet.getAddressBookLabel(address)},wallet.getMnemonic=function(successCallback,errorCallback,cancelCallback){var proceed=function(password){var mnemonic=wallet.my.wallet.getMnemonic(password);successCallback(mnemonic)};wallet.askForSecondPasswordIfNeeded().then(proceed)["catch"](cancelCallback)},wallet.importWithMnemonic=function(mnemonic,bip39pass,successCallback,errorCallback,cancelCallback){var cancel=function(){cancelCallback()},restore=function(password){console.log("restoring..."),wallet.my.wallet.restoreHDWallet(mnemonic,bip39pass,password)},update=function(){console.log("updating..."),wallet.my.wallet.getHistory().then(successCallback)};wallet.askForSecondPasswordIfNeeded().then(restore).then(update)["catch"](cancel)},wallet.getDefaultAccountIndex=function(){return null==wallet.my.wallet?0:wallet.my.wallet.isUpgradedToHD?wallet.my.wallet.hdwallet.defaultAccountIndex:0},wallet.getReceivingAddressForAccount=function(idx){return wallet.my.wallet.isUpgradedToHD?wallet.my.wallet.hdwallet.accounts[idx].receiveAddress:""},wallet.getReceivingAddressIndexForAccount=function(idx){return wallet.my.wallet.isUpgradedToHD?wallet.my.wallet.hdwallet.accounts[idx].receiveIndex:null},wallet.parsePaymentRequest=function(url){var result={address:null,amount:null,label:null,message:null};if(result.isValid=!0,0===url.indexOf("bitcoin:")){var withoutPrefix=url.replace("bitcoin://","").replace("bitcoin:",""),qIndex=withoutPrefix.indexOf("?");if(qIndex!==-1){result.address=withoutPrefix.substr(0,qIndex);var keys=withoutPrefix.substr(qIndex+1).split("&");keys.forEach(function(item){var key,value;key=item.split("=")[0],value=item.split("=")[1],"amount"===key?result.amount=currency.convertToSatoshi(parseFloat(value),currency.bitCurrencies[0]):void 0!==result[key]&&(result[key]=value)})}else result.address=withoutPrefix}else wallet.isValidAddress(url)?result.address=url:result.isValid=!1;return result},wallet.parseBitcoinURL=function(destinations){function extractFromUri(URI){var result={},addressRegex=/(?=\:)(.*)(?=\?)/,amountRegex=/amount=[0-9.]*/,noteRegex=/message=.*/,addressSlice=1,amountSlice=7,noteSlice=8,address=URI.match(addressRegex)[0];result.address=address.slice(addressSlice,address.length);var amount=URI.match(amountRegex);amount?result.amount=1e8*parseFloat(amount[0].slice(amountSlice,amount[0].length)):"";var note=URI.match(noteRegex);return note?result.note=decodeURI(note[0].slice(noteSlice,note[0].length)):"",result}if(0!==destinations.length)return extractFromUri(destinations[0].address)},wallet.isSynchronizedWithServer=function(){return wallet.store.isSynchronizedWithServer()},window.onbeforeunload=function(event){return!wallet.isSynchronizedWithServer()&&wallet.my.wallet.isEncryptionConsistent?(event.preventDefault(),"There are unsaved changes. Are you sure?"):void(wallet.askForDeauth()&&($window.name="blockchain-logout"))},wallet.isValidAddress=function(address){return MyWalletHelpers.isBitcoinAddress(address)},wallet.isValidPrivateKey=function(priv){return MyWalletHelpers.isValidPrivateKey(priv)},wallet.archive=function(address_or_account){wallet.saveActivity(3),address_or_account.archived=!0,address_or_account.active=!1},wallet.unarchive=function(address_or_account){wallet.saveActivity(3),address_or_account.archived=!1,address_or_account.active=!0},wallet.deleteLegacyAddress=function(address){wallet.saveActivity(3),wallet.my.wallet.deleteLegacyAddress(address)},wallet.accounts=function(){return wallet.status.isLoggedIn?null!=wallet.my.wallet.hdwallet?wallet.my.wallet.hdwallet.accounts:[]:null},wallet.total=function(accountIndex){if(null==wallet.my.wallet||!wallet.status.isLoggedIn)return null;switch(accountIndex){case"":case void 0:return wallet.my.wallet.isUpgradedToHD?null==wallet.my.wallet.balanceActiveLegacy||null==wallet.my.wallet.hdwallet.balanceActiveAccounts?null:wallet.my.wallet.hdwallet.balanceActiveAccounts+wallet.my.wallet.balanceActiveLegacy:wallet.my.wallet.balanceActiveLegacy;case"imported":return wallet.my.wallet.balanceActiveLegacy;default:var account=wallet.accounts()[parseInt(accountIndex,10)];return null==account?null:account.balance}},wallet.formatTransactionCoins=function(tx){var input=tx.processedInputs.filter(function(i){return!i.change})[0]||tx.processedInputs[0],outputs=tx.processedOutputs.filter(function(o){return!o.change&&o.address!==input.address}),setLabel=function(io){return io.label=io.label||wallet.getAddressBookLabel(io.address)||io.address};return setLabel(input),outputs.forEach(setLabel),{input:input,outputs:outputs}},wallet.beep=function(){var sound=ngAudio.load("beep-9ae76e5975316f35787ebbb92799c4c1d42581af.wav");sound.play()},wallet.monitor=function(event,data){if("on_tx"===event){$rootScope.cancelRefresh();var tx=wallet.my.wallet.txList.transactions()[0];tx.result>0&&"received"===tx.txType&&(wallet.beep(),Alerts.displayReceivedBitcoin("JUST_RECEIVED_BITCOIN"))}else if("on_block"===event);else if("error_restoring_wallet"===event);else if("did_set_guid"===event);else if("on_wallet_decrypt_finish"===event);else if("hd_wallets_does_not_exist"===event)wallet.status.didUpgradeToHd=!1,wallet.goal.upgrade=!0;else if("wallet not found"===event)Alerts.displayError("WALLET_NOT_FOUND");else if("ticker_updated"===event||"did_set_latest_block"===event);else if("logging_out"===event){for(wallet.autoLogout&&$translate("LOGGED_OUT_AUTOMATICALLY").then(function(translation){$cookies.put("alert-warning",translation)}),wallet.status.isLoggedIn=!1;wallet.paymentRequests.length>0;)wallet.paymentRequests.pop();wallet.user.uid="",wallet.password=""}else"ws_on_close"===event||"ws_on_open"===event||(void 0!==event.type?"error"===event.type?Alerts.displayError(event.msg):"success"===event.type?Alerts.displaySuccess(event.msg):"notice"===event.type&&Alerts.displayWarning(event.msg):"on_email_verified"===event?data.email===wallet.user.email&&data.verified&&(wallet.user.isEmailVerified=1,Alerts.displaySuccess("EMAIL_VERIFIED_MSG")):"wallet_logout"===event&&data.guid===wallet.user.uid&&wallet.logout({auto:!0}));$rootScope.$safeApply()},wallet.store.addEventListener(function(event,data){wallet.monitor(event,data)});var message=$cookies.get("alert-warning");return void 0!==message&&null!==message&&(Alerts.displayWarning(message,!0),$cookies.remove("alert-warning")),message=$cookies.get("alert-success"),void 0!==message&&null!==message&&(Alerts.displaySuccess(message),$cookies.remove("alert-success")),wallet.setNote=function(tx,text){wallet.my.wallet.setNote(tx.hash,text),$rootScope.$safeApply()},wallet.deleteNote=function(tx){wallet.my.wallet.deleteNote(tx.hash)},wallet.getNote=function(hash){return wallet.my.wallet.getNote(hash)},wallet.setLogoutTime=function(minutes,success,error){wallet.store.setLogoutTime(6e4*minutes),wallet.settings.logoutTimeMinutes=minutes,success()},wallet.getCurrency=function(){return wallet.my.getCurrency()},wallet.setLanguage=function(language){languages.set(language.code),wallet.settings.language=language},wallet.changeLanguage=function(language){return $q(function(resolve,reject){wallet.settings_api.changeLanguage(language.code,function(){wallet.setLanguage(language),resolve(!0)},reject)})},wallet.changeTheme=function(theme){return $q(function(resolve,reject){$cookies.put("theme",theme.name),resolve(!0)})},wallet.changeCurrency=function(curr){return $q(function(resolve,reject){wallet.settings_api.changeLocalCurrency(curr.code,function(){wallet.settings.currency=curr,currency.isBitCurrency(wallet.settings.displayCurrency)||(wallet.settings.displayCurrency=curr),resolve(!0)},reject)})},wallet.changeBTCCurrency=function(btcCurrency){return $q(function(resolve,reject){wallet.settings_api.changeBtcCurrency(btcCurrency.serverCode,function(){wallet.settings.btcCurrency=btcCurrency,currency.isBitCurrency(wallet.settings.displayCurrency)&&(wallet.settings.displayCurrency=btcCurrency),resolve(!0)},reject)})},wallet.changeEmail=function(email,successCallback,errorCallback){wallet.settings_api.changeEmail(email,function(){wallet.user.email=email,wallet.user.isEmailVerified=0,successCallback(),$rootScope.$safeApply()},function(){Alerts.displayError("CHANGE_EMAIL_FAILED"),$rootScope.$safeApply(),errorCallback()})},wallet.updateNotificationsType=function(types){return $q.resolve(MyBlockchainSettings.updateNotificationsType(types)["catch"](function(){Alerts.displayError("UPDATE_NOTIF_FAIL")}))},wallet.updateNotificationsOn=function(on){return $q.resolve(MyBlockchainSettings.updateNotificationsOn(on));
},wallet.setFeePerKB=function(fee,successCallback,errorCallback){wallet.my.wallet.fee_per_kb=fee,wallet.settings.feePerKB=fee,successCallback()},wallet.getActivityLogs=function(success){wallet.settings_api.getActivityLogs(success,function(){console.log("Failed to load activity logs")})},wallet.isEmailVerified=function(){return wallet.my.isEmailVerified},wallet.changeMobile=function(mobile,successCallback,errorCallback){wallet.settings_api.changeMobileNumber(mobile,function(){wallet.user.mobileNumber=mobile,wallet.user.isMobileVerified=!1,successCallback(),$rootScope.$safeApply()},function(){Alerts.displayError("CHANGE_MOBILE_FAILED"),errorCallback(),$rootScope.$safeApply()})},wallet.verifyMobile=function(code,successCallback,errorCallback){wallet.settings_api.verifyMobile(code,function(){wallet.user.isMobileVerified=!0,successCallback(),$rootScope.$safeApply()},function(){$translate("VERIFY_MOBILE_FAILED").then(function(translation){errorCallback(translation)}),$rootScope.$safeApply()})},wallet.changePasswordHint=function(hint,successCallback,errorCallback){wallet.settings_api.updatePasswordHint1(hint,function(){wallet.user.passwordHint=hint,successCallback(),$rootScope.$safeApply()},function(err){errorCallback(err),$rootScope.$safeApply()})},wallet.isMobileVerified=function(){return wallet.my.isMobileVerified},wallet.disableSecondFactor=function(){wallet.settings_api.unsetTwoFactor(function(){wallet.settings.needs2FA=!1,wallet.settings.twoFactorMethod=null,$rootScope.$safeApply()},function(){console.log("Failed"),$rootScope.$safeApply()})},wallet.setTwoFactorSMS=function(){wallet.settings_api.setTwoFactorSMS(function(){wallet.settings.needs2FA=!0,wallet.settings.twoFactorMethod=5,$rootScope.$safeApply()},function(){console.log("Failed"),$rootScope.$safeApply()})},wallet.setTwoFactorEmail=function(){wallet.settings_api.setTwoFactorEmail(function(){wallet.settings.needs2FA=!0,wallet.settings.twoFactorMethod=2,$rootScope.$safeApply()},function(){console.log("Failed"),$rootScope.$safeApply()})},wallet.setTwoFactorYubiKey=function(code,successCallback,errorCallback){wallet.settings_api.setTwoFactorYubiKey(code,function(){wallet.settings.needs2FA=!0,wallet.settings.twoFactorMethod=1,successCallback(),$rootScope.$safeApply()},function(error){console.log(error),errorCallback(error),$rootScope.$safeApply()})},wallet.setTwoFactorGoogleAuthenticator=function(){wallet.settings_api.setTwoFactorGoogleAuthenticator(function(secret){wallet.settings.googleAuthenticatorSecret=secret,$rootScope.$safeApply()},function(){console.log("Failed"),$rootScope.$safeApply()})},wallet.confirmTwoFactorGoogleAuthenticator=function(code,successCallback,errorCallback){wallet.settings_api.confirmTwoFactorGoogleAuthenticator(code,function(){wallet.settings.needs2FA=!0,wallet.settings.twoFactorMethod=4,wallet.settings.googleAuthenticatorSecret=null,successCallback(),$rootScope.$safeApply()},function(){errorCallback(),$rootScope.$safeApply()})},wallet.enableRememberTwoFactor=function(successCallback,errorCallback){var success=function(){wallet.settings.rememberTwoFactor=!0,successCallback(),$rootScope.$safeApply()},error=function(){errorCallback(),$rootScope.$safeApply()};wallet.settings_api.toggleSave2FA(!1,success,error)},wallet.disableRememberTwoFactor=function(successCallback,errorCallback){var success=function(){wallet.settings.rememberTwoFactor=!1,$cookies.remove("session"),successCallback(),$rootScope.$safeApply()},error=function(){errorCallback(),$rootScope.$safeApply()};wallet.settings_api.toggleSave2FA(!0,success,error)},wallet.handleBitcoinLinks=function(){wallet.saveActivity(2);var uri=$rootScope.rootPath+"/open/%s";$window.navigator.registerProtocolHandler("bitcoin",uri,"Blockchain")},wallet.enableBlockTOR=function(){wallet.settings_api.updateTorIpBlock(1,function(){wallet.settings.blockTOR=!0,$rootScope.$safeApply()},function(){console.log("Failed"),$rootScope.$safeApply()})},wallet.disableBlockTOR=function(){wallet.settings_api.updateTorIpBlock(0,function(){wallet.settings.blockTOR=!1,$rootScope.$safeApply()},function(){console.log("Failed"),$rootScope.$safeApply()})},wallet.enableRestrictToWhiteListedIPs=function(){wallet.settings_api.updateIPlockOn(!0,function(){wallet.settings.restrictToWhitelist=!0,wallet.saveActivity(2),$rootScope.$safeApply()},function(){Alerts.displayError("ERR_ENABLE_IP_RESTRICT"),$rootScope.$safeApply()})},wallet.disableRestrictToWhiteListedIPs=function(){wallet.settings_api.updateIPlockOn(!1,function(){wallet.settings.restrictToWhitelist=!1,wallet.saveActivity(2),$rootScope.$safeApply()},function(){console.log("Failed"),$rootScope.$safeApply()})},wallet.removeAlias=function(){return $q.resolve(wallet.settings_api.removeAlias()).then(function(){return wallet.user.alias=null},function(){return Alerts.displayError("POOR_CONNECTION")})},wallet.getDefaultAccount=function(){return wallet.accounts()[wallet.getDefaultAccountIndex()]},wallet.setDefaultAccount=function(account){wallet.my.wallet.hdwallet.defaultAccountIndex=account.index},wallet.isDefaultAccount=function(account){return wallet.my.wallet.hdwallet.defaultAccountIndex===account.index},wallet.isValidBIP39Mnemonic=function(mnemonic){return MyWalletHelpers.isValidBIP39Mnemonic(mnemonic)},wallet.exportHistory=function(start,end,active){var json2csv=function(json){var headers=Object.keys(json[0]),makeRow=function(obj){return JSON.stringify(Object.keys(obj).map(function(key){return obj[key]})).slice(1,-1)};return[headers.join(",")].concat(json.map(makeRow)).join("\n")},addTxNote=function(tx){return tx.note=wallet.getNote(tx.tx)||"",tx},currency=wallet.settings.currency,p=MyBlockchainApi.exportHistory(active,currency.code,{start:start,end:end});return $q.resolve(p).then(function(history){return history.length?json2csv(history.map(addTxNote)):$q.reject("NO_HISTORY")})["catch"](function(e){var error=e.message||e;return"string"==typeof error&&error.indexOf("Too many transactions")>-1&&(error="TOO_MANY_TXS"),Alerts.displayError(error||"UNKNOWN_ERROR"),$q.reject(error)})},wallet.removeSecondPassword=function(password,successCallback,errorCallback){var success=function(){wallet.settings.secondPassword=!1,successCallback()},error=function(){errorCallback()},decrypting=function(){console.log("Decrypting...")},syncing=function(){console.log("Syncing...")},didDecrypt=function(){var whatsNewViewed=$cookies.get("whatsNewViewed");whatsNewViewed?!function(){var whatsNew=wallet.my.wallet.metadata(2);whatsNew.fetch().then(function(res){null===res?whatsNew.create({lastViewed:whatsNewViewed}).then(function(){success()}):whatsNew.update({lastViewed:whatsNewViewed}).then(function(){success()})})["catch"](function(){success()})}():success()};wallet.my.wallet.decrypt(password,didDecrypt,error,decrypting,syncing)},wallet.validateSecondPassword=function(password){return wallet.my.wallet.validateSecondPassword(password)},wallet.setSecondPassword=function(password,successCallback){var success=function(){Alerts.displaySuccess("Second password set."),wallet.settings.secondPassword=!0,successCallback()},error=function(){Alerts.displayError("Second password cannot be set. Contact support.")},encrypting=function(){console.log("Encrypting...")},syncing=function(){console.log("Syncing...")},proceed=function(){wallet.my.wallet.encrypt(password,success,error,encrypting,syncing)},whatsNew=wallet.my.wallet.metadata(2);whatsNew.fetch().then(function(res){null!==res&&$cookies.put("whatsNewViewed",res.lastViewed)})["catch"](function(){throw new Error("saving your What's New view status failed")});var other=$q.resolve();$q.all([whatsNew,other]).then(proceed)["catch"](function(reason){console.log("all"),Alerts.displayError("Could enable second password, because "+reason)})},wallet.refresh=function(){wallet.my.refresh()},wallet.isMock=void 0!==wallet.my.mockShouldFailToSend,wallet}angular.module("walletServices",[]).factory("Wallet",Wallet),Wallet.$inject=["$http","$window","$timeout","$location","$injector","Alerts","MyWallet","MyBlockchainApi","MyBlockchainRng","MyBlockchainSettings","MyWalletStore","MyWalletPayment","MyWalletHelpers","$rootScope","ngAudio","$cookies","$translate","$filter","$state","$q","languages","currency","theme","BlockchainConstants"]}(),function(){"use strict";function AccountFormCtrl($scope,$q,$uibModalInstance,Wallet,Alerts,account){$scope.accounts=Wallet.accounts,$scope.status={},$scope.isNameUnused=function(name){return $scope.accounts().every(function(a){return a.label!==name})},null!=account&&($scope.name=account.label,$scope.status.edit=!0),$scope.createAccount=function(){if(!Wallet.my.browserCheck())return Alerts.displayError("UNSUITABLE_BROWSER",!0),$uibModalInstance.close();var done=function(){$scope.status.busy=!1,$scope.$safeApply()};$scope.status.busy=!0,Wallet.createAccount($scope.name,function(){return $uibModalInstance.dismiss()},done,done)},$scope.updateAccount=function(){$scope.status.busy=!0,$q(Wallet.renameAccount.bind(null,account,$scope.name)).then(function(){return $uibModalInstance.dismiss("")})["finally"](function(){return $scope.status.busy=!1})},$scope.submit=function(){return $scope.status.edit?$scope.updateAccount():$scope.createAccount()}}angular.module("walletApp").controller("AccountFormCtrl",AccountFormCtrl)}(),function(){"use strict";function AuthorizeApproveCtrl($window,$scope,WalletTokenEndpoints,$stateParams,$state,Alerts,$translate,$rootScope,MyWalletHelpers,Wallet){$scope.success=!1;var success=function(res){$scope.checkingToken=!1,$scope.busyApproving=!1,$scope.busyRejecting=!1,null!=res.success&&($scope.success=!0,"iOS"===MyWalletHelpers.getMobileOperatingSystem()&&($window.location.href="blockchain-wallet://loginAuthorized"),$rootScope.$safeApply())},error=function(res){$scope.checkingToken=!1,$scope.busyApproving=!1,$scope.busyRejecting=!1,$state.go("public.login-no-uid"),Alerts.displayError(res.error,!0),$rootScope.$safeApply()},differentBrowser=function(details){$scope.checkingToken=!1,$scope.differentBrowser=!0,$scope.details=details,$rootScope.$safeApply()};$scope.checkingToken=!0,WalletTokenEndpoints.authorizeApprove($stateParams.token,differentBrowser,null).then(success)["catch"](error),$scope.approve=function(){$scope.busyApproving=!0,WalletTokenEndpoints.authorizeApprove($stateParams.token,function(){},!0).then(success)["catch"](error)},$scope.reject=function(){$scope.busyRejecting=!0;var rejected=function(){$scope.busyRejecting=!1,$state.go("public.login-no-uid").then(function(){return Alerts.displaySuccess("AUTHORIZE_REJECT_SUCCESS")})};WalletTokenEndpoints.authorizeApprove($stateParams.token,function(){},!1).then(rejected)["catch"](error)}}angular.module("walletApp").controller("AuthorizeApproveCtrl",AuthorizeApproveCtrl)}(),function(){"use strict";function BuySellCtrl($rootScope,$scope,$state,Alerts,Wallet,currency,buySell,MyWallet,$cookies){$scope.buySellStatus=buySell.getStatus,$scope.trades=buySell.trades,$scope.status={loading:!1,modalOpen:!1},$scope.walletStatus=Wallet.status,$scope.status.metaDataDown=$scope.walletStatus.isLoggedIn&&!$scope.buySellStatus().metaDataService,$scope.tradeLimit=5,$scope.scrollTrades=function(){$scope.tradeLimit+=5},$scope.onCloseModal=function(){$scope.status.modalOpen=!1,$scope.kyc=buySell.kycs[0],buySell.pollKYC()},$scope.initialize=function(){$scope.currencies=currency.coinifyCurrencies,$scope.settings=Wallet.settings,$scope.transaction={fiat:void 0,currency:buySell.getCurrency()},$scope.currencySymbol=currency.conversions[$scope.transaction.currency.code],$scope.limits={card:{},bank:{}},$scope.state={buy:!0},$scope.rating=0,$scope.buy=function(trade,options){$scope.status.modalOpen||($scope.status.modalOpen=!0,buySell.openBuyView(trade,options)["finally"]($scope.onCloseModal))},buySell.getExchange(),$scope.$watch("settings.currency",function(){$scope.transaction.currency=buySell.getCurrency()},!0),$scope.$watch("transaction.currency",function(newVal,oldVal){var curr=$scope.transaction.currency||null;$scope.currencySymbol=currency.conversions[curr.code],newVal!==oldVal&&$scope.getMaxMin()}),buySell.getStatus().metaDataService&&buySell.getExchange().user?($scope.status.loading=!0,buySell.login()["finally"](function(){$scope.kyc=buySell.kycs[0],$scope.exchange=buySell.getExchange(),$scope.status.loading=!1,$scope.status.disabled=!1,$scope.getMaxMin(),$scope.exchange?+$scope.exchange.profile.level.name<2&&($scope.kyc?buySell.pollKYC():buySell.getKYCs().then(function(kycs){kycs.length>0&&buySell.pollKYC(),$scope.kyc=kycs[0]})):$scope.$watch(buySell.getExchange,function(ex){return $scope.exchange=ex})})["catch"](function(e){console.log(e),$scope.status.exchangeDown=!0})):$scope.status.disabled=!1,$scope.openKyc=function(){["declined","rejected","expired"].indexOf($scope.kyc.state)>-1?buySell.triggerKYC().then(function(kyc){return $scope.buy(kyc)}):$scope.buy($scope.kyc)},$scope.changeCurrency=function(curr){curr&&$scope.currencies.some(function(c){return c.code===curr.code})&&($scope.transaction.currency=curr)},$scope.submitFeedback=function(rating){return buySell.submitFeedback(rating)}};var watchLogin=void 0;Wallet.status.isLoggedIn?$scope.initialize():watchLogin=$scope.$watch("status.isLoggedIn",function(isLoggedIn){isLoggedIn&&($scope.initialize(),watchLogin())}),$scope.getMaxMin=function(){var calculateMin=function(rate){$scope.limits.card.min=(10*rate).toFixed(2)},calculateMax=function(rate){$scope.limits.bank.max=buySell.calculateMax(rate,"bank").max,$scope.limits.card.max=buySell.calculateMax(rate,"card").max,$scope.limits.currency=$scope.currencySymbol};buySell.getRate("EUR",$scope.transaction.currency.code).then(calculateMin),buySell.getRate($scope.exchange.profile.defaultCurrency,$scope.transaction.currency.code).then(calculateMax)},$rootScope.$on("fetchExchangeProfile",function(){$scope.status.disabled=!0,$scope.initialize()})}angular.module("walletApp").controller("BuySellCtrl",BuySellCtrl)}(),function(){"use strict";function BuySellMasterController($scope,$timeout,$state,MyWallet,$cookies){var _this=this;$cookies.put("buy-alert-seen",!0),this.base="wallet.common.buy-sell",this.external=MyWallet.wallet.external,this.resolveState=function(){return _this.external.coinify.user?".coinify":_this.external.sfox.user?".sfox":".select"},this.toNextState=function(){var nextState=_this.resolveState();$state.go(nextState)};var state=$scope.state={loading:!1,error:!1,get transitioning(){return this.loading||this.error}};$scope.$on("$stateChangeStart",function(event,toState,toParams,fromState){fromState.name===_this.base&&(state.error=!1,state.loading=!0),toState.name===_this.base&&$timeout(_this.toNextState)}),$scope.$on("$stateChangeSuccess",function(event,toState,toParams,fromState){fromState.name===_this.base&&(state.loading=!1)}),$scope.$on("$stateChangeError",function(event,toState,toParams,fromState){fromState.name===_this.base&&(state.error=!0,state.loading=!1)}),this.toNextState()}angular.module("walletApp").controller("BuySellMasterController",BuySellMasterController)}(),function(){"use strict";function BuySellSelectPartnerController($scope,$state,MyWallet,buySell,country,options,buyStatus){buyStatus.canBuy().then(function(canBuy){if(!canBuy)return void $state.go("wallet.common.home")});var contains=function(val,list){return list.indexOf(val)>-1},codeGuess=MyWallet.wallet.accountInfo&&MyWallet.wallet.accountInfo.countryCodeGuess;$scope.countries=country.countryCodes,$scope.country=$scope.countries.filter(function(c){return c.Code===codeGuess})[0],$scope.coinifyWhitelist=options.partners.coinify.countries,$scope.sfoxWhitelist=options.partners.sfox.countries,$scope.partners={coinify:{name:"Coinify",logo:"img/coinify-logo-fa0a52746e159ab426bbaa496ed54d0f34f24a3b.svg",href:"https://www.coinify.com/",subtext:"COINIFY_EXPLAIN",route:".coinify"},sfox:{name:"SFOX",logo:"img/sfox-logo-7ad6ac7721304a50e4f1c992942df4f6d250ae40.png",href:"https://www.sfox.com/",subtext:"SFOX_EXPLAIN",route:".sfox"}},$scope.selectPartner=function(partner,countryCode){$state.go($scope.vm.base+partner.route,{countryCode:countryCode})},$scope.onWhitelist=function(countryCode){return contains(countryCode,$scope.coinifyWhitelist)&&"coinify"||contains(countryCode,$scope.sfoxWhitelist)&&"sfox"||!1},$scope.$watch("country",function(c){var whitelisted=$scope.onWhitelist(c.Code);$scope.blacklisted=!whitelisted,$scope.partner=whitelisted?$scope.partners[whitelisted]:null})}angular.module("walletApp").controller("BuySellSelectPartnerController",BuySellSelectPartnerController)}(),function(){"use strict";function CoinifyController($scope,$filter,$q,MyWallet,Wallet,MyWalletHelpers,Alerts,currency,$uibModalInstance,trade,buyOptions,$timeout,$interval,formatTrade,buySell,$rootScope,$cookies,$window){$scope.settings=Wallet.settings,$scope.btcCurrency=$scope.settings.btcCurrency,$scope.currencies=currency.coinifyCurrencies,$scope.user=Wallet.user,$scope.trades=buySell.trades,$scope.alerts=[],$scope.status={},$scope.trade=trade,$scope.quote=buyOptions.quote;var links=["https://blockchain.co1.qualtrics.com/SE/?SID=SV_8pupOEQPGkXx8Kp","https://blockchain.co1.qualtrics.com/SE/?SID=SV_4ZuHusilGeNWm6V","https://blockchain.co1.qualtrics.com/SE/?SID=SV_1RF9VhC96M8xXh3"];$scope.buySellDebug=$rootScope.buySellDebug;var accountIndex=$scope.trade&&$scope.trade.accountIndex?$scope.trade.accountIndex:MyWallet.wallet.hdwallet.defaultAccount.index;$scope.label=MyWallet.wallet.hdwallet.accounts[accountIndex].label;var exchange=buySell.getExchange();$scope.exchange=exchange&&exchange.profile?exchange:{profile:{}},$scope.isKYC=$scope.trade&&"CoinifyKYC"===$scope.trade.constructor.name,$scope.needsKyc=function(){return $scope.isMedium("bank")&&+$scope.exchange.profile.level.name<2},$scope.needsISX=function(){return $scope.trade&&!$scope.trade.bankAccount&&buySell.tradeStateIn(buySell.states.pending)($scope.trade)||$scope.isKYC},$scope.needsReview=function(){return $scope.trade&&buySell.tradeStateIn(buySell.states.pending)($scope.trade)},$scope.expiredQuote=$scope.trade&&new Date>$scope.trade.quoteExpireTime&&$scope.trade.id;var updateBTCExpected=function(quote){$scope.status.gettingQuote=!1,$scope.btcExpected=quote},eventualError=function(message){return Promise.reject.bind(Promise,{message:message})};if($scope.steps={email:0,"accept-terms":1,"select-payment-medium":2,summary:3,isx:4,"trade-in-review":5,"trade-formatted":6},$scope.onStep=function(){for(var _len=arguments.length,steps=Array(_len),_key=0;_key<_len;_key++)steps[_key]=arguments[_key];return steps.some(function(s){return $scope.step===$scope.steps[s]})},$scope.afterStep=function(step){return $scope.step>$scope.steps[step]},$scope.beforeStep=function(step){return $scope.step<$scope.steps[step]},$scope.currentStep=function(){return Object.keys($scope.steps).filter($scope.onStep)[0]},$scope.goTo=function(step){return $scope.step=$scope.steps[step]},$scope.formattedTrade=void 0,$scope.bitcoinReceived=buyOptions.bitcoinReceived&&$scope.trade&&$scope.trade.bitcoinReceived,$scope.fields={email:$scope.user.email},$scope.transaction=null==trade?{fiat:buyOptions.fiat,btc:buyOptions.btc,fee:0,total:0,currency:buyOptions.currency||buySell.getCurrency()}:{fiat:$scope.trade.inAmount/100,btc:0,fee:0,total:0,currency:buySell.getCurrency($scope.trade)},$scope.changeCurrencySymbol=function(curr){$scope.currencySymbol=currency.conversions[curr.code]},$scope.changeCurrencySymbol($scope.transaction.currency),$timeout(function(){return!$scope.isKYC&&$scope.changeCurrency($scope.transaction.currency)}),$timeout(function(){return $scope.rendered=!0},$scope.bitcoinReceived?0:4e3),$scope.hideQuote=function(){return $scope.afterStep("isx")||$scope.isMedium("bank")||$scope.expiredQuote||$scope.quote&&!$scope.quote.id&&!$scope.trade},$scope.userHasExchangeAcct=$scope.exchange.user,$scope.getAccounts=function(){if($scope.exchange.user){var success=function(accounts){$scope.accounts=accounts},accountsError=eventualError("ERROR_ACCOUNTS_FETCH");return $scope.mediums[$scope.medium].getAccounts().then(success,accountsError)}},$scope.getPaymentMediums=function(){if($scope.exchange.user){buyOptions={},$scope.status.waiting=!0;var success=function(mediums){$scope.mediums=mediums,$scope.status.waiting=!1,$scope.medium&&$scope.updateAmounts()},mediumsError=eventualError("ERROR_PAYMENT_MEDIUMS_FETCH");return $scope.quote.getPaymentMediums().then(success,mediumsError)}},$scope.changeCurrency=function(curr){curr||(curr=buySell.getCurrency()),$scope.trade&&!$scope.isKYC&&(curr={code:$scope.trade.inCurrency}),$scope.transaction.currency=curr,$scope.changeCurrencySymbol(curr),$scope.getQuote()},$scope.standardError=function(err){console.log(err),$scope.status={};try{var e=JSON.parse(err),msg=e.error.toUpperCase();"EMAIL_ADDRESS_IN_USE"===msg?$scope.rejectedEmail=!0:Alerts.displayError(msg,!0,$scope.alerts,{user:$scope.exchange.user})}catch(e){var _msg=e.error||err.message;_msg?Alerts.displayError(_msg,!0,$scope.alerts):Alerts.displayError("INVALID_REQUEST",!0,$scope.alerts)}},$scope.updateAmounts=function(){($scope.trade||$scope.quote&&$scope.exchange.user)&&($scope.quote?($scope.transaction.methodFee=($scope.quote.paymentMediums[$scope.medium].fee/100).toFixed(2),$scope.transaction.total=($scope.quote.paymentMediums[$scope.medium].total/100).toFixed(2)):$scope.trade&&($scope.transaction.total=($scope.trade.sendAmount/100).toFixed(2)))},$scope.getQuote=function(){if($scope.trade)return void $scope.updateAmounts();if(buyOptions.quote)return void $scope.getPaymentMediums();$scope.quote=null,$scope.status.waiting=!0,$scope.status.gettingQuote=!0;var quoteError=eventualError("ERROR_QUOTE_FETCH"),baseCurr=buyOptions.btc?"BTC":$scope.transaction.currency.code,quoteCurr=buyOptions.btc?$scope.transaction.currency.code:"BTC",amount=buyOptions.btc?-Math.round(1e8*$scope.transaction.btc):Math.round(100*$scope.transaction.fiat),success=function(quote){$scope.status={},$scope.expiredQuote=!1,$scope.quote=quote,Alerts.clear($scope.alerts),"BTC"===quote.baseCurrency?($scope.transaction.btc=quote.baseAmount/1e8,$scope.transaction.fiat=-quote.quoteAmount/100):($scope.transaction.fiat=-quote.baseAmount/100,$scope.transaction.btc=quote.quoteAmount/1e8)};return buySell.getExchange().getBuyQuote(amount,baseCurr,quoteCurr).then(success,quoteError).then($scope.getPaymentMediums).then($scope.getAccounts)["catch"]($scope.standardError)},$scope.isCurrencySelected=function(currency){return currency===$scope.transaction.currency},$scope.nextStep=function(){$scope.trade?$scope.needsISX()&&!$scope.formattedTrade?$scope.goTo("isx"):$scope.needsReview()?$scope.goTo("trade-in-review"):$scope.goTo("trade-formatted"):$scope.user.isEmailVerified&&!$scope.rejectedEmail||$scope.exchange.user?$scope.exchange.user?$scope.isMediumSelected?$scope.goTo("summary"):($scope.goTo("select-payment-medium"),$scope.isMediumSelected=!0):$scope.goTo("accept-terms"):$scope.goTo("email")},$scope.isDisabled=function(){return $scope.onStep("email")?!$scope.user.isEmailVerified:$scope.onStep("accept-terms")?!$scope.signupForm.$valid:$scope.onStep("select-payment-medium")?!$scope.quote||!$scope.medium:$scope.onStep("summary")?$scope.editAmount||!$scope.limits.max:void 0},$scope.watchAddress=function(){if($rootScope.buySellDebug&&console.log("$scope.watchAddress() for",$scope.trade),$scope.trade&&!$scope.bitcoinReceived&&!$scope.isKYC){var success=function(){return $timeout(function(){return $scope.bitcoinReceived=!0})};$scope.trade.watchAddress().then(success)}},$scope.formatTrade=function(state){if(($scope.isKYC||$scope.needsKyc())&&(state="kyc"),$scope.formattedTrade=formatTrade[state]($scope.trade),$scope.needsKyc()){var poll=buySell.pollUserLevel(buySell.kycs[0]);return $scope.$on("$destroy",poll.cancel),poll.result.then($scope.buy)}},$scope.trade&&!$scope.needsISX()){var state=$scope.trade.state;$scope.bitcoinReceived||$scope.watchAddress(),$scope.trade.bankAccount&&"awaiting_transfer_in"===$scope.trade.state&&(state="bank_transfer"),$scope.formattedTrade=formatTrade[state]($scope.trade)}$scope.onResize=function(step){return $scope.isxStep=step},$scope.cancel=function(){$rootScope.$broadcast("fetchExchangeProfile"),$uibModalInstance.dismiss(""),$scope.trade=null},$scope.close=function(){var text=void 0,action=void 0,link=void 0,index=void 0,surveyOpened=$cookies.getObject("survey-opened");index=$scope.exchange.user?$scope.trades.length||$scope.trade?2:1:0,link=links[index];var hasSeenPrompt=surveyOpened&&surveyOpened.index>=index;if(hasSeenPrompt)text="CONFIRM_CLOSE_BUY",action="IM_DONE",Alerts.confirm(text,{action:action}).then($scope.cancel);else{text="COINIFY_SURVEY",action="TAKE_SURVEY";var openSurvey=function(){$scope.cancel(),$window.open(link),$cookies.putObject("survey-opened",{index:index})};Alerts.confirm(text,{action:action,friendly:!0,cancel:"NO_THANKS"}).then(openSurvey,$scope.cancel)}},$scope.getQuoteHelper=function(){return $scope.quote&&!$scope.expiredQuote&&$scope.beforeStep("trade-formatted")?"AUTO_REFRESH":$scope.quote&&!$scope.quote.id?"EST_QUOTE_1":$scope.expiredQuote?"EST_QUOTE_2":"RATE_WILL_EXPIRE"},$scope.fakeBankTransfer=function(){return $scope.trade.fakeBankTransfer().then(function(){$scope.formatTrade("processing"),$scope.$digest()})},$scope.$watch("medium",function(newVal){return newVal&&$scope.getAccounts().then($scope.updateAmounts)}),$scope.$watchGroup(["exchange.user","paymentInfo","formattedTrade"],$scope.nextStep),$scope.$watch("user.isEmailVerified",function(){return $scope.onStep("email")&&$scope.nextStep()}),$scope.$watch("bitcoinReceived",function(newVal){return newVal&&($scope.formattedTrade=formatTrade.success($scope.trade))}),$scope.$watch("expiredQuote",function(newVal){newVal&&!$scope.isKYC&&($scope.status.gettingQuote=!0,$scope.trade?$scope.trade.btcExpected().then(updateBTCExpected):$scope.getQuote())})}angular.module("walletApp").controller("CoinifyController",CoinifyController)}(),function(){"use strict";function CoinifyEmailController($scope,Alerts,Wallet,$q){$scope.toggleEmail=function(){return $scope.editEmail=!$scope.editEmail},$scope.$parent.verifyEmail=function(){$q(Wallet.verifyEmail.bind(null,$scope.$parent.fields.emailVerification))["catch"](function(err){Alerts.displayError(err)})},$scope.changeEmail=function(email,successCallback,errorCallback){$scope.$parent.rejectedEmail=void 0,Alerts.clear($scope.alerts),$q(function(res,rej){return Wallet.changeEmail(email,res,rej)}).then(successCallback,errorCallback)["finally"](function(){$scope.editEmail=!1})},$scope.$watch("$parent.step",function(newVal){$scope.steps.email!==newVal||Wallet.goal.firstLogin||Wallet.resendEmailConfirmation()})}angular.module("walletApp").controller("CoinifyEmailController",CoinifyEmailController)}(),function(){"use strict";function CoinifyMediumController($scope,Alerts,buySell){$scope.$parent.medium=$scope.trade?$scope.trade.medium:void 0,$scope.$parent.mediums={},$scope.$parent.getMedium=function(){return $scope.mediums[$scope.medium]||{}},$scope.$parent.isMedium=function(medium){return $scope.getMedium().inMedium===medium},$scope.$parent.confirmOrContinue=function(){var bankBuyMax=$scope.exchange.profile.currentLimits.bank.inRemaining,belowBuyLimit=$scope.transaction.fiat<=bankBuyMax,skipConfirm=$scope.needsKyc()||belowBuyLimit&&$scope.isMedium("bank");skipConfirm?$scope.buy():$scope.goTo("summary")}}angular.module("walletApp").controller("CoinifyMediumController",CoinifyMediumController)}(),function(){"use strict";function CoinifySignupController($scope,$stateParams,Alerts,buySell){$scope.$parent.signup=function(){return $scope.status.waiting=!0,Alerts.clear($scope.alerts),$scope.$parent.exchange=buySell.getExchange(),$scope.exchange.signup($stateParams.countryCode,$scope.transaction.currency.code).then(function(){return $scope.exchange.fetchProfile()}).then(function(){return $scope.getPaymentMediums()})["catch"]($scope.standardError)},$scope.$watch("signupForm",function(){$scope.$parent.signupForm=$scope.signupForm})}angular.module("walletApp").controller("CoinifySignupController",CoinifySignupController)}(),function(){"use strict";function CoinifySummaryController($scope,$q,$timeout,Wallet,buySell,currency,Alerts){$scope.$parent.limits={},$scope.exchange=buySell.getExchange(),$scope.toggleEditAmount=function(){return $scope.$parent.editAmount=!$scope.$parent.editAmount},$scope.isBankTransfer=function(){return $scope.isMedium("bank")},$scope.getMaxMin=function(curr){var calculateMin=function(rate){$scope.$parent.limits.min=(10*rate).toFixed(2)},calculateMax=function(rate){$scope.$parent.limits.max=buySell.calculateMax(rate,$scope.medium).max,$scope.$parent.limits.available=buySell.calculateMax(rate,$scope.medium).available};return buySell.fetchProfile(!0).then(function(){var min=buySell.getRate("EUR",curr.code).then(calculateMin),max=buySell.getRate($scope.exchange.profile.defaultCurrency,curr.code).then(calculateMax);return $q.all([min,max]).then($scope.setParentError)})},$scope.commitValues=function(){$scope.$parent.quote=null,$scope.status.waiting=!0,$scope.transaction.currency=$scope.tempCurrency,$scope.transaction.fiat=$scope.tempFiat,$scope.getQuote().then(function(){return $scope.status.waiting=!1}),$scope.$parent.changeCurrencySymbol($scope.transaction.currency),$scope.toggleEditAmount()},$scope.cancel=function(){$scope.tempCurrency=$scope.transaction.currency,$scope.tempFiat=$scope.transaction.fiat,$scope.$parent.fiatFormInvalid=!1,$scope.toggleEditAmount()},$scope.changeTempCurrency=function(curr){return $scope.getMaxMin(curr).then(function(){$scope.tempCurrency=curr})},$scope.setParentError=function(){$timeout(function(){$scope.$parent.fiatFormInvalid=$scope.tempFiatForm.$invalid&&!$scope.needsKyc()})};var eventualError=function(message){return Promise.reject.bind(Promise,{message:message})};$scope.$parent.buy=function(){$scope.status.waiting=!0;var success=function(trade){$scope.$parent.trade=trade,Alerts.clear($scope.alerts),$scope.$parent.trade.bankAccount&&$scope.formatTrade("bank_transfer"),$scope.nextStep()};if($scope.needsKyc())return buySell.kycs.length&&["declined","rejected","expired"].indexOf(buySell.kycs[0].state)>-1?buySell.triggerKYC().then(success,$scope.standardError):buySell.getOpenKYC().then(success,$scope.standardError);var buyError=eventualError("ERROR_TRADE_CREATE");$scope.accounts[0].buy()["catch"](buyError).then(success,$scope.standardError).then($scope.watchAddress)},$scope.$watch("transaction.currency",function(newVal,oldVal){$scope.tempCurrency=$scope.transaction.currency}),$scope.$watch("transaction.fiat",function(newVal,oldVal){$scope.tempFiat=$scope.transaction.fiat}),$scope.$watch("step",function(){$scope.onStep("summary")&&($scope.getMaxMin($scope.tempCurrency),$scope.$parent.quote.id||($scope.$parent.quote=null,$scope.getQuote()))})}angular.module("walletApp").controller("CoinifySummaryController",CoinifySummaryController)}(),function(){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function ConfirmRecoveryPhraseCtrl($scope,$uibModalInstance,Wallet,Alerts,modals){$scope.step=0,$scope.offset=0,$scope.recoveryPhrase=[],$scope.words=[].concat(_toConsumableArray(Array(4))).map(function(_){return{}}),$scope.addresses=Wallet.legacyAddresses().filter(function(a){return a.active&&!a.isWatchOnly&&a.balance>0}),$scope.shouldTransfer=$scope.addresses.reduce(function(sum,a){return sum+a.balance},0)>0,$scope.setRandomWords=function(){for(var currentWordIndex=0;currentWordIndex<4;){var randIndex=$scope.getRandInRange(0,11),randWord=$scope.recoveryPhrase.slice(randIndex)[0];if(!$scope.hasWordBeenUsed(randIndex+1)){var word=$scope.words[currentWordIndex++];word.actual=randWord,word.index=randIndex+1}}},$scope.hasWordBeenUsed=function(index){return $scope.words.some(function(e){return e.index===index})},$scope.getRandInRange=function(min,max){return Math.floor(Math.random()*(max-min+1)+min)},$scope.hasEmptyWords=function(){return $scope.words.some(function(word){return""===word.value})},$scope.goToShow=function(){$scope.step=1;var success=function(mnemonic){
$scope.recoveryPhrase=mnemonic.split(" "),$scope.setRandomWords()},error=function(_error){Alerts.displayError(_error),$scope.close()};Wallet.getMnemonic(success,error,$scope.close)},$scope.verify=function(){var valid=!0,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=$scope.words[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var word=_step.value;word.error=word.value.toLowerCase()!==word.actual,word.error&&(valid=!1)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator["return"]&&_iterator["return"]()}finally{if(_didIteratorError)throw _iteratorError}}valid&&(Wallet.confirmRecoveryPhrase(),$scope.step=$scope.shouldTransfer?4:3)},$scope.openTransferAll=function(){$scope.close(),modals.openTransfer($scope.addresses)},$scope.close=function(){$uibModalInstance.dismiss("")},$scope.previousStep=function(){$scope.step-=1},$scope.goToVerify=function(){$scope.step=2},$scope.nextWords=function(){$scope.offset+=4},$scope.previousWords=function(){$scope.offset-=4}}angular.module("walletApp").controller("ConfirmRecoveryPhraseCtrl",ConfirmRecoveryPhraseCtrl)}(),function(){"use strict";function DynamicFeeController($scope,$translate,$uibModalInstance,feeValues){angular.extend($scope,feeValues),$scope.balanceOverflow=$scope.suggestedFee>$scope.maxFee,$scope.surge?($scope.titleTranslation="SURGE_WARN",$scope.bodyTranslation="SURGE_EXPLAIN",$scope.btnTranslation="CONTINUE_WITH"):$scope.balanceOverflow?($scope.titleTranslation="LOW_FEE_WARN",$scope.bodyTranslation="LOW_FEE_EXPLAIN",$scope.btnTranslation="USE_VALUES"):$scope.currentFee<$scope.suggestedFee?($scope.titleTranslation="LOW_FEE_WARN",$scope.bodyTranslation="LOW_FEE_EXPLAIN",$scope.btnTranslation="RAISE_TO"):($scope.titleTranslation="HIGH_FEE_WARN",$scope.bodyTranslation="HIGH_FEE_EXPLAIN",$scope.btnTranslation="LOWER_TO"),$scope.cancel=function(){return $uibModalInstance.dismiss("cancelled")},$scope.useCurrent=function(){return $uibModalInstance.close(null)},$scope.useSuggested=function(){return $uibModalInstance.close($scope.suggestedFee)}}angular.module("walletApp").controller("DynamicFeeController",DynamicFeeController)}(),function(){"use strict";function ExportHistoryController($scope,$sce,$timeout,$translate,$filter,format,Wallet,activeIndex){$scope.limit=50,$scope.incLimit=function(){return $scope.limit+=50},$scope.ableBrowsers=["chrome","firefox"],$scope.canTriggerDownload=$scope.ableBrowsers.indexOf(browserDetection().browser)>-1;var accounts=Wallet.accounts().filter(function(a){return!a.archived&&null!=a.index}),addresses=Wallet.legacyAddresses().filter(function(a){return!a.archived}).map(function(a){return a.address}),all={index:"",label:$translate.instant("ALL"),address:accounts.map(function(a){return a.extendedPublicKey}).concat(addresses)},imported={index:"imported",label:$translate.instant("IMPORTED_ADDRESSES"),address:addresses};$scope.targets=[all].concat(accounts.map(format.origin)),addresses.length&&$scope.targets.push(imported),$scope.isLast=function(t){return t===$scope.targets[$scope.limit-1]},$scope.activeCount=Wallet.accounts().filter(function(a){return!a.archived}).length+Wallet.legacyAddresses().filter(function(a){return!a.archived}).length,$scope.active=1===$scope.activeCount?all:$scope.targets.filter(function(t){return t.index.toString()===activeIndex})[0],$scope.format="dd/MM/yyyy",$scope.options={minDate:new Date(12310245e5),maxDate:new Date},$scope.start={open:!0,date:Date.now()-6048e5},$scope.end={open:!0,date:Date.now()},$scope.formatDate=function(sep,date){return $filter("date")(date,"dd"+sep+"MM"+sep+"yyyy")},$scope.formatFilename=function(){var start=$scope.formatDate("-",$scope.start.date),end=$scope.formatDate("-",$scope.end.date);return"history-"+start+"-"+end+".csv"},$scope.submit=function(){$scope.busy=!0;var start=$scope.formatDate("/",$scope.start.date),end=$scope.formatDate("/",$scope.end.date),active=$scope.active.address||$scope.active.xpub;Wallet.exportHistory(start,end,active).then(function(data){$scope.history=data,$scope.canTriggerDownload&&$scope.$broadcast("download")})["finally"](function(){return $scope.busy=!1})},$timeout(function(){$scope.start.open=$scope.end.open=!1},100)}angular.module("walletApp").controller("ExportHistoryController",ExportHistoryController)}(),function(){"use strict";function faqCtrl($scope,faq,buyStatus,$uibModal){$scope.questions=faq.questions.map(function(q){return angular.merge({displayed:!1},q)}),$scope.toggle=function(q){q.displayed=!q.displayed},$scope.subscribe=function(){$uibModal.open({templateUrl:"partials/subscribe-modal.jade",windowClass:"bc-modal initial",controller:"SubscribeCtrl"})},buyStatus.canBuy().then(function(canBuy){!buyStatus.userHasAccount()&&!canBuy&&($scope.questions[0]={name:"CAN_I_BUY_UNINVITED",values:{click:$scope.subscribe}})})}angular.module("walletApp").controller("faqCtrl",faqCtrl)}(),function(){"use strict";function HomeCtrl($scope,Wallet,$uibModal,buyStatus){$scope.getTotal=function(){return Wallet.total("")},$scope.getLegacyTotal=function(){return Wallet.total("imported")},$scope.activeLegacyAddresses=function(){return Wallet.status.isLoggedIn?Wallet.legacyAddresses().filter(function(a){return!a.archived}):null},$scope.activeAccounts=function(){return Wallet.status.isLoggedIn?Wallet.accounts().filter(function(a){return!a.archived}):null}}angular.module("walletApp").controller("HomeCtrl",HomeCtrl)}(),function(){"use strict";function LoginCtrl($scope,$rootScope,$window,$cookies,$state,$stateParams,$timeout,$q,Alerts,Wallet,WalletNetwork){$scope.settings=Wallet.settings,$scope.user=Wallet.user,$scope.errors={},$scope.status={},$scope.browser={disabled:!0},$scope.uid=$stateParams.uid||Wallet.guid||$cookies.get("uid"),$scope.uidAvailable=!!$scope.uid;var didJustLogout="blockchain-logout"===$window.name,canDeauth=null!=$cookies.get("session");didJustLogout&&canDeauth&&($window.name="blockchain",$state.go("public.logout")),$cookies.get("password")&&($scope.password=$cookies.get("password")),$scope.login=function(){$scope.status.busy=!0,Alerts.clear(),$scope.autoReload&&$scope.password&&$cookies.put("password",$scope.password);var success=function(){$state.go("wallet.common.home")},error=function(field,message){return $timeout(function(){$scope.status.busy=!1,$scope.errors[field]=message,"twoFactor"!==field&&$scope.didAsk2FA&&($scope.didEnterCorrect2FA=!0,$scope.errors.twoFactor=null)})},needs2FA=function(){return $timeout(function(){$scope.status.busy=!1,$scope.didAsk2FA=!0})};$timeout(function(){return Wallet.login($scope.uid,$scope.password,$scope.settings.needs2FA?$scope.twoFactorCode:null,$scope.settings.needs2FA?function(){}:needs2FA,success,error)},150)},$scope.resend=function(){var success=function(res){Alerts.displaySuccess("RESENT_2FA_SMS")},error=function(res){Alerts.displayError("RESENT_2FA_SMS_FAILED")};if(5===Wallet.settings.twoFactorMethod){$scope.status.resending=!0;var sessionToken=$cookies.get("session");$q.resolve(WalletNetwork.resendTwoFactorSms($scope.uid,sessionToken)).then(success,error)["finally"](function(){return $scope.status.resending=!1})}},$scope.autoReload&&$scope.uid&&$scope.password&&$scope.login()}angular.module("walletApp").controller("LoginCtrl",LoginCtrl)}(),function(){"use strict";function LogoutController($scope,$cookies,$q,$timeout,$interval,$state,Wallet,Alerts){$scope.timeToRedirect=10,$scope.toLogin=function(){$state.go("public.login-no-uid")},$scope.deauth=function(){$scope.deauthorizing=!0,$scope.timeToRedirect=-1;var sessionToken=$cookies.get("session");$cookies.remove("session"),$q.resolve(Wallet.my.endSession(sessionToken)).then(function(){return $scope.deauthorized=!0})["catch"](function(){Alerts.displayError("ERROR_DEAUTH")})["finally"](function(){return $scope.deauthorizing=!1}).then(function(){return $timeout($scope.toLogin,3e3)})},$scope.redirectInterval=$interval(function(){0===--$scope.timeToRedirect&&$scope.toLogin()},1e3),$scope.$on("$destroy",function(){return $interval.cancel($scope.redirectInterval)})}angular.module("walletApp").controller("LogoutController",LogoutController)}(),function(){"use strict";function LostGuidCtrl($scope,$rootScope,$http,$translate,WalletNetwork,Alerts,$sce){$scope.currentStep=1,$scope.fields={email:"",captcha:""},$scope.refreshCaptcha=function(){WalletNetwork.getCaptchaImage().then(function(data){var url=URL.createObjectURL(data.image);$sce.trustAsResourceUrl(url),$scope.captchaSrc=url,$scope.sessionToken=data.sessionToken,$scope.fields.captcha="",$rootScope.$safeApply()})},$scope.sendReminder=function(){$scope.working=!0;var success=function(message){$scope.working=!1,$scope.currentStep=2,Alerts.displaySuccess(message),$rootScope.$safeApply()},error=function(_error){switch($scope.working=!1,_error){case"Captcha Code Incorrect":Alerts.displayError("CAPTCHA_INCORRECT");break;case"Quota Exceeded":Alerts.displayError("QUOTA_EXCEEDED");break;default:Alerts.displayError("UNKNOWN_ERROR")}$scope.refreshCaptcha(),$rootScope.$safeApply()};$scope.form.$setPristine(),$scope.form.$setUntouched(),WalletNetwork.recoverGuid($scope.sessionToken,$scope.fields.email,$scope.fields.captcha).then(success)["catch"](error)},$scope.refreshCaptcha()}angular.module("walletApp").controller("LostGuidCtrl",LostGuidCtrl)}(),function(){"use strict";function ModalNotificationCtrl($scope,Wallet,$uibModalInstance,notification){$scope.notification=notification,$scope.ok=function(){return $uibModalInstance.close(notification)}}angular.module("walletApp").controller("ModalNotificationCtrl",ModalNotificationCtrl)}(),function(){"use strict";function NavigationCtrl($scope,$window,$rootScope,$state,$interval,$timeout,$cookies,$q,$uibModal,Wallet,Alerts,currency,whatsNew,MyWallet){$scope.status=Wallet.status,$scope.settings=Wallet.settings,$scope.whatsNewTemplate="templates/whats-new.jade",$scope.lastViewedWhatsNew=null,$rootScope.isSubscribed=$cookies.get("subscribed"),$scope.getTheme=function(){return $scope.settings.theme};var lastViewedDefaultTime=1231469665e3;$scope.initialize=function(mockFailure){var fetchLastViewed=function(){Wallet.settings.secondPassword?$scope.lastViewedWhatsNew=$cookies.get("whatsNewViewed")||lastViewedDefaultTime:($scope.metaData=MyWallet.wallet.metadata(2,mockFailure),$scope.metaData.fetch().then(function(res){null!==res?$scope.lastViewedWhatsNew=res.lastViewed:$scope.metaData.create({lastViewed:lastViewedDefaultTime}).then(function(){$scope.lastViewedWhatsNew=lastViewedDefaultTime})})["catch"](function(e){$scope.lastViewedWhatsNew=$cookies.get("whatsNewViewed")||lastViewedDefaultTime}))};$scope.status.isLoggedIn&&($scope.status.didUpgradeToHd?fetchLastViewed():!function(){var watcher=$scope.$watch("status.didUpgradeToHd",function(newValue){newValue&&(watcher(),fetchLastViewed())})}())},$rootScope.mock||$scope.initialize();var nLatestFeats=null;$scope.nLatestFeats=function(){return null===nLatestFeats&&null!==$scope.lastViewedWhatsNew&&(nLatestFeats=whatsNew.filter(function(_ref){var date=_ref.date;return date>$scope.lastViewedWhatsNew}).length),nLatestFeats},$scope.feats=whatsNew,$scope.viewedWhatsNew=function(){return $timeout(function(){if(null!==$scope.viewedWhatsNew){nLatestFeats=0;var lastViewed=Date.now();$scope.lastViewedWhatsNew=lastViewed,Wallet.settings.secondPassword?$cookies.put("whatsNewViewed",lastViewed):($cookies.put("whatsNewViewed",lastViewed),$scope.metaData.update({lastViewed:lastViewed}))}})},$scope.subscribe=function(){$uibModal.open({templateUrl:"partials/subscribe-modal.jade",windowClass:"bc-modal initial",controller:"SubscribeCtrl"})},$scope.logout=function(){var isSynced=Wallet.isSynchronizedWithServer(),needsBackup=!Wallet.status.didConfirmRecoveryPhrase,options=function(ops){return angular.merge({friendly:!0,modalClass:"top"},ops)},saidNoThanks=function(e){return"cancelled"===e?$q.resolve():$q.reject()},hasNotSeen=function(id){return!$cookies.get(id)},rememberChoice=function(id){return function(){return $cookies.put(id,!0)}},goToBackup=function(){return $q.all([$state.go("wallet.common.security-center",{promptBackup:!0}),$q.reject("backing_up")])},openSurvey=function(){$window.open("https://blockchain.co1.qualtrics.com/SE/?SID=SV_7PupfD2KjBeazC5")},remindBackup=function(){return Alerts.confirm("BACKUP_REMINDER",options({cancel:"CONTINUE_LOGOUT",action:"VERIFY_RECOVERY_PHRASE"})).then(goToBackup,saidNoThanks).then(rememberChoice("backup-reminder"))},promptSurvey=function(){return Alerts.confirm("SURVEY_CONFIRM",options({cancel:"NO_THANKS"})).then(openSurvey,saidNoThanks).then(rememberChoice("logout-survey"))};$q.resolve(isSynced||Alerts.saving()).then(function(){return needsBackup&&hasNotSeen("backup-reminder")?remindBackup():hasNotSeen("logout-survey")?promptSurvey():void 0}).then(function(){return Wallet.logout()})},Wallet.goal.firstTime&&$scope.viewedWhatsNew(),$interval(function(){Wallet.status.isLoggedIn&&currency.fetchExchangeRate()},9e5)}angular.module("walletApp").controller("NavigationCtrl",NavigationCtrl)}(),function(){"use strict";function OpenLinkController($scope,Wallet,$translate,$stateParams,$state,Alerts){var paymentRequest=Wallet.parsePaymentRequest($stateParams.uri);Wallet.goal.send=paymentRequest,Wallet.status.isLoggedIn||(Alerts.displayInfo("PLEASE_LOGIN_FIRST",!0),$state.go("public.login-no-uid"))}angular.module("walletApp").controller("OpenLinkController",OpenLinkController)}(),function(){"use strict";function RecoverFundsCtrl($scope,$rootScope,$state,$timeout,$translate,$cookies,Wallet,Alerts){$scope.isValidMnemonic=Wallet.isValidBIP39Mnemonic,$scope.currentStep=1,$scope.fields={email:"",password:"",confirmation:"",mnemonic:"",bip39phrase:""},$scope.browser={disabled:!0},$scope.performImport=function(){$scope.working=!0;var success=function(result){$cookies.put("session",result.sessionToken),$cookies.put("uid",result.guid),$scope.working=!1,$scope.nextStep(),$rootScope.$safeApply();var loginSuccess=function(){Alerts.displaySuccess("Successfully recovered wallet!")},loginError=function(err){console.error(err)};$timeout(function(){$state.go("public.login-uid",{uid:result.guid}),Wallet.login(result.guid,result.password,null,null,loginSuccess,loginError)},4e3)},error=function(err){$scope.working=!1,Alerts.displayError(err||"RECOVERY_ERROR")};$timeout(function(){Wallet.my.recoverFromMnemonic($scope.fields.email,$scope.fields.password,$scope.fields.mnemonic,$scope.fields.bip39phrase,success,error)},250)},$scope.getMnemonicLength=function(){$scope.isValidMnemonicLength=12===$scope.fields.mnemonic.split(" ").length},$scope.nextStep=function(){$scope.working=!0,$timeout(function(){Wallet.my.browserCheck()?($scope.currentStep++,$scope.fields.confirmation=""):($scope.browser.disabled=!0,$scope.browser.msg=$translate.instant("UNSUITABLE_BROWSER")),$scope.working=!1},250)},$scope.goBack=function(){$scope.currentStep--}}angular.module("walletApp").controller("RecoverFundsCtrl",RecoverFundsCtrl)}(),function(){"use strict";function RequestCtrl($rootScope,$scope,Wallet,Alerts,currency,$uibModalInstance,$log,destination,focus,$translate,$stateParams,filterFilter,$filter,format,smartAccount){$scope.status=Wallet.status,$scope.settings=Wallet.settings,$scope.accounts=Wallet.accounts,$scope.legacyAddresses=Wallet.legacyAddresses,$scope.isBitCurrency=currency.isBitCurrency,$scope.destinations=[],$scope.receiveAddress=null,$scope.advanced=!1,$scope.focus=focus,$scope.showPaymentRequestURL=!1,$scope.destinationLimit=50,$scope.increaseLimit=function(){return $scope.destinationLimit+=50},$scope.fields={to:null,amount:null,label:""},$scope.destinations=smartAccount.getOptions(),$scope.fields.to=focus?destination:Wallet.my.wallet.hdwallet.defaultAccount,$scope.advancedReceive=function(){$scope.advanced=!0},$scope.regularReceive=function(){$scope.advanced=!1,$scope.fields.label="",$scope.fields.amount=null},$scope.done=function(){if(Alerts.clear(),""===$scope.fields.label||null==$scope.fields.to.index)$uibModalInstance.dismiss("");else{var success=function(){$uibModalInstance.dismiss("")},error=function(_error){"NOT_ALPHANUMERIC"===_error?$scope.requestForm.label.$error.characters=!0:"GAP"===_error&&($scope.requestForm.label.$error.gap=!0),$scope.requestForm.label.$valid=!1},idx=$scope.fields.to.index;Wallet.changeHDAddressLabel($scope.fields.to.index,Wallet.getReceivingAddressIndexForAccount(idx),$scope.fields.label,success,error)}},$scope.cancel=function(){Alerts.clear(),$uibModalInstance.dismiss("")},$scope.useAccount=function(){var idx=Wallet.my.wallet.hdwallet.defaultAccountIndex;$scope.fields.to=$scope.destinations.filter(function(d){return d.index===idx})[0]},$scope.numberOfActiveAccountsAndLegacyAddresses=function(){var activeAccounts=filterFilter(Wallet.accounts(),{archived:!1}),activeAddresses=filterFilter(Wallet.legacyAddresses(),{archived:!1});return activeAccounts.length+activeAddresses.length},$scope.$watchCollection("destinations",function(){null==$scope.fields.to&&($scope.fields.to=smartAccount.getDefault())}),$scope.paymentRequestAddress=function(){if(!$scope.status.didInitializeHD)return null;if(null!=$scope.fields.to&&null!=$scope.fields.to.address)return $scope.advanced=!1,$scope.fields.to.address;if($scope.status.didInitializeHD){var idx=$scope.fields.to.index;return Wallet.getReceivingAddressForAccount(idx)}},$scope.paymentRequestURL=function(){if(null==$scope.paymentRequestAddress())return null;var url="bitcoin:"+$scope.paymentRequestAddress()+"?",amount="amount="+parseFloat($scope.fields.amount/1e8),message="message="+$scope.fields.label;return $scope.fields.amount>0&&""!==$scope.fields.label?(url+=amount,url+="&",url+=message):$scope.fields.amount>0?url+=amount:""!==$scope.fields.label?url+=message:url=url.slice(0,-1),encodeURI(url)}}angular.module("walletApp").controller("RequestCtrl",RequestCtrl)}(),function(){"use strict";function ResetTwoFactorCtrl($scope,$cookies,$q,$sce,Alerts,Wallet,WalletNetwork){$scope.currentStep=1,$scope.fields={email:"",newEmail:"",secret:"",message:"",captcha:""},$scope.fields.uid=$cookies.get("uid"),$scope.refreshCaptcha=function(){return $q.resolve(WalletNetwork.getCaptchaImage().then(function(data){var url=URL.createObjectURL(data.image);$sce.trustAsResourceUrl(url),$scope.captchaSrc=url,$scope.sessionToken=data.sessionToken,$scope.fields.captcha=""}))},$scope.resetTwoFactor=function(){$scope.working=!0;var success=function(message){Alerts.clear(),Alerts.displaySuccess(message),$scope.working=!1,$scope.currentStep=2},error=function(_error){switch($scope.working=!1,$scope.refreshCaptcha(),_error){case"Captcha Code Incorrect":Alerts.displayError("CAPTCHA_INCORRECT",!0);break;case"Quota Exceeded":Alerts.displayError("QUOTA_EXCEEDED",!0);break;default:Alerts.displayError(_error,!0)}};$scope.form.$setPristine(),$scope.form.$setUntouched();var resetP=WalletNetwork.requestTwoFactorReset($scope.sessionToken,$scope.fields.uid,$scope.fields.email,$scope.fields.newEmail,$scope.fields.secret,$scope.fields.message,$scope.fields.captcha);$q.resolve(resetP).then(success,error)},$scope.refreshCaptcha()}angular.module("walletApp").controller("ResetTwoFactorCtrl",ResetTwoFactorCtrl)}(),function(){"use strict";function ResetTwoFactorTokenCtrl($scope,WalletTokenEndpoints,$stateParams,$state,Alerts,$translate,$rootScope,Wallet){Alerts.clear();var success=function(obj){$scope.checkingToken=!1,$state.go("public.login-uid",{uid:obj.guid}).then(function(){Alerts.displayResetTwoFactor(obj.message)}),$rootScope.$safeApply()},error=function(res){$scope.checkingToken=!1,$state.go("public.login-no-uid"),Alerts.displayError(res.error,!0),$rootScope.$safeApply()};$scope.checkingToken=!0,WalletTokenEndpoints.resetTwoFactor($stateParams.token).then(success)["catch"](error)}angular.module("walletApp").controller("ResetTwoFactorTokenCtrl",ResetTwoFactorTokenCtrl)}(),function(){"use strict";function RevealXpubCtrl($scope,Wallet,$uibModalInstance,account){$scope.accounts=Wallet.accounts,$scope.xpub=account.extendedPublicKey,$scope.showXpub=!1,$scope["continue"]=function(){$scope.showXpub=!0},$scope.close=function(){$uibModalInstance.dismiss("")}}angular.module("walletApp").controller("RevealXpubCtrl",RevealXpubCtrl)}(),function(){"use strict";function SecondPasswordCtrl($scope,$log,Wallet,Alerts,$uibModalInstance,$translate,insist,defer){$scope.insist=Boolean(insist),$scope.alerts=[],$scope.busy=!1,$scope.secondPassword="",$scope.cancel=function(){defer.reject($translate.instant("SECOND_PASSWORD_CANCEL")),Alerts.clear($scope.alerts),$uibModalInstance.dismiss("")},$scope.submit=function(){$scope.busy||($scope.busy=!0,Wallet.validateSecondPassword($scope.secondPassword)?($scope.busy=!1,defer.resolve($scope.secondPassword),$uibModalInstance.close("")):($scope.busy=!1,Alerts.displayError("SECOND_PASSWORD_INCORRECT",!1,$scope.alerts)))}}angular.module("walletApp").controller("SecondPasswordCtrl",SecondPasswordCtrl)}(),function(){"use strict";function SettingsSecurityCenterCtrl($scope,$stateParams,$timeout,Wallet,SecurityCenter,filterFilter,$uibModal){$scope.security=SecurityCenter.security,$scope.settings=Wallet.settings,$scope.user=Wallet.user,$scope.status=Wallet.status,$scope.display={action:null,editingEmail:!1},$scope.mobileNumber={step:1},$scope.promptBackup=$stateParams.promptBackup,Wallet.user.mobileNumber.length>4&&!Wallet.user.isMobileVerified&&($scope.mobileNumber.step=2),$scope.greaterThan=function(prop,val){return function(item){return item[prop]>val}},$scope.toggle=function(action){$scope.display.action===action?$scope.display.action=null:$scope.display.action=action},$scope.beginEditEmail=function(){$scope.display.editingEmail=!0},$scope.changeEmail=function(email,success,error){var _success=function(){$scope.cancelEditEmail(),success()};Wallet.changeEmail(email,_success,error)},$scope.cancelEditEmail=function(){$scope.display.editingEmail=!1},$scope.changePasswordHint=function(hint,success,error){Wallet.changePasswordHint(hint,success,error)},$scope.cancelEditPasswordHint=function(){$scope.display.action=null},$scope.$watchCollection("user",function(newValue,oldValue){("mobilenumber"!==$scope.display.action||$scope.user.isMobileVerified)&&$scope.nextAction()}),$scope.$watchCollection("settings",function(newValue,oldValue){newValue.needs2FA&&"twofactor"===$scope.display.action&&$scope.toggle("twofactor"),newValue.blockTOR&&"blocktor"===$scope.display.action&&$scope.toggle("blocktor"),null===$scope.settings.googleAuthenticatorSecret&&$scope.nextAction()}),$scope.$watchCollection("status",function(newValue,oldValue){$scope.nextAction()}),$timeout(function(){return $scope.promptBackup&&$scope.toggle("securityphrase")}),$scope.changeTwoFactor=function(){$uibModal.open({templateUrl:"partials/settings/two-factor.jade",windowClass:"bc-modal initial",controller:"TwoFactorCtrl"})},$scope.nextAction=function(){$scope.display.action=null,$scope.user.isEmailVerified?$scope.status.didConfirmRecoveryPhrase?$scope.user.passwordHint?$scope.user.isMobileVerified?$scope.settings.needs2FA?$scope.settings.blockTOR||$scope.toggle("blocktor"):$scope.toggle("twofactor"):$scope.toggle("mobilenumber"):$scope.toggle("passwordhint"):$scope.toggle("securityphrase"):$scope.toggle("email")}}angular.module("walletApp").controller("SettingsSecurityCenterCtrl",SettingsSecurityCenterCtrl)}(),function(){"use strict";function SendCtrl($scope,$log,Wallet,Alerts,currency,$uibModal,$uibModalInstance,$timeout,$state,$filter,$stateParams,$translate,paymentRequest,format,MyWalletHelpers,$q,$http,fees,smartAccount){$scope.status=Wallet.status,$scope.settings=Wallet.settings,$scope.alerts=[],$scope.origins=[],$scope.originsLoaded=!1,$scope.originLimit=50,$scope.increaseLimit=function(){return $scope.originLimit+=50},$scope.sending=!1,$scope.confirmationStep=!1,$scope.advanced=!1,$scope.building=!1,$scope.fiatCurrency=Wallet.settings.currency,$scope.btcCurrency=Wallet.settings.btcCurrency,$scope.isBitCurrency=currency.isBitCurrency,$scope.isValidPrivateKey=Wallet.isValidPrivateKey,$scope.defaultBlockInclusion=1,$scope.transactionTemplate={from:null,destinations:[null],amounts:[null],fee:0,note:"",maxAvailable:null,surge:!1,blockIdx:null,feeBounds:[0,0,0,0,0,0],sweepFees:[0,0,0,0,0,0],size:0},$scope.payment=new Wallet.Payment,$scope.transaction=angular.copy($scope.transactionTemplate),$scope.payment.on("update",function(data){var tx=$scope.transaction;tx.fee=$scope.advanced&&$scope.sendForm.fee.$dirty?tx.fee:data.finalFee,0===tx.fee&&(tx.fee=data.sweepFees[$scope.defaultBlockInclusion]),tx.maxAvailable=$scope.advanced?data.balance-tx.fee:data.sweepAmount,tx.maxAvailable<0&&(tx.maxAvailable=0),tx.surge=data.fees.estimate[$scope.defaultBlockInclusion].surge,tx.blockIdx=data.confEstimation,tx.feeBounds=data.absoluteFeeBounds,tx.sweepFees=data.sweepFees,tx.size=data.txSize,$scope.$safeApply()}),$scope.payment.on("error",function(error){"ERR_FETCH_UNSPENT"===error.error&&(Alerts.displayError(error.error,!0,$scope.alerts),$scope.failedToLoadUnspent=!0)}),$scope.payment.on("message",function(message){message&&message.text&&Alerts.displayWarning(message.text,!0,$scope.alerts)}),$scope.hasZeroBalance=function(origin){return 0===origin.balance},$scope.close=function(){return $uibModalInstance.dismiss("")},$scope.applyPaymentRequest=function(paymentRequest,i){var destination={address:paymentRequest.address||"",label:paymentRequest.address||"",type:"External"};$scope.transaction.destinations[i]=destination,paymentRequest.amount&&($scope.transaction.amounts[i]=paymentRequest.amount),paymentRequest.message&&($scope.transaction.note=decodeURI(paymentRequest.message)),$scope.setPaymentTo(),$scope.setPaymentAmount()},$scope.resetSendForm=function(){$scope.transaction=angular.copy($scope.transactionTemplate),$scope.transaction.from=smartAccount.getDefault(),console.log($scope.transaction.from),$scope.setPaymentFee(),$scope.sendForm.$setPristine(),$scope.sendForm.$setUntouched()},$scope.reopenModal=function(){$timeout(function(){return $uibModal.open({templateUrl:"partials/send.jade",windowClass:"bc-modal initial",controller:"SendCtrl",resolve:{paymentRequest:paymentRequest}})},500),$uibModalInstance.dismiss()},$scope.addDestination=function(){$scope.transaction.amounts.push(null),$scope.transaction.destinations.push(null),$scope.setPaymentAmount(),$scope.setPaymentTo()},$scope.removeDestination=function(index){$scope.transaction.amounts.splice(index,1),$scope.transaction.destinations.splice(index,1),$scope.setPaymentAmount(),$scope.setPaymentTo()},$scope.numberOfActiveAccountsAndLegacyAddresses=function(){var numAccts=Wallet.accounts().filter(function(a){return!a.archived}).length,numAddrs=Wallet.legacyAddresses().filter(function(a){return!a.archived}).length;return numAccts+numAddrs},$scope.send=function(){if(!$scope.sending){$scope.sending=!0,$scope.transaction.note=$scope.transaction.note.trim(),Alerts.clear($scope.alerts);var paymentCheckpoint=void 0,setCheckpoint=function(payment){paymentCheckpoint=payment},transactionFailed=function(message){$scope.sending=!1,paymentCheckpoint&&($scope.payment=new Wallet.Payment(paymentCheckpoint).build());var msgText="string"==typeof message?message:"SEND_FAILED";msgText.indexOf("Fee is too low")>-1&&(msgText="LOW_FEE_ERROR"),Alerts.displayError(msgText,!1,$scope.alerts)},transactionSucceeded=function(tx){$scope.$root.scheduleRefresh(),$scope.sending=!1,$uibModalInstance.close(""),Wallet.beep();var note=$scope.transaction.note;""!==note&&Wallet.setNote({hash:tx.txid},note),"wallet.common.transactions"!==$state.current.name&&$state.go("wallet.common.transactions");var message=MyWalletHelpers.tor()?"BITCOIN_SENT_TOR":"BITCOIN_SENT";Alerts.displaySentBitcoin(message),$scope.$safeApply()},signAndPublish=function(passphrase){return $scope.payment.sideEffect(setCheckpoint).sign(passphrase).publish().payment};Wallet.askForSecondPasswordIfNeeded().then(signAndPublish).then(transactionSucceeded)["catch"](transactionFailed)}},$scope.getToLabels=function(){return $scope.transaction.destinations.filter(function(d){return null!=d})},$scope.getTransactionTotal=function(includeFee){var tx=$scope.transaction,fee=includeFee?tx.fee:0;return tx.amounts.reduce(function(previous,current){return parseInt(previous,10)+parseInt(current,10)||0},parseInt(fee,10))},$scope.amountsAreValid=function(){return null==$scope.transaction.from||$scope.transaction.amounts.every(function(amt){return!isNaN(amt)&&amt>0})&&$scope.transaction.maxAvailable-$scope.getTransactionTotal()>=0},$scope.checkForSameDestination=function(){if(null!=$scope.sendForm){var transaction=$scope.transaction;transaction.destinations.forEach(function(dest,index){var match=!1;null!=dest&&(match=null!=transaction.from.index?dest.index===transaction.from.index:dest.address===transaction.from.address),$scope.sendForm["destinations"+index].$setValidity("isNotEqual",!match)})}},$scope.hasAmountError=function(index){var field=$scope.sendForm["amounts"+index],fiatField=$scope.sendForm["amountsFiat"+index],fieldError=(fiatField.$touched||field.$touched)&&(fiatField.$invalid||field.$invalid),notEnoughFunds=!$scope.amountsAreValid()&&!$scope.transaction.amounts.some(function(a){return!a});return fieldError||notEnoughFunds},$scope.$watch("transaction.destinations",function(destinations){destinations.forEach(function(dest,index){if(null!=dest){var valid=null!=dest.index||Wallet.isValidAddress(dest.address);$scope.sendForm["destinations"+index].$setValidity("isValidAddress",valid),$scope.setPaymentTo()}})},!0);var unwatchDidLoad=$scope.$watch("status.didLoadBalances",function(didLoad){didLoad&&0===$scope.origins.length&&($scope.transaction.from=smartAccount.getDefault(),$scope.origins=smartAccount.getOptions(),$scope.originsLoaded=!0,paymentRequest.address?$scope.applyPaymentRequest(paymentRequest,0):null!=paymentRequest.toAccount?($scope.transaction.destinations[0]=format.origin(paymentRequest.toAccount),$scope.transaction.from=paymentRequest.fromAddress):null!=paymentRequest.fromAccount&&($scope.transaction.from=paymentRequest.fromAccount),$scope.setPaymentFrom(),$scope.setPaymentTo(),$scope.setPaymentAmount(),unwatchDidLoad())});$scope.useAll=function(){var tx=$scope.transaction;null!=tx.maxAvailable&&1===tx.amounts.length&&($scope.transaction.amounts[0]=$scope.transaction.maxAvailable,$scope.setPaymentAmount())},$scope.setPrivateKey=function(priv){$scope.sendForm.priv.$setTouched(),$scope.transaction.priv=priv};var lastOrigin=void 0;$scope.setPaymentFrom=function(){var tx=$scope.transaction;if(tx.from){var origin=null==tx.from.index?tx.from.address:tx.from.index,fee=$scope.advanced?tx.fee:void 0;origin!==lastOrigin&&(lastOrigin=origin,$scope.payment.from(origin,fee))}},$scope.setPaymentTo=function(){var destinations=$scope.transaction.destinations;destinations.some(function(d){return null==d})||(destinations=destinations.map(function(d){return"Accounts"===d.type?d.index:d.address}),$scope.payment.to(destinations))},$scope.setPaymentAmount=function(){var amounts=$scope.transaction.amounts;if(!amounts.some(function(a){return isNaN(a)||a<=0})){var fee=$scope.advanced?$scope.transaction.fee:void 0;$scope.payment.amount($scope.transaction.amounts,fee)}},$scope.setPaymentFee=function(){var fee=$scope.advanced?$scope.transaction.fee:void 0;$scope.advanced&&void 0===fee||$scope.payment.fee(fee)},$scope.backToForm=function(){$scope.confirmationStep=!1},$scope.advancedSend=function(){$scope.advanced=!0,$scope.setPaymentFee()},$scope.regularSend=function(){$scope.transaction.destinations.splice(1),$scope.transaction.amounts.splice(1),$scope.advanced=!1,$scope.setPaymentAmount()},$scope.goToConfirmation=function(){$scope.building=!0;var modalErrors=["cancelled","backdrop click","escape key press"],handleNextStepError=function(error){Alerts.clear($scope.alerts);var errorMsg=error.error?$translate.instant(error.error,error):errorMsg=error;modalErrors.indexOf(errorMsg)===-1&&Alerts.displayError(errorMsg,!1,$scope.alerts),"cancelled"===error&&$scope.advancedSend(),
$scope.backToForm(),$scope.$safeApply()};$scope.checkPriv().then($scope.checkFee).then($scope.finalBuild).then(function(){return $scope.confirmationStep=!0})["catch"](handleNextStepError)["finally"](function(){return $scope.building=!1})},$scope.checkPriv=function(bip38pw){var tx=$scope.transaction,fee=$scope.advanced?tx.fee:void 0,privErrors={noMatch:"PRIV_NO_MATCH",bip38:"BIP38_ERROR",pw:"INCORRECT_PASSWORD"};return tx.from.isWatchOnly?$q.resolve(MyWalletHelpers.privateKeyCorrespondsToAddress(tx.from.address,tx.priv,bip38pw)).then(function(priv){return null==priv?$q.reject(privErrors.noMatch):void $scope.payment.from(priv,fee)})["catch"](function(e){return"needsBip38"===e?Alerts.prompt("NEED_BIP38",{type:"password"}).then($scope.checkPriv):"wrongBipPass"===e?$q.reject(privErrors.pw):"PRIV_NO_MATCH"!==e?$q.reject(privErrors.bip38):$q.reject(e)}):$q.resolve()},$scope.checkFee=function(){var tx=$scope.transaction,surge=!$scope.advanced&&tx.surge,maximumFee=tx.maxAvailable+tx.fee-$scope.getTransactionTotal(),commitFee=function(fee){if(fee){if(fee>maximumFee){var feeDiff=fee-tx.fee;tx.amounts[0]-=feeDiff,$scope.setPaymentAmount()}tx.fee=fee,$scope.setPaymentFee()}},showFeeWarning=function(suggestedFee){return fees.showFeeWarning(tx.fee,suggestedFee,maximumFee,surge)},high=tx.feeBounds[0]||tx.sweepFees[0],mid=tx.feeBounds[$scope.defaultBlockInclusion]||tx.sweepFees[$scope.defaultBlockInclusion],low=tx.feeBounds[5]||tx.sweepFees[5];if(console.log("Fees { high: "+high+", mid: "+mid+", low: "+low+" }"),$scope.advanced){if(tx.fee>high)return showFeeWarning(high).then(commitFee);if(tx.fee<low&&$scope.advanced)return showFeeWarning(low).then(commitFee)}else{var feeUSD=currency.convertFromSatoshi(tx.fee,currency.currencies[0]),feeRatio=tx.fee/tx.amounts.reduce(function(a,b){return a+b});if(feeUSD>.5&&tx.size>1e3&&feeRatio>.01)return fees.showLargeTxWarning(tx.size,tx.fee).then(commitFee);if(surge)return showFeeWarning(mid).then(commitFee)}return $q.resolve()},$scope.handlePaste=function(event,index){var destinations=[];$timeout(function(){event.target.value?destinations.push({address:event.target.value}):destinations=$scope.transaction.destinations;var result=Wallet.parseBitcoinURL(destinations,index);$scope.transaction.destinations[index].address=result.address,$scope.transaction.amounts[index]=result.amount,0===index?$scope.transaction.note=result.note:"",$scope.setPaymentAmount()},250)},$scope.finalBuild=function(){return $q(function(resolve,reject){$scope.payment.build().then(function(p){return resolve(p.transaction),p})["catch"](function(r){return reject(r.error?r.error.message||r.error:"Error building transaction"),r.payment})})}}angular.module("walletApp").controller("SendCtrl",SendCtrl)}(),function(){"use strict";function SettingsAccountsController($scope,Wallet,Alerts,$uibModal,filterFilter,$ocLazyLoad,modals){$scope.accounts=Wallet.accounts,$scope.activeSpendableAddresses=function(){return Wallet.legacyAddresses().filter(function(a){return a.active&&!a.isWatchOnly&&a.balance>0})},$scope.openTransferAll=function(){return modals.openTransfer($scope.activeSpendableAddresses())},$scope.display={archived:!1},$scope.addressBookPresent=Wallet.addressBook().length,$scope.numberOfActiveAccounts=function(){return Wallet.accounts().filter(function(a){return!a.archived}).length},$scope.isDefault=function(account){return Wallet.isDefaultAccount(account)},$scope.unarchive=function(account){return Wallet.unarchive(account)},$scope.getLegacyTotal=function(){return Wallet.total("imported")},$scope.newAccount=function(){Alerts.clear(),$uibModal.open({templateUrl:"partials/account-form.jade",windowClass:"bc-modal initial",controller:"AccountFormCtrl",resolve:{account:function(){}}})},$scope.transfer=function(){$uibModal.open({templateUrl:"partials/send.jade",windowClass:"bc-modal initial",controller:"SendCtrl",resolve:{paymentRequest:function(){return{fromAccount:Wallet.accounts()[Wallet.getDefaultAccountIndex()],amount:0}},loadBcQrReader:function(){return $ocLazyLoad.load("bcQrReader")}}})},$scope.openTransferAll=function(){return $uibModal.open({templateUrl:"partials/settings/transfer.jade",controller:"TransferController",windowClass:"bc-modal",resolve:{address:function(){return $scope.activeSpendableAddresses()}}})},$scope.openVerifyMessage=function(){return $uibModal.open({templateUrl:"partials/settings/verify-message.jade",controller:"VerifyMessageController",windowClass:"bc-modal initial"})}}angular.module("walletApp").controller("SettingsAccountsController",SettingsAccountsController)}(),function(){"use strict";function SettingsAddressBookCtrl($scope,Wallet){$scope.addressBook=Wallet.addressBook}angular.module("walletApp").controller("SettingsAddressBookCtrl",SettingsAddressBookCtrl)}(),function(){"use strict";function AddressImportCtrl($scope,$uibModal,Wallet,Alerts,$uibModalInstance,$state,$timeout){$scope.settings=Wallet.settings,$scope.accounts=Wallet.accounts,$scope.alerts=[],$scope.address=null,$scope.BIP38=!1,$scope.step=1,$scope.status={},$scope.fields={addressOrPrivateKey:"",bip38passphrase:"",account:null},$scope.$watchCollection("accounts()",function(newValue){$scope.fields.account=Wallet.accounts()[Wallet.my.wallet.hdwallet.defaultAccountIndex]}),$scope.isValidAddressOrPrivateKey=function(val){return Wallet.isValidAddress(val)||Wallet.isValidPrivateKey(val)},$scope.goToTransfer=function(){$uibModalInstance.close(),$uibModal.open({templateUrl:"partials/settings/transfer.jade",controller:"TransferController",windowClass:"bc-modal",resolve:{address:function(){return $scope.address}}})},$scope.parseBitcoinUrl=function(url){return url.replace("bitcoin:","").replace(/\//g,"")},$scope.onAddressScan=function(url){$scope.fields.addressOrPrivateKey=$scope.parseBitcoinUrl(url);var valid=$scope.isValidAddressOrPrivateKey($scope.fields.addressOrPrivateKey);$scope.importForm.privateKey.$setValidity("isValid",valid)},$scope["import"]=function(){$scope.status.busy=!0,$scope.$safeApply();var addressOrPrivateKey=$scope.fields.addressOrPrivateKey.trim(),bip38passphrase=$scope.fields.bip38passphrase.trim(),success=function(address){$scope.status.busy=!1,$scope.address=address,$scope.step=2,$scope.$safeApply()},error=function(err){switch($scope.status.busy=!1,$scope.$safeApply(),err.message){case"presentInWallet":$scope.importForm.privateKey.$setValidity("present",!1),$scope.BIP38=!1;break;case"wrongBipPass":$scope.importForm.bipPassphrase.$setValidity("wrong",!1);break;case"importError":$scope.importForm.privateKey.$setValidity("check",!1),$scope.step=1,$scope.BIP38=!1,$scope.proceedWithBip38=void 0}},needsBipPassphrase=function(proceed){$scope.status.busy=!1,$scope.proceedWithBip38=proceed,$timeout(function(){$scope.BIP38=!0})},cancel=function(){$scope.status.busy=!1,$scope.$safeApply()},attemptImport=Wallet.addAddressOrPrivateKey.bind(null,addressOrPrivateKey,needsBipPassphrase,success,error,cancel);$timeout(function(){$scope.BIP38?$scope.proceedWithBip38(bip38passphrase):Wallet.isValidAddress(addressOrPrivateKey)?Alerts.confirm("CONFIRM_IMPORT_WATCH").then(attemptImport)["finally"](function(){return $scope.status.busy=!1}):attemptImport()},250)},$scope.close=function(){2===$scope.step&&$scope.address.balance>0&&!$scope.address.isWatchOnly?Alerts.confirm("CONFIRM_NOT_SWEEP",{action:"TRANSFER",friendly:!0}).then($scope.goToTransfer)["catch"]($uibModalInstance.dismiss):$uibModalInstance.dismiss("")}}angular.module("walletApp").controller("AddressImportCtrl",AddressImportCtrl)}(),function(){"use strict";function SettingsAddressesCtrl($scope,$state,$stateParams,$q,$sce,Wallet,MyWalletHelpers,MyBlockchainApi,Alerts,paymentRequests,$uibModal){$scope.paymentRequests=paymentRequests,$scope.account=Wallet.accounts()[$stateParams.account],$scope.receiveIndex=$scope.account.receiveIndex,$scope.page=1,$scope.pageLength=20,$scope.totalUsed=$scope.receiveIndex-$scope.paymentRequests.length+1,$scope.hdLabels=$scope.account.receivingAddressesLabels.reduce(function(acc,address){return acc[address.index]=address.label,acc},{}),$scope.createAddress=function(){Wallet.addAddressForAccount($scope.account).then(function(address){return $scope.paymentRequests.push(address)})["catch"](Alerts.displayError)},$scope.removeAddressLabel=function(addressIndex,i,used){Alerts.confirm("CONFIRM_REMOVE_LABEL").then(function(){$scope.account.removeLabelForReceivingAddress(addressIndex),used?$scope.usedAddresses[i].label=null:$scope.paymentRequests.splice(i,1)})},$scope.toggleShowPast=function(){return $scope.showPast?$scope.showPast=!1:Alerts.confirm("CONFIRM_SHOW_PAST").then(function(){return $scope.showPast=!0})},$scope.setAddresses=function(page){$scope.usedAddresses=$scope.generatePage(page)},$scope.generatePage=MyWalletHelpers.memoize(function(page){var addresses=$scope.getIndexesForPage(page).map(function(index){return{index:index,address:Wallet.getReceiveAddress($scope.account.index,index),label:$scope.hdLabels[index]}});if(0!==addresses.length)return $q.resolve(MyBlockchainApi.getBalances(addresses.map(function(a){return a.address}))).then(function(data){addresses.forEach(function(a){data[a.address]&&(a.balance=data[a.address].final_balance,a.ntxs=data[a.address].n_tx)})}),addresses}),$scope.getIndexesForPage=function(page){for(var indexes=[],used=[],i=0;i<$scope.paymentRequests.length;i++)used[$scope.paymentRequests[i].index]=!0;for(var _i=$scope.account.receiveIndex,n=_i;_i>=0&&n>=0&&indexes.length<$scope.pageLength;_i--)if(!used[_i]){var start=$scope.receiveIndex-(page-1)*$scope.pageLength;n<=start&&n>start-$scope.pageLength&&indexes.push(_i),n--}return indexes},$scope.newAccount=function(){Alerts.clear(),$uibModal.open({templateUrl:"partials/account-form.jade",windowClass:"bc-modal initial",controller:"AccountFormCtrl",resolve:{account:function(){}}})},$scope.editAccount=function(_account){Alerts.clear(),$uibModal.open({templateUrl:"partials/account-form.jade",controller:"AccountFormCtrl",windowClass:"bc-modal sm",resolve:{account:function(){return _account}}})},$scope.revealXpub=function(_account2){$uibModal.open({templateUrl:"partials/reveal-xpub.jade",controller:"RevealXpubCtrl",resolve:{account:function(){return _account2}},windowClass:"bc-modal"})},$scope.makeDefault=function(account){Wallet.setDefaultAccount(account),Wallet.saveActivity(3)},$scope.archive=function(account){return Wallet.archive(account)},$scope.unarchive=function(account){return Wallet.unarchive(account)},$scope.isDefault=function(account){return Wallet.isDefaultAccount(account)},$scope.$watch("account.archived",function(isArchived){return isArchived&&$state.go("wallet.common.settings.accounts_index")})}angular.module("walletApp").controller("SettingsAddressesCtrl",SettingsAddressesCtrl)}(),function(){"use strict";function ChangeEmailCtrl($scope,Wallet,MyWallet){$scope.userHasExchangeAcct=MyWallet.wallet.external&&MyWallet.wallet.external.hasExchangeAccount,$scope.isProblemProvider=function(email){var provider=email&&email.split("@")[1]||!1;return provider&&problemProviders.some(function(p){return p===provider})},$scope.reset=function(){$scope.fields={email:Wallet.user.email}},$scope.changeEmail=function(){$scope.status.waiting=!0,Wallet.changeEmail($scope.fields.email,$scope.deactivate,$scope.deactivate)}}angular.module("walletApp").controller("ChangeEmailCtrl",ChangeEmailCtrl);var problemProviders=["aol.com","yandex.ru","hushmail.com","mail2tor.com","safe-mail.net","lelantos.org"]}(),function(){"use strict";function ChangeIpWhitelistCtrl($scope,Wallet,Alerts){var ipRegex=/^\s?(?:(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)|%)\.){3}(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)|%)\s?$/;$scope.reset=function(){$scope.fields={ipWhitelist:Wallet.settings.ipWhitelist}},$scope.isWhitelistValid=function(){if($scope.errors.ipWhitelist=null,null==$scope.fields.ipWhitelist||""===$scope.fields.ipWhitelist)return!0;var ips=$scope.fields.ipWhitelist.split(",");if(ips.length>16)return $scope.errors.ipWhitelist="MAX_IP_ADDRESSES",!1;for(var i=0;i<ips.length;i++){var ip=ips[i];if(""!==ip){if("%.%.%.%"===ip.trim())return $scope.errors.ipWhitelist="IP_NOT_ALLOWED",!1;if(!ipRegex.test(ip))return $scope.errors.ipWhitelist="IP_INVALID",!1}}return!0},$scope.setIPWhitelist=function(){$scope.status.waiting=!0,Wallet.setIPWhitelist($scope.fields.ipWhitelist).then($scope.deactivate,function(){Alerts.displayError("IP_WHITELIST_ERROR")}).then(function(){return $scope.status.waiting=!1})}}angular.module("walletApp").controller("ChangeIpWhitelistCtrl",ChangeIpWhitelistCtrl)}(),function(){"use strict";function ChangeLogoutTimeCtrl($scope,Wallet){$scope.reset=function(){$scope.fields={logoutTime:Wallet.settings.logoutTimeMinutes}},$scope.setLogoutTime=function(){$scope.status.waiting=!0,Wallet.setLogoutTime($scope.fields.logoutTime,$scope.deactivate,$scope.deactivate)}}angular.module("walletApp").controller("ChangeLogoutTimeCtrl",ChangeLogoutTimeCtrl)}(),function(){"use strict";function ChangePasswordCtrl($scope,$log,Wallet,Alerts){$scope.isCorrectMainPassword=Wallet.isCorrectMainPassword,$scope.uid=Wallet.user.uid,$scope.reset=function(){$scope.fields={currentPassword:"",password:"",confirmation:""}},$scope.isUserEmail=function(candidate){return Wallet.user.email&&candidate===Wallet.user.email},$scope.isPasswordHint=function(candidate){return Wallet.user.passwordHint&&candidate===Wallet.user.passwordHint},$scope.change=function(){if($scope.form.$valid){var error=function(err){$scope.status.waiting=!1,$scope.errors.unsuccessful=err};$scope.status.waiting=!0,Wallet.changePassword($scope.fields.password,$scope.deactivate,error)}}}angular.module("walletApp").controller("ChangePasswordCtrl",ChangePasswordCtrl)}(),function(){"use strict";function ChangePasswordHintCtrl($scope,$translate,Wallet){$scope.reset=function(){$scope.fields={passwordHint:Wallet.user.passwordHint}},$scope.changePasswordHint=function(){if($scope.form.$valid){var error=function(err){$scope.status={};var errors=["PASSWORD_HINT_ERROR","PASSWORD_HINT_NOPASSWORD","PASSWORD_HINT_NOPASSWORD2","CHANGE_PASSWORD_FAILED"];$translate(errors).then(function(translations){switch(err){case 101:$scope.errors.passwordHint=translations.PASSWORD_HINT_ERROR;break;case 102:$scope.errors.passwordHint=translations.PASSWORD_HINT_NOPASSWORD;break;case 103:$scope.errors.passwordHint=translations.PASSWORD_HINT_NOPASSWORD2;break;default:$scope.errors.passwordHint=translations.CHANGE_PASSWORD_FAILED}})};$scope.status.waiting=!0,Wallet.changePasswordHint($scope.fields.passwordHint,$scope.deactivate,error)}}}angular.module("walletApp").controller("ChangePasswordHintCtrl",ChangePasswordHintCtrl)}(),function(){"use strict";function ChangePbkdf2Ctrl($scope,Wallet,$translate,Alerts){$scope.reset=function(){$scope.fields={pbkdf2:Wallet.settings.pbkdf2}},$scope.setPbkdf2=function(){var error=function(){return Alerts.displayError("Failed to update PBKDF2 iterations")};$scope.status.waiting=!0,Wallet.setPbkdf2Iterations($scope.fields.pbkdf2,$scope.deactivate,error)}}angular.module("walletApp").controller("ChangePbkdf2Ctrl",ChangePbkdf2Ctrl)}(),function(){"use strict";function SettingsImportedAddressesCtrl($scope,Wallet,Alerts,$translate,$uibModal,$ocLazyLoad){$scope.legacyAddresses=Wallet.legacyAddresses,$scope.display={archived:!1},$scope.settings=Wallet.settings,$scope.toggleDisplayArchived=function(){$scope.display.archived=!$scope.display.archived,$scope.display.imported=!1},$scope.activeSpendableAddresses=function(){return Wallet.legacyAddresses().filter(function(a){return a.active&&!a.isWatchOnly&&a.balance>0})},$scope.hasLegacyAddress=function(){return $scope.activeSpendableAddresses().length>0},$scope.unarchive=function(address){return Wallet.unarchive(address)},$scope["delete"]=function(address){Alerts.confirm("CONFIRM_LOSE_ACCESS").then(function(){Wallet.deleteLegacyAddress(address),$scope.legacyAddresses=Wallet.legacyAddresses})},$scope.importAddress=function(){Alerts.clear(),$uibModal.open({templateUrl:"partials/settings/import-address.jade",controller:"AddressImportCtrl",windowClass:"bc-modal",resolve:{address:function(){return null},loadBcQrReader:function(){return $ocLazyLoad.load("bcQrReader")}}})}}angular.module("walletApp").controller("SettingsImportedAddressesCtrl",SettingsImportedAddressesCtrl)}(),function(){"use strict";function SettingsInfoCtrl($scope,$q,Wallet,Alerts){angular.extend($scope,Wallet.user),$scope.loading={},$scope.pairingCode=null,$scope.removeAlias=function(){$scope.loading.alias=!0,Alerts.confirm("CONFIRM_REMOVE_ALIAS",{props:{UID:$scope.guid}}).then(Wallet.removeAlias).then(function(){return $scope.alias=Wallet.user.alias},function(){}).then(function(){return $scope.loading.alias=!1})},$scope.hidePairingCode=function(){$scope.pairingCode=null},$scope.showPairingCode=function(){$scope.loading.code=!0;var success=function(code){$scope.pairingCode=code},error=function(err){if("cancelled"!==err&&"backdrop click"!==err){var msg="incorrect_main_pw"===err?"INCORRECT_PASSWORD":"SHOW_PAIRING_CODE_FAIL";Alerts.displayError(msg)}};Wallet.askForMainPasswordConfirmation().then(function(){return $q(Wallet.makePairingCode)}).then(success,error).then(function(){return $scope.loading.code=!1})}}angular.module("walletApp").controller("SettingsInfoCtrl",SettingsInfoCtrl)}(),function(){"use strict";function ManageSecondPasswordCtrl($rootScope,$scope,Wallet,$timeout,MyWallet,$uibModal,Alerts){$scope.form={},$scope.fields={password:"",confirmation:""},$scope.status={waiting:!1,removed:!1},$scope.isMainPassword=Wallet.isCorrectMainPassword,$scope.validateSecondPassword=Wallet.validateSecondPassword,$scope.userHasExchangeAcct=MyWallet.wallet.external&&MyWallet.wallet.external.hasExchangeAccount,$scope.reset=function(){$scope.fields={password:"",confirmation:""}},$scope.removeSecondPassword=function(){if(!$scope.status.waiting){$scope.status.waiting=!0,$scope.$safeApply();var success=function(){Alerts.displaySuccess("SECOND_PASSWORD_REMOVE_SUCCESS",!0),$scope.status.waiting=!1,$scope.status.removed=!0,$scope.deactivate()},error=function(){Alerts.displayError("SECOND_PASSWORD_REMOVE_ERR"),$scope.status.waiting=!1,$scope.deactivate()};Wallet.removeSecondPassword($scope.fields.password,success,error),$rootScope.needsRefresh=!0}},$scope.isPasswordHint=function(candidate){return Wallet.user.passwordHint&&candidate===Wallet.user.passwordHint},$scope.setPassword=function(){if(!$scope.status.waiting&&!$scope.form.$invalid){$scope.$safeApply();var success=function(){$scope.deactivate()};$scope.status.waiting=!0,Wallet.setSecondPassword($scope.fields.password,success)}}}angular.module("walletApp").controller("ManageSecondPasswordCtrl",ManageSecondPasswordCtrl)}(),function(){"use strict";function SettingsPreferencesCtrl($scope,Wallet,Alerts,currency,$uibModal,$filter,$translate,$window,languages,bcPhoneNumber,theme){$scope.user=Wallet.user,$scope.settings=Wallet.settings,$scope.notifications=$scope.settings.notifications,$scope.languages=languages.languages,$scope.themes=theme.themes,$scope.currencies=currency.currencies,$scope.btcCurrencies=currency.bitCurrencies,$scope.btc=currency.bitCurrencies[0],$scope.changeLanguage=Wallet.changeLanguage,$scope.changeCurrency=Wallet.changeCurrency,$scope.changeBTCCurrency=Wallet.changeBTCCurrency,$scope.changeTheme=Wallet.changeTheme,$scope.updateNotificationsType=function(){Wallet.updateNotificationsType($scope.notifications).then(function(){2!==$scope.settings.notifications_on&&Wallet.updateNotificationsOn({receive:!0})})},$scope.mobileNumber={step:0},$scope.formattedMobileNumber=null,$scope.$watch("status.isLoggedIn",function(newValue){newValue&&$scope.user.mobileNumber&&($scope.formattedMobileNumber=bcPhoneNumber.format($scope.user.mobileNumber),$scope.$watch("user.mobileNumber",function(newValue){$scope.formattedMobileNumber=newValue}))}),$scope.setHandleBitcoinLinks=function(){return Wallet.handleBitcoinLinks()},$scope.canHandleBitcoinLinks=function(){return null!=$window.navigator.registerProtocolHandler},$scope.browserCanHandleBitcoinLinks=$scope.canHandleBitcoinLinks()}angular.module("walletApp").controller("SettingsPreferencesCtrl",SettingsPreferencesCtrl)}(),function(){"use strict";function SettingsSecurityCtrl($scope,$uibModal,Wallet,Alerts){$scope.settings=Wallet.settings,$scope.user=Wallet.user,$scope.processToggleRememberTwoFactor=null,$scope.display={advanced:!1},$scope.toggleAdvanced=function(){$scope.display.advanced=!$scope.display.advanced},$scope.toggleLogging=function(){var level=0===$scope.settings.loggingLevel?1:0;Wallet.setLoggingLevel(level)},$scope.enableRememberTwoFactor=function(){$scope.processToggleRememberTwoFactor=!0;var success=function(){$scope.processToggleRememberTwoFactor=!1,Wallet.saveActivity(2)},error=function(){$scope.processToggleRememberTwoFactor=!1};Wallet.enableRememberTwoFactor(success,error)},$scope.disableRememberTwoFactor=function(){$scope.processToggleRememberTwoFactor=!0;var success=function(){$scope.processToggleRememberTwoFactor=!1,Wallet.saveActivity(2)},error=function(){$scope.processToggleRememberTwoFactor=!1};Wallet.disableRememberTwoFactor(success,error)},$scope.changeTwoFactor=function(){$uibModal.open({templateUrl:"partials/settings/two-factor.jade",windowClass:"bc-modal initial",controller:"TwoFactorCtrl",resolve:{loadBcPhoneNumber:function($ocLazyLoad){return $ocLazyLoad.load("bcPhoneNumber")}}})},$scope.clearErrors=function(){$scope.errors={}}}angular.module("walletApp").controller("SettingsSecurityCtrl",SettingsSecurityCtrl)}(),function(){"use strict";function SettingsCtrl($scope,Wallet,Alerts,$state){"wallet.common.settings"===$state.current.name&&$state.go("wallet.common.settings.info"),$scope.didLoad=function(){Alerts.clear(),$scope.status=Wallet.status},$scope.didLoad()}angular.module("walletApp").controller("SettingsCtrl",SettingsCtrl)}(),function(){"use strict";function ShowPrivateKeyCtrl($scope,$uibModalInstance,Wallet,MyWalletHelpers,addressObj){$scope.accessAllowed=!1,$scope.address=addressObj.address,$scope.balance=addressObj.balance,$scope.format="WIF",$scope.formats=["WIF","Base58"],$scope.privKeys={WIF:"",Base58:""},$scope.tryContinue=function(){Wallet.askForSecondPasswordIfNeeded().then(function(secondPassword){var pk=Wallet.my.wallet.getPrivateKeyForAddress(addressObj,secondPassword),fmt=MyWalletHelpers.detectPrivateKeyFormat(pk);$scope.privKeys.Base58=pk,$scope.privKeys.WIF=MyWalletHelpers.privateKeyStringToKey(pk,fmt).toWIF(),$scope.accessAllowed=!0})},$scope.close=function(){return $uibModalInstance.dismiss("")}}angular.module("walletApp").controller("ShowPrivateKeyCtrl",ShowPrivateKeyCtrl)}(),function(){"use strict";function SignMessageController($scope,Wallet,addressObj){$scope.address=addressObj,$scope.message="",$scope.formatLabel=function(addr){return addr.address+(addr.label?" ("+addr.label+")":"")},$scope.reset=function(){return $scope.signature=!1},$scope.sign=function(){return Wallet.askForSecondPasswordIfNeeded().then(function(pw){$scope.signature=$scope.address.signMessage($scope.message,pw)})}}angular.module("walletApp").controller("SignMessageController",SignMessageController)}(),function(){"use strict";function TransferController($scope,$state,$timeout,$q,$uibModalInstance,Wallet,Alerts,address){$scope.accounts=Wallet.accounts,$scope.selectedAccount=Wallet.my.wallet.hdwallet.defaultAccount,$scope.addresses=Array.isArray(address)?address:[address],$scope.combinedBalance=$scope.addresses.reduce(function(t,a){return t+a.balance},0),$scope.status={loading:!0},$scope.nfailed=0,$scope.ncomplete=0,$scope.archivable=[],$scope.ntotal=$scope.addresses.length,$scope.wait=function(t){return $q(function(r){return $timeout(r,t)})},$scope.initializePayments=function(){var paymentsP=$scope.addresses.reduce(function(chain,a){return chain.then(function(payments){return $q(function(resolve){var p=(new Wallet.Payment).from(a.address).useAll();p.sideEffect(function(){return resolve(payments.concat(p))})})})},$q.resolve([])),paymentsDataP=paymentsP.then(function(payments){return $scope.payments=payments,$q.all(payments.map(function(p){return $q(function(resolve){return p.sideEffect(resolve)})}))});paymentsDataP.then(function(paymentsData){$scope.totalAmount=paymentsData.filter(function(p){return p.amounts[0]>0}).reduce(function(t,p){return t+p.amounts[0]},0),$scope.totalFees=paymentsData.filter(function(p){return p.finalFee>0}).reduce(function(t,p){return t+p.finalFee},0),$scope.status.loading=!1})},$scope.archive=function(){$scope.archivable.forEach(function(a){return a.archived=!0}),$uibModalInstance.dismiss()},$scope.transfer=function(){return Wallet.askForSecondPasswordIfNeeded().then(function(pw){$scope.status.sweeping=!0;var success=function(){return $scope.wait(500).then(function(){var confirmString=$scope.archivable.length>1?"SWEEP_FINISHED":"SWEEP_FINISHED_SINGLE";Alerts.confirm(confirmString,{values:{archivable:$scope.archivable.length,account:$scope.selectedAccount.label,total:$scope.ncomplete+$scope.nfailed},action:"ARCHIVE",friendly:!0}).then($scope.archive)["catch"]($uibModalInstance.dismiss)})},error=function(e){var msg="string"==typeof e?e:"SWEEP_FAILED";Alerts.displayError(msg),$uibModalInstance.dismiss()};$scope.payments.reduce(function(chain,payment,i){return chain.then(function(){if($scope.status.cancelled)return $q.reject("CANCELLED");var signAndPublish=function(){return payment.to($scope.selectedAccount.index),$q.resolve(payment.build().sign(pw).publish().payment)};return payment.sideEffect(function(p){var sweepErr="SWEEP_LOW_BALANCE_ERR";if(p.amounts[0]<=0)throw sweepErr}),$scope.wait(250).then(signAndPublish).then(function(){$scope.selectedAccount.incrementReceiveIndex(),$scope.archivable.push($scope.addresses[i])})["catch"](function(e){return $scope.nfailed++}).then(function(){return $scope.ncomplete++})})},$q.resolve()).then(success)["catch"](error)})},$scope.initializePayments()}angular.module("walletApp").controller("TransferController",TransferController)}(),function(){"use strict";function TwoFactorCtrl($scope,Wallet,Alerts,$uibModalInstance,$translate,$timeout){$scope.settings=Wallet.settings,$scope.user=Wallet.user;var steps=["disable","disabled","enable","configure_mobile","pair","confirm_sms","success","loading","error"];$scope.step=$scope.settings.needs2FA?"disable":"enable",$scope.pairWith="authenticator",$scope.fields={authenticatorCode:"",yubiKeyCode:""},$scope.mobileNumber={step:1},Wallet.user.mobileNumber.length>4&&!Wallet.user.isMobileVerified&&($scope.mobileNumber.step=2),$scope.errors={},$scope.status={},$scope.alerts=[],$scope.closeAlert=function(alert){Alerts.close(alert,$scope.alerts)},$scope.displayConfirmationError=function(){Alerts.displayError("2FA_INVALID",!1,$scope.alerts)},$scope.validateCode=function(pairWith){return"yubiKey"===pairWith?$scope.fields.yubiKeyCode.length>0:"authenticator"===pairWith&&6===$scope.fields.authenticatorCode.length},$scope.disableTwoFactor=function(){$scope.settings.needs2FA&&(Wallet.disableSecondFactor(),$scope.goToStep("disabled"),Wallet.saveActivity(2))},$scope.setTwoFactorSMS=function(){$scope.user.isMobileVerified&&Wallet.setTwoFactorSMS()},$scope.setTwoFactorGoogleAuthenticator=function(){Wallet.setTwoFactorGoogleAuthenticator()},$scope.confirmTwoFactorGoogleAuthenticator=function(code){var success=function(){$scope.isStep("pair")&&$scope.goToStep("success")},error=function(){$scope.displayConfirmationError(),$scope.errors.authenticatorCode=!0,$scope.status.loading=!1};Wallet.confirmTwoFactorGoogleAuthenticator(code,success,error)},$scope.setTwoFactorYubiKey=function(key){var success=function(){$scope.isStep("pair")&&$scope.goToStep("success")},error=function(){$scope.errors.yubiKeyCode=!0,$scope.status.loading=!1};Wallet.setTwoFactorYubiKey(key,success,error)},$scope.pairWithApp=function(pairWith){$scope.validateCode(pairWith)&&("yubiKey"===pairWith?$scope.setTwoFactorYubiKey($scope.fields.yubiKeyCode):"authenticator"===pairWith?$scope.confirmTwoFactorGoogleAuthenticator($scope.fields.authenticatorCode):$scope.goToStep("error"),$scope.status.loading=!0)},$scope.goToStep=function(step){steps.indexOf(step)<0||($scope.$root.$safeApply($scope),$scope.step=step)},$scope.isStep=function(step){return $scope.step===step},$scope.authWithPhone=function(){$scope.user.isMobileVerified?($scope.goToStep("loading"),$scope.setTwoFactorSMS()):$scope.goToStep("configure_mobile")},$scope.authWithApp=function(){$scope.goToStep("pair"),$scope.setTwoFactorGoogleAuthenticator()},$scope.close=function(){Alerts.clear(),$uibModalInstance.dismiss("")},$scope.$watch("user.isMobileVerified",function(newVal,oldVal){newVal&&$scope.isStep("configure_mobile")&&($scope.goToStep("loading"),$scope.setTwoFactorSMS())}),$scope.$watch("settings.twoFactorMethod",function(newVal,oldVal){$scope.isStep("loading")&&(newVal>0?($scope.goToStep("success"),Wallet.saveActivity(2)):$scope.goToStep("disabled"))})}angular.module("walletApp").controller("TwoFactorCtrl",TwoFactorCtrl)}(),function(){"use strict";function VerifyMessageController($scope,MyWalletHelpers,Alerts){$scope.alerts=[],$scope.isBitcoinAddress=MyWalletHelpers.isBitcoinAddress,$scope.isBase64=MyWalletHelpers.isBase64,$scope.verify=function(){try{Alerts.clear($scope.alerts),$scope.verified=MyWalletHelpers.verifyMessage($scope.address,$scope.signature,$scope.message)}catch(e){Alerts.displayError(e.message||e,!1,$scope.alerts)}},$scope.$watch("address + signature + message",function(){return $scope.verified=null})}angular.module("walletApp").controller("VerifyMessageController",VerifyMessageController)}(),function(){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function SfoxCheckoutController($scope,$timeout,$q,Wallet,MyWalletHelpers,Alerts,currency,modals,sfox,accounts){var exchange=$scope.vm.external.sfox;if($scope.enabled=!1,$scope.openSfoxSignup=function(){return modals.openSfoxSignup(exchange)},$scope.stepDescription=function(){var stepDescriptions={verify:{text:"Verify Identity",i:"ti-id-badge"},link:{text:"Link Payment",i:"ti-credit-card bank bank-lrg"}},step=sfox.determineStep(exchange,accounts);return stepDescriptions[step]},exchange.profile&&accounts.length){$scope.inspectTrade=modals.openTradeSummary,$scope.signupCompleted="active"===accounts[0].status,$scope.format=currency.formatCurrencyForView,$scope.fromSatoshi=currency.convertFromSatoshi,$scope.dollars=currency.currencies.filter(function(c){return"USD"===c.code})[0],$scope.bitcoin=currency.bitCurrencies.filter(function(c){return"BTC"===c.code})[0],$scope.hasMultipleAccounts=Wallet.accounts().filter(function(a){return a.active}).length>1,$scope.btcAccount=Wallet.getDefaultAccount(),$scope.account=accounts[0],$scope.trades=exchange.trades,$scope.max=currency.convertToSatoshi(exchange.profile.limits.buy,$scope.dollars),$scope.min=currency.convertToSatoshi(.01,$scope.dollars);var state=$scope.state={fiat:null,btc:null,baseCurr:$scope.dollars,get quoteCurr(){return this.baseFiat?$scope.bitcoin:$scope.dollars},get baseFiat(){return this.baseCurr===$scope.dollars},get total(){return this.fiat}};$scope.enableBuy=function(){return $scope.enabled=!0},$scope.disableBuy=function(){return $scope.enabled=!1},$scope.resetFields=function(){state.fiat=state.btc=null,state.baseCurr=$scope.dollars},$scope.buy=function(){$scope.lock(),$q.resolve($scope.quote.getPaymentMediums()).then(function(mediums){return mediums.ach.buy($scope.account)}).then(function(trade){modals.openTradeSummary(trade,"initiated")}).then($scope.resetFields)["catch"](function(){Alerts.displayError("Error connecting to our exchange partner")}).then($scope.disableBuy)["finally"]($scope.free)},$scope.getQuoteArgs=function(state){return[state.baseFiat?100*currency.convertFromSatoshi(state.fiat,$scope.dollars)|0:state.btc,state.baseCurr.code,state.quoteCurr.code]},$scope.cancelRefresh=function(){$scope.refreshQuote.cancel(),$timeout.cancel($scope.refreshTimeout)},$scope.refreshQuote=MyWalletHelpers.asyncOnce(function(){
$scope.cancelRefresh();var args=$scope.getQuoteArgs(state),fetchSuccess=function(quote){$scope.quote=quote,state.loadFailed=!1;var timeToExpiration=new Date(quote.expiresAt)-new Date;$scope.refreshTimeout=$timeout($scope.refreshQuote,timeToExpiration),state.baseFiat?state.btc=quote.quoteAmount:state.fiat=currency.convertToSatoshi(quote.quoteAmount,$scope.dollars)/100};$q.resolve(exchange.getBuyQuote.apply(exchange,_toConsumableArray(args))).then(fetchSuccess,function(){state.loadFailed=!0})},500),$scope.getInitialQuote=function(){var args=[1e8,$scope.bitcoin.code,$scope.dollars.code],quoteP=$q.resolve(exchange.getBuyQuote.apply(exchange,args));quoteP.then(function(quote){$scope.quote=quote})},$scope.refreshIfValid=function(field){state[field]&&$scope.checkoutForm[field].$valid?($scope.quote=null,$scope.refreshQuote()):$scope.cancelRefresh()},$scope.$watch("state.fiat",function(){return state.baseFiat&&$scope.refreshIfValid("fiat")}),$scope.$watch("state.btc",function(){return!state.baseFiat&&$scope.refreshIfValid("btc")}),$scope.$watchGroup(["state.fiat","state.btc"],function(){return $scope.disableBuy()}),$scope.$on("$destroy",$scope.cancelRefresh),$scope.getInitialQuote(),$scope.installLock()}}angular.module("walletApp").controller("SfoxCheckoutController",SfoxCheckoutController)}(),function(){"use strict";function SfoxCreateAccountController($scope,$timeout,$q,Wallet,Alerts,sfox,bcPhoneNumber){var views=["summary","email","mobile"],exchange=$scope.vm.exchange,user=$scope.user=Wallet.user,state=$scope.state={terms:!1,get verified(){return this.verifiedEmail&&this.verifiedMobile}};$scope.resolveView=function(state){var i=state.verifiedEmail?state.verifiedMobile?0:2:1;return views[i]},$scope.view=function(v){state.view=v},$scope.viewing=function(v){return v===state.view},$scope.format=bcPhoneNumber.format,$scope.setState=function(){state.email=user.email,state.mobile=user.mobileNumber,state.verifiedEmail=user.isEmailVerified,state.verifiedMobile=user.isMobileVerified,state.sentEmailCode=!state.verifiedEmail&&state.sentEmailCode,state.sentMobileCode=!state.verifiedMobile&&state.sentMobileCode,state.mobileCode=state.emailCode="",state.view=$scope.resolveView(state)},$scope.emailCodeSent=function(){state.sentEmailCode=!0},$scope.mobileCodeSent=function(){state.sentMobileCode=!0},$scope.displayInlineError=function(error){var form=$scope.$$childHead.accountForm;switch(JSON.parse(error).error){case"user is already registered":form.email.$setValidity("registered",!1);break;default:sfox.displayError(error)}},$scope.clearInlineErrors=function(){var form=$scope.$$childHead.accountForm;form.email.$setValidity("registered",!0)},$scope.changeEmail=function(){$scope.lock(),$scope.clearInlineErrors(),$q(Wallet.changeEmail.bind(null,state.email)).then(function(){return $q(Wallet.sendConfirmationCode)}).then($scope.emailCodeSent).then($scope.setState,sfox.displayError)["finally"]($scope.free)},$scope.sendEmailCode=function(){$q(Wallet.sendConfirmationCode).then($scope.emailCodeSent,sfox.displayError)},$scope.verifyEmail=function(){$scope.lock(),$q(Wallet.verifyEmail.bind(null,state.emailCode)).then($scope.setState,sfox.displayError)["finally"]($scope.free)},$scope.changeMobile=function(){$scope.lock(),$q(Wallet.changeMobile.bind(null,state.mobile)).then($scope.mobileCodeSent).then($scope.setState,sfox.displayError)["finally"]($scope.free)},$scope.sendMobileCode=function(){$scope.changeMobile()},$scope.verifyMobile=function(){$scope.lock(),$q(Wallet.verifyMobile.bind(null,state.mobileCode)).then($scope.setState,sfox.displayError)["finally"]($scope.free)},$scope.createAccount=function(){$scope.lock(),$q.resolve(exchange.signup()).then(function(){return exchange.fetchProfile()}).then(function(){return $scope.vm.goTo("verify")})["catch"]($scope.displayInlineError)["finally"]($scope.free)},$scope.$watch("user.isEmailVerified",$scope.setState),$scope.$watch("user.isMobileVerified",$scope.setState),$scope.$watch("state.view",function(view){var shouldSendEmail=!state.verifiedEmail&&state.email&&state.email.indexOf("@")>-1,shouldSendMobile=!state.verifiedMobile&&bcPhoneNumber.isValid(state.mobile);"email"===view&&shouldSendEmail&&$scope.sendEmailCode(),"mobile"===view&&shouldSendMobile&&$scope.sendMobileCode()}),$scope.setState(),$scope.installLock()}angular.module("walletApp").controller("SfoxCreateAccountController",SfoxCreateAccountController)}(),function(){"use strict";function SfoxLinkController($scope,$q,sfox,modals){var exchange=$scope.vm.exchange,accounts=$scope.vm.accounts;$scope.types=["checking","savings"],$scope.openBankHelper=modals.openBankHelper,$scope.openDepositHelper=modals.openDepositHelper;var state=$scope.state={terms:!1,accounts:accounts,readyToVerify:void 0};$scope.fields={deposit1:void 0,deposit2:void 0,nickname:"",routingNumber:void 0,accountNumber:void 0,type:"checking"},$scope.displayInlineError=function(error){var bankForm=$scope.$$childHead.bankAccountForm,verifyForm=$scope.$$childHead.verifyBankAccountForm;switch(JSON.parse(error).error){case"must provide routing number":bankForm.routingNumber.$setValidity("value",!1);break;case"must provide account number":bankForm.accountNumber.$setValidity("value",!1);break;case"invalid amounts":verifyForm.deposit1.$setValidity("value",!1),verifyForm.deposit2.$setValidity("value",!1);break;default:sfox.displayError(error)}},$scope.clearInlineErrors=function(form){for(var _len=arguments.length,fields=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)fields[_key-1]=arguments[_key];fields.forEach(function(f){return form[f].$setValidity("value",!0)})},$scope.link=function(){$scope.lock();var addAccount=function(methods){return methods.ach.addAccount($scope.fields.routingNumber,$scope.fields.accountNumber,"name1",$scope.fields.type)};$q.resolve(exchange.getBuyMethods()).then(addAccount).then(function(account){return state.accounts[0]=account})["catch"]($scope.displayInlineError)["finally"]($scope.free)},$scope.verify=function(){$scope.lock(),$q.resolve(state.accounts[0].verify($scope.fields.deposit1,$scope.fields.deposit2)).then(function(){return $scope.vm.goTo("buy")})["catch"]($scope.displayInlineError)["finally"]($scope.free)},$scope.installLock()}angular.module("walletApp").controller("SfoxLinkController",SfoxLinkController)}(),function(){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function SfoxSignupController($stateParams,sfox,exchange,accounts){var _this=this;this.exchange=exchange,this.accounts=accounts,this.steps=enumify("create","verify","link","buy"),this.onStep=function(s){return _this.steps[s]===_this.step},this.goTo=function(s){_this.step=_this.steps[s]},this.goTo(sfox.determineStep(exchange,accounts))}angular.module("walletApp").controller("SfoxSignupController",SfoxSignupController);var enumify=function(){for(var _len=arguments.length,ns=Array(_len),_key=0;_key<_len;_key++)ns[_key]=arguments[_key];return ns.reduce(function(e,n,i){return angular.merge(e,_defineProperty({},n,i))},{})}}(),function(){"use strict";function SfoxVerifyController($rootScope,$scope,$q,state,$http,sfox,Upload,QA){$scope.states=state.stateCodes;var exchange=$scope.vm.exchange,getNextIdType=function(){if(!exchange.profile)return"ssn";var _exchange$profile$ver=exchange.profile.verificationStatus,level=_exchange$profile$ver.level,_exchange$profile$ver2=_exchange$profile$ver.required_docs,required_docs=void 0===_exchange$profile$ver2?[]:_exchange$profile$ver2,verificationInProgress="pending"===level&&0===required_docs.length,needsSSN=!exchange.profile.identity.number&&!verificationInProgress;return needsSSN?"ssn":required_docs[0]};$scope.state={idType:getNextIdType(),signedURL:void 0},$scope.setState=function(){$scope.state.verificationStatus=exchange.profile.verificationStatus,$scope.state.idType=getNextIdType(),$scope.state.file=void 0},$scope.isBeforeNow=function(date){var then=new Date(date).getTime();return then<Date.now()},$scope.getSignedURL=function(){$scope.lock();var fields=$scope.state,profile=exchange.profile,idType=fields.idType,filename=fields.file.name;fields.verifyDoc&&(filename="testing-"+filename),$q.resolve(profile.getSignedURL(idType,filename)).then(function(res){return $scope.state.signedURL=res.signed_url})["catch"](function(err){return console.log(err)})["finally"]($scope.free)},$scope.upload=function(){$scope.lock();var _$scope$state=$scope.state,signedURL=_$scope$state.signedURL,file=_$scope$state.file,profile=exchange.profile;$scope.SFOXDebugDocs.indexOf(profile.address.street.line2)>-1&&profile.setAddress(profile.address.street.line1,"2",profile.address.city,profile.address.state,profile.address.zipcode),Upload.http({method:"PUT",url:signedURL,data:file,headers:{"content-type":"application/octet-stream"}}).then(function(){return $scope.verify()})["catch"](sfox.displayError)},$scope.verify=function(){$scope.lock();try{var fields=$scope.state,profile=exchange.profile;profile.firstName=profile.firstName||fields.first,profile.middleName=profile.middleName||fields.middle,profile.lastName=profile.lastName||fields.last,profile.dateOfBirth=profile.dateOfBirth||new Date(fields.dob),profile.setSSN(profile.identity.number||fields.ssn),profile.setAddress(profile.address.street.line1||fields.addr1,profile.address.street.line2||fields.addr2,profile.address.city||fields.city,profile.address.state||fields.state.Code,profile.address.zipcode||fields.zipcode),$q.resolve(profile.verify()).then(function(){return $scope.setState()})["catch"](sfox.displayError)["finally"]($scope.free)}catch(error){console.error(error),$scope.free()}},$scope.installLock(),$scope.$watch("state.file",function(file){return file&&$scope.getSignedURL()}),$scope.$watch("state.verificationStatus.level",function(newVal){return"verified"===newVal&&$scope.vm.goTo("link")}),$scope.$watch("state.idType",function(idType){return null==idType&&$scope.vm.goTo("link")}),$scope.$on("$destroy",function(){exchange.profile.setSSN(null)}),$scope.SFOXDebugDocs=QA.SFOXDebugDocs,$scope.SFOXAddressForm=function(){return angular.merge($scope.state,QA.SFOXAddressForm())}}angular.module("walletApp").controller("SfoxVerifyController",SfoxVerifyController)}(),function(){"use strict";function SignupCtrl($scope,$state,$cookies,$filter,$timeout,$translate,Wallet,currency,languages,MyWallet,$http,$rootScope){$scope.working=!1,$scope.browser={disabled:!0};var language_code=languages.get();"zh_CN"===language_code&&(language_code="zh-cn");var language_guess=$filter("getByProperty")("code",language_code,languages.languages);null==language_guess&&(language_guess=$filter("getByProperty")("code","en",languages.languages)),$scope.language_guess=language_guess,$http.get($rootScope.rootURL+"wallet/browser-info").success(function(data){var cur=void 0,country_code=data.country_code;switch(country_code){case"US":case"IO":cur="USD";break;case"AT":case"BE":case"CY":case"EE":case"FI":case"FR":case"DE":case"GR":case"IE":case"IT":case"LV":case"LT":case"LU":case"MT":case"NL":case"PT":case"SK":case"SI":case"ES":case"MC":case"SM":case"VA":case"AD":case"PM":case"YT":case"BL":case"XK":case"ME":case"NO":case"AL":case"BA":case"MK":case"RS":case"TR":case"MD":case"CZ":cur="EUR";break;case"IS":cur="ISK";break;case"HK":cur="HKD";break;case"TW":cur="TWD";break;case"CH":case"LI":cur="CHF";break;case"DK":case"GL":case"FO":cur="DKK";break;case"CL":cur="CLP";break;case"CA":cur="CAD";break;case"CN":case"MO":cur="CNY";break;case"TH":cur="THB";break;case"AU":cur="AUD";break;case"SG":cur="SGD";break;case"KR":cur="KRW";break;case"JP":cur="JPY";break;case"PL":cur="PLN";break;case"GB":case"IM":case"GG":case"SS":case"JE":cur="GBP";break;case"SE":cur="SEK";break;case"NZ":cur="NZD";break;case"BR":cur="BRL";break;case"RU":cur="RUB";break;default:cur="USD"}$scope.currency_guess=$filter("getByProperty")("code",cur,currency.currencies)}).error(function(){$scope.currency_guess=$filter("getByProperty")("code","USD",currency.currencies)}),$scope.fields={password:"",confirmation:"",acceptedAgreement:!1,email:$state.params.email||""},$state.params.email?$scope.fields.emailIsFromState=!0:"",$scope.signup=function(){$scope.working=!0,$scope.autoReload&&$cookies.put("password",$scope.fields.password),$timeout(function(){MyWallet.browserCheck()?$scope.createWallet(function(uid){$state.go("wallet.common.home")}):($scope.browser.disabled=!0,$scope.browser.msg=$translate.instant("UNSUITABLE_BROWSER"),$scope.working=!1)},250)},$scope.createWallet=function(success){Wallet.create($scope.fields.password,$scope.fields.email,$scope.currency_guess,$scope.language_guess,success)},$scope.$watch("language_guess",function(newVal,oldVal){newVal&&languages.set(newVal.code)}),$scope.autoCreate&&($scope.fields.password="password123",$scope.fields.confirmation="password123",$scope.fields.acceptedAgreement=!0,$scope.fields.email=$scope.autoCreate+"+"+Date.now()+"@blockchain.com")}angular.module("walletApp").controller("SignupCtrl",SignupCtrl),SignupCtrl.$inject=["$scope","$state","$cookies","$filter","$timeout","$translate","Wallet","currency","languages","MyWallet","$http","$rootScope"]}(),function(){"use strict";function SubscribeCtrl($rootScope,$scope,MyWallet,country,state,buySell,$cookies,$uibModalStack){$scope.countries=country,$scope.states=state,$scope.data={},$scope.fields={stateCode:"",email:MyWallet.wallet.accountInfo.email,countryCode:MyWallet.wallet.accountInfo.countryCodeGuess},$scope.signupForAccess=function(){var email=encodeURIComponent($scope.fields.email);buySell.signupForAccess(email,$scope.fields.country)},$scope.subscribe=function(){$cookies.put("subscribed",!0),$rootScope.isSubscribed=!0,$uibModalStack.dismissAll()},$scope.$watch("fields.countryCode",function(countryCode){countryCode&&($scope.fields.country=$scope.countries.countryCodes.filter(function(c){return c.Code===$scope.fields.countryCode})[0].Name)}),$scope.$watch("fields.stateCode",function(stateCode){stateCode&&($scope.fields.state=$scope.states.stateCodes.filter(function(s){return s.Code===$scope.fields.stateCode})[0].Name)})}angular.module("walletApp").controller("SubscribeCtrl",SubscribeCtrl)}(),function(){"use strict";function TopCtrl($scope,Wallet,currency){$scope.settings=Wallet.settings,$scope.isBitCurrency=currency.isBitCurrency,$scope.toggleDisplayCurrency=Wallet.toggleDisplayCurrency,$scope.status=Wallet.status,$scope.copied=!1,$scope.getTotal=function(){return Wallet.total()},$scope.resetCopy=function(){return $scope.copied=!1},$scope.nextAddress=function(){if(!$scope.copied){$scope.copied=!0;var defaultIdx=Wallet.my.wallet.hdwallet.defaultAccountIndex;return Wallet.getReceivingAddressForAccount(defaultIdx)}}}angular.module("walletApp").controller("TopCtrl",TopCtrl)}(),function(){"use strict";function TransactionsCtrl($scope,$q,$translate,$uibModal,Wallet,MyWallet,format,smartAccount){$scope.addressBook=Wallet.addressBook,$scope.status=Wallet.status,$scope.settings=Wallet.settings,$scope.totals=Wallet.totals,$scope.filterBy={type:void 0,account:void 0},$scope.getTotal=Wallet.total,$scope.loading=!1,$scope.allTxsLoaded=!1,$scope.canDisplayDescriptions=!1,$scope.txLimit=10,$scope.isFilterOpen=!1,$scope.toggleFilter=function(){return $scope.isFilterOpen=!$scope.isFilterOpen};var all={label:$translate.instant("ALL"),index:"",type:"Accounts"};$scope.accounts=smartAccount.getOptions(),$scope.accounts.length>1&&$scope.accounts.unshift(all),$scope.filterBy.account=$scope.accounts[0];var txList=MyWallet.wallet.txList;$scope.transactions=txList.transactions(smartAccount.getDefaultIdx());var fetchTxs=function(){$scope.loading=!0,$q.resolve(MyWallet.wallet.fetchTransactions()).then(function(numFetched){return $scope.allTxsLoaded=numFetched<txList.loadNumber})["finally"](function(){return $scope.loading=!1})};0===$scope.transactions.length&&fetchTxs(),$scope.nextPage=function(){$scope.txLimit<$scope.transactions.length?$scope.txLimit+=5:$scope.allTxsLoaded||$scope.loading||fetchTxs()},$scope.$watchCollection("accounts",function(newValue){$scope.canDisplayDescriptions=$scope.accounts.length>0});var setTxs=$scope.setTxs=function(){var idx=$scope.filterBy.account.index,newTxs=""!==idx&&isNaN(idx)?$scope.filterByAddress($scope.filterBy.account):txList.transactions(idx);$scope.transactions.length>newTxs.length&&($scope.allTxsLoaded=!1),$scope.transactions=newTxs,$scope.$safeApply()};$scope.exportHistory=function(){return $uibModal.open({templateUrl:"partials/export-history.jade",controller:"ExportHistoryController",windowClass:"bc-modal",resolve:{activeIndex:function(){var idx=$scope.filterBy.account.index;return isNaN(idx)?"imported":idx.toString()}}})};var unsub=txList.subscribe(setTxs);$scope.$on("$destroy",unsub),$scope.filterTypes=["ALL","SENT","RECEIVED","TRANSFERRED"],$scope.setFilterType=function(type){return $scope.filterBy.type=$scope.filterTypes[type]},$scope.isFilterType=function(type){return $scope.filterBy.type===$scope.filterTypes[type]},$scope.setFilterType(0),$scope.transactionFilter=function(item){return $scope.filterByType(item)&&$scope.filterSearch(item,$scope.searchText)},$scope.filterSearch=function(tx,search){return!search||($scope.filterTx(tx.processedInputs,search)||$scope.filterTx(tx.processedOutputs,search)||tx.hash.toLowerCase().search(search.toLowerCase())>-1||tx.note&&tx.note.toLowerCase().search(search.toLowerCase())>-1)},$scope.checkLabelDiff=function(label,address){return label===address?address:label+", "+address},$scope.filterTx=function(coins,search){return coins.map(function(coin){return $scope.checkLabelDiff(coin.label,coin.address)}).join(", ").toLowerCase().search(search.toLowerCase())>-1},$scope.filterByType=function(tx){switch($scope.filterBy.type){case $scope.filterTypes[0]:return!0;case $scope.filterTypes[1]:return"sent"===tx.txType;case $scope.filterTypes[2]:return"received"===tx.txType;case $scope.filterTypes[3]:return"transfer"===tx.txType}return!1},$scope.filterByAddress=function(addr){return txList.transactions("imported").filter(function(tx){return tx.processedOutputs.concat(tx.processedInputs).some(function(p){return addr.address===p.address})})},$scope.$watch("filterBy.account",setTxs)}angular.module("walletApp").controller("TransactionsCtrl",TransactionsCtrl)}(),function(){"use strict";function UnsubscribeCtrl($scope,$rootScope,WalletTokenEndpoints,$stateParams,$state,Alerts,$translate){Alerts.clear();var success=function(res){$state.go("public.login-uid",{uid:res.guid}).then(function(){Alerts.displaySuccess("UNSUBSCRIBE_SUCCESS")}),$rootScope.$safeApply()},error=function(res){$state.go("public.login-no-uid").then(function(){Alerts.displayError(res.error,!0)}),$rootScope.$safeApply()};WalletTokenEndpoints.unsubscribe($stateParams.token).then(success)["catch"](error)}angular.module("walletApp").controller("UnsubscribeCtrl",UnsubscribeCtrl)}(),function(){"use strict";function UpgradeCtrl($scope,Wallet,$uibModalInstance,$log,$window,$translate,$timeout,$rootScope){$scope.waiting=!0,$scope.busy=!1,$scope.upgrade=function(){var secondPasswordCancelled=function(){$scope.insist=!0,$scope.busy=!1},success=function(){$scope.busy=!1,$uibModalInstance.close()};$scope.insist=!1,$scope.busy=!0,Wallet.upgrade(success,secondPasswordCancelled)},$timeout(function(){return $scope.waiting=!1},3e3)}angular.module("walletApp").controller("UpgradeCtrl",UpgradeCtrl)}(),function(){"use strict";function VerifyEmailCtrl($window,$scope,Wallet,WalletTokenEndpoints,$stateParams,$q,MyWalletHelpers){$scope.state="pending";var success=function(res){$scope.state="success","iOS"===MyWalletHelpers.getMobileOperatingSystem()&&($window.location.href="blockchain-wallet://emailVerified")},error=function(res){$scope.state="error",$scope.error=res.initial_error||res.error};$q.resolve(WalletTokenEndpoints.verifyEmail($stateParams.token)).then(success,error)}angular.module("walletApp").controller("VerifyEmailCtrl",VerifyEmailCtrl)}(),function(){"use strict";function WalletCtrl($scope,$rootScope,Wallet,$uibModal,$timeout,Alerts,$interval,$ocLazyLoad,$state,$uibModalStack,$q,MyWallet,currency,$translate,$window,buyStatus){$scope.goal=Wallet.goal,$scope.status=Wallet.status,$scope.settings=Wallet.settings,$rootScope.isMock=Wallet.isMock,$rootScope.needsRefresh=!1,$scope.menu={isCollapsed:!1},$scope.toggleMenu=function(){$scope.menu.isCollapsed=!$scope.menu.isCollapsed},$scope.hideMenu=function(){$scope.menu.isCollapsed=!1},$scope.lastAction=Date.now(),$scope.onAction=function(){return $scope.lastAction=Date.now()},$scope.getTheme=function(){return $scope.settings.theme["class"]},$scope.inactivityCheck=function(){if(Wallet.status.isLoggedIn){var inactivityTimeSeconds=Math.round((Date.now()-$scope.lastAction)/1e3),logoutTimeSeconds=60*Wallet.settings.logoutTimeMinutes;inactivityTimeSeconds===logoutTimeSeconds-10&&!function(){var logoutTimer=$timeout(function(){return Wallet.logout({auto:!0})},1e4),alertOpts={values:{minutes:Wallet.settings.logoutTimeMinutes},action:"LOG_ME_OUT"};Alerts.confirm("CONFIRM_AUTO_LOGOUT",alertOpts).then(Wallet.logout)["catch"](function(){return $timeout.cancel(logoutTimer)})}()}},$scope.inactivityInterval=$interval($scope.inactivityCheck,1e3),$scope.$on("$destroy",function(){return $interval.cancel($scope.inactivityInterval)}),$rootScope.browserWithCamera=void 0!==(navigator.getUserMedia||navigator.mozGetUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia),$scope.request=function(){Alerts.clear(),$uibModal.open({templateUrl:"partials/request.jade",windowClass:"bc-modal auto",controller:"RequestCtrl",resolve:{destination:function(){return null},focus:function(){return!1}}})},$scope.send=function(){Alerts.clear(),$uibModal.open({templateUrl:"partials/send.jade",windowClass:"bc-modal initial",controller:"SendCtrl",resolve:{paymentRequest:function(){return{address:"",amount:""}},loadBcQrReader:function(){return $ocLazyLoad.load("bcQrReader")}}})},$scope.$on("requireSecondPassword",function(notification,_defer,_insist){var modalInstance=$uibModal.open({templateUrl:"partials/second-password.jade",controller:"SecondPasswordCtrl",backdrop:_insist?"static":null,keyboard:_insist,windowClass:"bc-modal",resolve:{insist:function(){return _insist},defer:function(){return _defer}}});modalInstance.result.then(function(){},function(){return _defer.reject()})}),$scope.isPublicState=function(stateName){return"public"===stateName.split(".")[0]||["landing","open","wallet.common.unsubscribe"].indexOf(stateName)>-1},$scope.$on("$stateChangeStart",function(event,toState,toParams,fromState,fromParams){var wallet=MyWallet.wallet;$scope.isPublicState(toState.name)&&Wallet.status.isLoggedIn&&event.preventDefault(),wallet&&wallet.isDoubleEncrypted&&"wallet.common.buy-sell"===toState.name?(event.preventDefault(),Alerts.displayError("MUST_DISABLE_2ND_PW")):wallet&&$rootScope.needsRefresh&&"wallet.common.buy-sell"===toState.name&&(event.preventDefault(),Alerts.displayError("NEEDS_REFRESH"))}),$scope.$on("$stateChangeSuccess",function(event,toState,toParams,fromState,fromParams){$scope.isPublicState(toState.name)||$scope.status.isLoggedIn||$state.go("public.login-no-uid"),$rootScope.outOfApp="landing"===toState.name,$uibModalStack.dismissAll()}),$rootScope.scheduleRefresh=function(){$scope.cancelRefresh(),$scope.refreshTimeout=$timeout($scope.refresh,3e3)},$rootScope.cancelRefresh=function(){$timeout.cancel($scope.refreshTimeout)},$scope.refresh=function(){$scope.refreshing=!0,$q.all([MyWallet.wallet.getHistory(),currency.fetchExchangeRate()])["catch"](function(){return console.log("error refreshing")})["finally"](function(){$scope.$broadcast("refresh"),$timeout(function(){return $scope.refreshing=!1},500)})},$scope.$on("$stateChangeError",function(event,toState,toParams,fromState,fromParams,error){var message="string"==typeof error?error:"ROUTE_ERROR";Alerts.displayError(message)}),$scope.$watch("status.isLoggedIn + goal",function(){return $timeout($scope.checkGoals)}),$scope.checkGoals=function(){$scope.status.isLoggedIn&&(Wallet.goal.upgrade&&($uibModal.open({templateUrl:"partials/upgrade.jade",controller:"UpgradeCtrl",backdrop:"static",windowClass:"bc-modal",keyboard:!1}),Wallet.goal.upgrade=void 0),Wallet.goal.auth&&(Alerts.clear(),Wallet.goal.auth=void 0),Wallet.goal.firstTime&&(buyStatus.canBuy().then(function(canBuy){var template=canBuy?"partials/buy-login-modal.jade":"partials/first-login-modal.jade";$uibModal.open({templateUrl:template,windowClass:"bc-modal rocket-modal initial"})}),Wallet.goal.firstLogin=!0,Wallet.goal.firstTime=void 0),Wallet.goal.firstLogin||buyStatus.canBuy().then(function(canBuy){buyStatus.shouldShowBuyReminder()&&!buyStatus.userHasAccount()&&canBuy&&buyStatus.showBuyReminder()}),Wallet.status.didLoadTransactions&&Wallet.status.didLoadBalances?null!=Wallet.goal.send&&($uibModal.open({templateUrl:"partials/send.jade",controller:"SendCtrl",resolve:{paymentRequest:function(){return Wallet.goal.send},loadBcQrReader:function(){return $ocLazyLoad.load("bcQrReader")}},windowClass:"bc-modal initial"}),Wallet.goal.send=void 0):$timeout($scope.checkGoals,100))},$scope.back=function(){return $window.history.back()}}angular.module("walletApp").controller("WalletCtrl",WalletCtrl)}(),function(){"use strict";function WalletNavigationCtrl($rootScope,$scope,Wallet,SecurityCenter,$state,$uibModal,filterFilter,$location,buyStatus,cta){$scope.status=Wallet.status,$scope.settings=Wallet.settings,$scope.security=SecurityCenter.security,$scope.userHasAccount=buyStatus.userHasAccount(),$scope.shouldShowBuyCta=cta.shouldShowBuyCta,$scope.setBuyCtaDismissed=cta.setBuyCtaDissmissed,$scope.shouldShowSecurityWarning=cta.shouldShowSecurityWarning,$scope.setSecurityWarningDismissed=cta.setSecurityWarningDismissed,$scope.getSecurityWarningMessage=cta.getSecurityWarningMessage,buyStatus.canBuy().then(function(res){return $scope.canBuy=res}),$scope.numberOfActiveLegacyAddresses=function(){return Wallet.status.isLoggedIn?filterFilter(Wallet.legacyAddresses(),{archived:!1}).length:null},$scope.numberOfActiveAccounts=function(){return filterFilter(Wallet.accounts(),{archived:!1}).length},$scope.accountsRoute=function(){return["wallet.common.settings.accounts_index","wallet.common.settings.accounts_addresses","wallet.common.settings.imported_addresses"].indexOf($state.current.name)>-1},$scope.showOrHide=function(path){return $location.url().indexOf(path)!==-1},$rootScope.supportModal=function(){return $uibModal.open({templateUrl:"partials/support.jade",windowClass:"bc-modal auto"})}}angular.module("walletApp").controller("WalletNavigationCtrl",WalletNavigationCtrl)}(),function(){"use strict";angular.module("walletApp").component("kycStatus",{bindings:{state:"<",limits:"<",onTrigger:"&"},templateUrl:"templates/kyc-status.jade",controller:function(buySell){var _this=this;this.stateMap={expired:{ns:"KYC_EXPIRED",i:"ti-na"},pending:{ns:"KYC_PENDING",i:"ti-alert"},manualHold:{ns:"KYC_IN_HOLD",i:"ti-alert"},reviewing:{ns:"KYC_IN_REVIEW",i:"ti-alert"},manual_review:{ns:"KYC_IN_REVIEW",i:"ti-alert"},manualReviewing:{ns:"KYC_IN_REVIEW",i:"ti-alert"},failed:{ns:"KYC_DENIED",i:"ti-na"},declined:{ns:"KYC_DENIED",i:"ti-na"},rejected:{ns:"KYC_DENIED",i:"ti-na"},manualRejected:{ns:"KYC_DENIED",i:"ti-na"}},this.getState=function(){return _this.stateMap[_this.state]},this.profile=buySell.getExchange().profile,this.level=this.profile?+this.profile.level.name:null,this.getCardMax=function(){var symbol=_this.limits.currency&&_this.limits.currency.symbol,amt=_this.limits.card&&_this.limits.card.max;return(symbol||"€")+(amt||"300.00")}}})}(),function(){"use strict";angular.module("walletApp").component("labelOrigin",{bindings:{origin:"<",highlight:"<",simple:"<"},templateUrl:"templates/label-origin.jade"})}(),function(){"use strict";function activityFeed($http,Wallet,MyWallet,Activity,Options,buyStatus){function link(scope,elem,attrs){scope.loading=!0,scope.status=Wallet.status,scope.activities=Activity.activities,buyStatus.canBuy().then(function(res){return scope.canBuy=res}),scope.$watch(function(){return Activity.activities},function(activities){scope.activities=activities}),scope.$watch("status.didLoadTransactions",function(didLoad){didLoad&&(scope.loading=!1)}),scope.$watch("status.didLoadSettings",function(didLoad){didLoad&&Activity.updateLogActivities()})}var directive={restrict:"E",replace:!0,templateUrl:"templates/activity-feed.jade",link:link};return directive}angular.module("walletApp").directive("activityFeed",activityFeed),activityFeed.$inject=["$http","Wallet","MyWallet","Activity","Options","buyStatus"]}(),function(){"use strict";function addressBookEntry(Wallet,$translate,Alerts){function link(scope,elem,attrs,ctrl){scope["delete"]=function(){Alerts.confirm("CONFIRM_DELETE_ADDRESS_BOOK_ENTRY",{address:scope.address.address}).then(function(){return Wallet.removeAddressBookEntry(scope.address)})}}var directive={restrict:"A",replace:!0,scope:{address:"=addressBookEntry",searchText:"="},templateUrl:function(elem,attrs){return"templates/address-book-entry.jade"},link:link};return directive}angular.module("walletApp").directive("addressBookEntry",addressBookEntry),addressBookEntry.$inject=["Wallet","$translate","Alerts"]}(),function(){"use strict";function adverts(Adverts,$window){function link(scope,elem,attrs){scope.ads=Adverts.ads,Adverts.fetchOnce(),scope.visit=function(ad){$window.open(ad.link,"_blank")}}var directive={restrict:"E",replace:"true",scope:{},templateUrl:"templates/adverts.jade",link:link};return directive}angular.module("walletApp").directive("adverts",adverts),adverts.$inject=["Adverts","$window"]}(),function(){"use strict";function alerts(Alerts){function link(scope){scope.alerts=Array.isArray(scope.alertsContext)?scope.alertsContext:Alerts.alerts}var directive={restrict:"E",scope:{alertsContext:"=context"},template:'\n      <uib-alert ng-repeat="alert in alerts" type="{{::alert.type}}" close="alert.close()" ng-click="alert.action($event)">\n        {{::alert.msg}}\n      </uib-alert>',link:link};return directive}angular.module("walletApp").directive("alerts",alerts)}(),function(){"use strict";function amount(Wallet,currency){function link(scope,elem,attrs){scope.settings=Wallet.settings,scope.isBitCurrency=currency.isBitCurrency,scope.toggle=Wallet.toggleDisplayCurrency,scope.absolute=function(value){return Math.abs(value)}}var directive={restrict:"E",replace:!1,scope:{tx:"=transaction"},templateUrl:"templates/amount.jade",link:link};return directive}angular.module("walletApp").directive("amount",amount),amount.$inject=["Wallet","currency"]}(),function(){"use strict";function asyncSelect($translate,Alerts){function link(scope,elem,attrs){scope.didSelect=function(item){scope.changing=!0,scope.onChange(item).then(function(){return scope.selected=item})["catch"](function(){var err=$translate.instant("SETTING_SELECT_ERR",{setting:scope.displayItem(item)});Alerts.displayError(err)})["finally"](function(){return scope.changing=!1})},scope.displayItem=function(item,showOptionalProp){if(!item)return"";var text=item[scope.displayProp];return scope.displayOptional&&showOptionalProp&&(text+=" ("+item[scope.displayOptional]+")"),text}}var directive={restrict:"E",replace:!1,scope:{selected:"=",range:"=",displayProp:"@",displayOptional:"@",onChange:"="},templateUrl:"templates/async-select.jade",link:link};return directive}angular.module("walletApp").directive("asyncSelect",asyncSelect)}(),function(){"use strict";function bcAsyncInput($timeout,Wallet){function link(scope,elem,attrs,ctrl,transclude){scope.isRequired=null!=attrs.isRequired,scope.inline=null!=attrs.inline,scope.button=attrs.button||"SAVE",scope.type=scope._type||"text",scope.buttonClass=scope._buttonClass||"button-primary btn-small",scope.user=Wallet.user,scope.status={edit:!1,saving:!1},scope.edit=function(){$timeout(function(){elem.find("input")[0].focus()},50),scope.status.edit=1},null!=attrs.editing&&(scope.status.edit=!0),scope.status.edit&&scope.edit(),scope.form={newValue:scope.ngModel},scope.focus=function(){
scope.status.edit=1},scope.validate=function(){return!scope.validator||scope.validator(scope.form.newValue)},scope.save=function(){if(scope.validate()){scope.status.saving=!0;var success=function(){scope.ngModel=scope.form.newValue,attrs.custom||scope.bcAsyncForm.$setPristine(),$timeout(function(){scope.status.saving=!1,attrs.editing||(scope.status.edit=!1)})},error=function(){scope.status.saving=!1,scope.$root.$safeApply(scope)};scope.onSave(scope.form.newValue,success,error)}},scope.cancel=function(){attrs.editing||(scope.status.edit=!1),scope.bcAsyncForm.input.$rollbackViewValue(),scope.form.newValue=scope.ngModel,scope.bcAsyncForm.$setPristine(),scope.onCancel&&scope.onCancel()},transclude(scope,function(clone,scope){attrs.custom&&elem.empty().append(clone)})}var directive={restrict:"E",replace:!0,require:"ngModel",scope:{ngModel:"=",validator:"=",onSave:"=",onFocus:"=",onCancel:"=",onChange:"=",actionTitle:"=",placeholder:"=",unit:"@",_type:"@type",errorMessage:"=",_buttonClass:"@buttonClass",maxLength:"@",transform:"="},transclude:!0,templateUrl:function(elem,attrs){var templ=attrs.custom?"transclude.jade":"bc-async-input.jade";return"templates/"+templ},link:link};return directive}angular.module("walletApp").directive("bcAsyncInput",bcAsyncInput),bcAsyncInput.$inject=["$timeout","Wallet"]}(),function(){"use strict";function blocketLoading($timeout,Wallet){function link(scope,elem,attrs){scope.initialized=Wallet.status.isLoggedIn&&Wallet.status.didLoadSettings&&Wallet.status.didLoadTransactions,scope.docIsReady=function(){$timeout(function(){return scope.liftoff=!0},0),$timeout(function(){return scope.orbiting=!0},1e3),$timeout(function(){return elem.remove()},2e3)},angular.element(document).ready(scope.docIsReady)}var directive={restrict:"E",scope:{},templateUrl:"templates/blocket-loading.jade",link:link};return directive}angular.module("walletApp").directive("blocketLoading",blocketLoading),blocketLoading.$inject=["$timeout","Wallet"]}(),function(){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function blocketTroposphere(){function link(scope,elem,attrs){scope.getRange=function(n){return[].concat(_toConsumableArray(Array(n).keys()))}}var directive={restrict:"E",replace:!0,scope:{status:"@"},templateUrl:"templates/blocket-troposphere.jade",link:link};return directive}angular.module("walletApp").directive("blocketTroposphere",blocketTroposphere)}(),function(){"use strict";function directive($q,$translate,MyWallet){function link(scope,elem,attrs){var warnUnknownBrowser=function(defer){$translate("UNKNOWN_BROWSER").then(function(translation){defer.resolve({warn:!0,msg:translation})})},checkBrowserMath=function(){var defer=$q.defer();return MyWallet.browserCheckFast()?defer.resolve():$translate("UNSUITABLE_BROWSER").then(function(translation){defer.reject({msg:translation})}),defer.promise};scope.getUserAgent=function(){return navigator.userAgent};var checkBrowserVersion=function(){var defer=$q.defer(),info=browserDetection(),matchingBrowser=browsers[info.browser.toLowerCase()];if(matchingBrowser){var requiredVersion=matchingBrowser.requiredVersion;info.version<requiredVersion?$translate("MINIMUM_BROWSER",{browser:matchingBrowser.name,userVersion:info.version,requiredVersion:requiredVersion}).then(function(translation){defer.reject({msg:translation})}):"ie"===info.browser?$translate("WARN_AGAINST_IE").then(function(translation){defer.resolve({warn:!0,msg:translation})}):defer.resolve({})}else if(info.webkit){var minimumWebkitVersion="600.1.4",userVersion=[info.webkit.major,info.webkit.minor,info.webkit.patch].filter(function(x){return"number"==typeof x}).join(".");if(compareVersions(userVersion,minimumWebkitVersion)===-1)if("safari"===info.browser){var safariVersion="version",safari=scope.getUserAgent().match(/version\/(\d+\.\d+)/i);safari&&2===safari.length&&(safariVersion=safari[1]),$translate("MINIMUM_BROWSER",{browser:"Safari",userVersion:safariVersion,requiredVersion:"8.0.6"}).then(function(translation){defer.reject({msg:translation})})}else $translate("MINIMUM_BROWSER",{browser:"Webkit",userVersion:userVersion,requiredVersion:minimumWebkitVersion}).then(function(translation){defer.reject({msg:translation})});else"safari"===info.browser?defer.resolve({}):warnUnknownBrowser(defer)}else warnUnknownBrowser(defer);return defer.promise};scope.performCheck=function(){var error=function(res){scope.result.disabled=!0,scope.result.msg=res.msg};checkBrowserMath().then(function(){checkBrowserVersion().then(function(res){scope.result.disabled=!1,scope.result.warn=res.warn,scope.result.msg=res.msg})["catch"](error)})["catch"](error)},scope.performCheck()}var directive={restrict:"E",replace:!0,scope:{result:"="},template:'\n      <div class="browser-detection">\n        <p class="text-warning" ng-show="result.warn">{{ result.msg }}</p>\n        <p class="text-danger" ng-show="result.disabled">{{ result.msg }}</p>\n      </div>\n    ',link:link};return directive}angular.module("walletApp").directive("browserDetection",directive);var browsers={ie:{name:"Internet Explorer",requiredVersion:11},chrome:{name:"Chrome",requiredVersion:45},firefox:{name:"Firefox",requiredVersion:45},opera:{name:"Opera",requiredVersion:20}};directive.$inject=["$q","$translate","MyWallet"]}(),function(){"use strict";function buyQuickStart(currency,buySell,Alerts,$interval,$timeout){function link(scope,elem,attr){scope.exchangeRate={},scope.status={ready:!0},scope.currencies=currency.coinifyCurrencies,scope.updateLastInput=function(type){return scope.lastInput=type},scope.getExchangeRate=function(){stopFetchingQuote(),startFetchingQuote(),scope.status.busy=!0,buySell.getQuote(-1,"BTC",scope.transaction.currency.code).then(function(quote){scope.exchangeRate.fiat=(-quote.quoteAmount/100).toFixed(2)},error)["finally"](scope.getQuote)},scope.isCurrencySelected=function(currency){return currency===scope.transaction.currency},scope.triggerBuy=function(){scope.buy({fiat:scope.transaction.fiat,btc:scope.transaction.btc,quote:scope.quote})};var fetchingQuote=void 0,startFetchingQuote=function(){fetchingQuote=$interval(function(){return scope.getExchangeRate()},6e4)},stopFetchingQuote=function(){$interval.cancel(fetchingQuote)};scope.getQuote=function(){"btc"===scope.lastInput?buySell.getQuote(-scope.transaction.btc,"BTC",scope.transaction.currency.code).then(success,error):"fiat"===scope.lastInput?buySell.getQuote(scope.transaction.fiat,scope.transaction.currency.code).then(success,error):scope.status={}};var success=function(quote){"BTC"===quote.baseCurrency?scope.transaction.fiat=-quote.quoteAmount/100:scope.transaction.btc=quote.quoteAmount/1e8,scope.quote=quote,scope.status={},Alerts.clear()},error=function(){scope.status={},Alerts.displayError("ERROR_QUOTE_FETCH")};scope.getExchangeRate(),scope.$on("$destroy",stopFetchingQuote),scope.$watch("modalOpen",function(modalOpen){modalOpen?stopFetchingQuote():scope.getExchangeRate()})}var directive={restrict:"E",replace:!0,scope:{buy:"&",limits:"=",modalOpen:"=",transaction:"=",currencySymbol:"=",changeCurrency:"&"},templateUrl:"templates/buy-quick-start.jade",link:link};return directive}angular.module("walletApp").directive("buyQuickStart",buyQuickStart),buyQuickStart.$inject=["currency","buySell","Alerts","$interval","$timeout"]}(),function(){"use strict";function buySteps(){function link(scope,elem,attrs){scope.tradeObj&&(scope.medium=scope.tradeObj.medium),scope.$watch("tradeObj",function(){scope.tradeObj&&"CoinifyKYC"===scope.tradeObj.constructor.name&&(scope.isKYC=!0)})}var directive={restrict:"E",replace:!0,scope:{buy:"&",tradeObj:"=",needsKyc:"=",onStep:"=",afterStep:"=",beforeStep:"=",getMedium:"=",transaction:"=",exchangeAcct:"=",paymentInfo:"=",currencySymbol:"="},templateUrl:"templates/buy-steps.jade",link:link};return directive}angular.module("walletApp").directive("buySteps",buySteps)}(),function(){"use strict";function completedLevel(){function link(scope,elem,attrs){scope.tooltip={templateUrl:"templates/completed-level-tooltip.jade",placement:scope.placement||"top"}}var directive={restrict:"E",replace:!0,scope:{content:"@",img:"@",message:"@",placement:"@"},templateUrl:"templates/completed-level.jade",link:link};return directive}angular.module("walletApp").directive("completedLevel",completedLevel),completedLevel.$inject=[]}(),function(){"use strict";function configureMobileNumber(Wallet,bcPhoneNumber){function link(scope,elem,attrs){scope.status={busy:!1,disableChangeBecause2FA:function(){return 5===parseInt(Wallet.settings.twoFactorMethod,10)}},scope.fields={newMobile:null},attrs.buttonLg&&(scope.buttonLg=!0),attrs.fullWidth&&(scope.fullWidth=!0);var previousNumber=bcPhoneNumber.format(Wallet.user.mobileNumber);scope.fields.newMobile=previousNumber,scope.numberChanged=function(){return scope.fields.newMobile!==previousNumber},scope.cancel=function(){scope.fields.newMobile=previousNumber,scope.onCancel()},scope.changeMobile=function(){scope.status.busy=!0;var success=function(){scope.status.busy=!1,scope.onSuccess(),Wallet.user.mobileNumber=scope.fields.newMobile},error=function(){scope.status.busy=!1};Wallet.changeMobile(scope.fields.newMobile.split("-").join(""),success,error)}}var directive={restrict:"E",replace:!0,scope:{onCancel:"&",onSuccess:"&"},templateUrl:"templates/configure-mobile-number.jade",link:link};return directive}angular.module("walletApp").directive("configureMobileNumber",configureMobileNumber),configureMobileNumber.$inject=["Wallet","bcPhoneNumber"]}(),function(){"use strict";function confirmRecoveryPhrase($uibModal,Wallet,Alerts){function link(scope,elem,attrs){var openModal=function(){return $uibModal.open({templateUrl:"partials/confirm-recovery-phrase-modal.jade",controller:"ConfirmRecoveryPhraseCtrl",windowClass:"bc-modal"})};scope.confirmRecoveryPhrase=function(){return Wallet.settings.secondPassword?openModal():Wallet.askForMainPasswordConfirmation().then(openModal)["catch"](function(reason){"incorrect_main_pw"===reason&&(Alerts.displayError("INCORRECT_PASSWORD"),scope.confirmRecoveryPhrase())})},scope.promptBackup&&scope.confirmRecoveryPhrase()}var directive={restrict:"E",replace:!0,scope:{promptBackup:"="},templateUrl:"templates/confirm-recovery-phrase.jade",link:link};return directive}angular.module("walletApp").directive("confirmRecoveryPhrase",confirmRecoveryPhrase),confirmRecoveryPhrase.$inject=["$uibModal","Wallet","Alerts"]}(),function(){"use strict";function destinationInput($rootScope,$timeout,Wallet,format){function link(scope,elem,attrs,ctrl){var accounts=Wallet.accounts().filter(function(a){return!a.archived}),addresses=Wallet.legacyAddresses().filter(function(a){return!a.archived}),addressBook=Wallet.addressBook().map(format.addressBook);scope.selectOpen=!1,scope.limit=50,scope.incLimit=function(){return scope.limit+=50},scope.isLast=function(d){return d===scope.destinations[scope.limit-1]},scope.dropdownHidden=1===accounts.length&&0===addresses.length,scope.browserWithCamera=$rootScope.browserWithCamera,scope.onAddressScan=function(result){var address=Wallet.parsePaymentRequest(result);scope.model=format.destination(address,"External"),scope.onPaymentRequest({request:address}),$timeout(scope.change)},scope.setModel=function(a){scope.model=a,$timeout(scope.change)},scope.clearModel=function(){scope.model={address:"",type:"External"},$timeout(scope.change)},scope.focusInput=function(){var q=scope.selectOpen?".ui-select-search":"#address-field";$timeout(function(){return elem[0].querySelectorAll(q)[0].focus()},250)};var blurTime=void 0;scope.blur=function(){blurTime=$timeout(function(){return ctrl.$setTouched()},250)},scope.focus=function(){$timeout.cancel(blurTime),ctrl.$setUntouched()},scope.model||scope.clearModel(),scope.$watch("model",scope.change),scope.$watch("selectOpen",function(open){return open&&scope.focusInput()}),scope.$watch("ignore",function(ignore){if(scope.destinations=accounts.concat(addresses).map(format.destination).concat(addressBook),ignore&&"object"===("undefined"==typeof ignore?"undefined":_typeof(ignore))){var filterSame=function(dest){return null!=ignore.index?dest.index!==ignore.index:dest.address!==ignore.address};scope.destinations=scope.destinations.filter(filterSame)}})}var directive={restrict:"E",require:"^ngModel",scope:{model:"=ngModel",change:"&ngChange",onPaymentRequest:"&onPaymentRequest",ignore:"="},templateUrl:"templates/destination-input.jade",link:link};return directive}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};angular.module("walletApp").directive("destinationInput",destinationInput),destinationInput.$inject=["$rootScope","$timeout","Wallet","format"]}(),function(){"use strict";function didYouKnow(DidYouKnow){function link(scope,elem,attrs){scope.dyk=DidYouKnow.getRandom()}var directive={restrict:"E",replace:!0,templateUrl:"templates/did-you-know.jade",link:link};return directive}angular.module("walletApp").directive("didYouKnow",didYouKnow),didYouKnow.$inject=["DidYouKnow"]}(),function(){"use strict";function downloadButton($window,$timeout){function link(scope,attr,elem){scope.$watch("content",function(content){var blob=new $window.Blob([content],{type:"text/csv"});scope.dataRef=$window.URL.createObjectURL(blob)}),scope.$on("download",function(event){scope.dataRef&&$timeout(function(){return elem.$$element[0].click()})})}var directive={restrict:"E",replace:!0,scope:{filename:"@",content:"="},template:'<a href="{{dataRef}}" download="{{filename}}" target="_blank">{{::"DOWNLOAD"|translate}}</a>',link:link};return directive}angular.module("walletApp").directive("downloadButton",downloadButton)}(),function(){"use strict";function faqQuestion(){var directive={restrict:"E",scope:{q:"=question",onToggle:"&"},templateUrl:"templates/faq-question.jade"};return directive}angular.module("walletApp").directive("faqQuestion",faqQuestion)}(),function(){"use strict";function fiatOrBtc(Wallet,currency){function link(scope,elem,attrs){scope.settings=Wallet.settings,scope.currency=scope.settings.displayCurrency,scope.isBitCurrency=currency.isBitCurrency,scope.updateDisplay=function(){scope.currency=Wallet.settings.displayCurrency},scope.$watch("settings.displayCurrency",scope.updateDisplay)}var directive={restrict:"E",replace:!1,scope:{btc:"="},templateUrl:"templates/fiat-or-btc.jade",link:link};return directive}angular.module("walletApp").directive("fiatOrBtc",fiatOrBtc),fiatOrBtc.$inject=["Wallet","currency"]}(),function(){"use strict";function fiat($rootScope,Wallet,currency){function link(scope,elem,attrs){scope.fiat={currencySymbol:null,amount:null},scope.settings=Wallet.settings,scope.conversions=currency.conversions,scope.updateFiat=function(){scope.fiat={currencySymbol:null,amount:null};var curr=scope.currency||scope.settings.currency||null;if(curr&&curr.code){var conversion=scope.conversions[curr.code]||null;if(conversion&&!(conversion.conversion<=0)){var btc=scope.btc;if(null!=btc&&!isNaN(scope.btc))if(null!=attrs.abs&&btc<0&&(btc*=-1),scope.fiat.currencySymbol=conversion.symbol,scope.date)currency.getFiatAtTime(scope.date,btc,curr.code).then(function(fiat){scope.fiat.amount=currency.commaSeparate(fiat),scope.$root.$safeApply(scope)});else{var _fiat=currency.convertFromSatoshi(btc,curr);scope.fiat.amount=currency.commaSeparate((Math.floor(100*_fiat)/100).toFixed(2))}}}},scope.$watchCollection("conversions",function(){return scope.updateFiat()}),scope.$watch("settings.currency.code + btc + currency",function(){return scope.updateFiat()}),$rootScope.$on("refresh",function(){return scope.updateFiat()})}var directive={restrict:"E",replace:!0,scope:{btc:"=",date:"=",currency:"="},template:'\n      <span>\n        <img ng-show="fiat.amount == null" src="img/spinner-806ea8a06eb29c46cd9526449bae2fe4f5bb3f32.gif" width="35" />\n        <span ng-hide="fiat.amount == null">{{ fiat.currencySymbol }}{{ fiat.amount }}</span>\n      <span>\n    ',link:link};return directive}angular.module("walletApp").directive("fiat",fiat),fiat.$inject=["$rootScope","Wallet","currency"]}(),function(){"use strict";function focusWhen($timeout){function link(scope,elem,attrs){scope.$watch("trigger",function(value){value&&$timeout(function(){return elem[0].focus()},100)})}return{restrict:"A",scope:{trigger:"=focusWhen"},link:link}}angular.module("walletApp").directive("focusWhen",focusWhen)}(),function(){"use strict";function _toArray(arr){return Array.isArray(arr)?arr:Array.from(arr)}function formatInput(){function link(scope,elem,attrs,ctrl){var inputFormat=attrs.formatInput,language={digit:"x"},isDigit=function(d){return/^\d$/.test(d)},isValid=scope.isValid=function(str){return str.replace(/\d/g,language.digit)===inputFormat},reformat=scope.reformat=function(format,str){var _str=_toArray(str),s=_str[0],sRest=_str.slice(1),_format=_toArray(format),f=_format[0],fRest=_format.slice(1);return null==s||null==f?"":f===language.digit?(isDigit(s)?s:"")+reformat(fRest,sRest):f+reformat(fRest,s===f?sRest:str)};scope.formatToView=function(modelValue){return modelValue&&reformat(inputFormat,modelValue.toString())||""},scope.parseToModel=function(viewValue){var reformatted=reformat(inputFormat,viewValue);return ctrl.$setViewValue(reformatted),ctrl.$setValidity("format",isValid(reformatted)),ctrl.$render(),reformatted},ctrl.$parsers.push(scope.parseToModel),ctrl.$formatters.push(scope.formatToView)}return{restict:"A",scope:!1,require:"ngModel",link:link}}angular.module("walletApp").directive("formatInput",formatInput)}(),function(){"use strict";function gradualRender(){return{restrict:"AE",controllerAs:"$render",controller:gradualRenderController}}function gradualRenderController(){var _this=this,defaultStartCount=20,defaultStepSize=10;this.limit=defaultStartCount,this.next=function(){_this.limit+=defaultStepSize}}angular.module("walletApp").directive("gradualRender",gradualRender)}(),function(){"use strict";function hdAddress($rootScope,$sce,Wallet,Alerts){function link(scope,elem,attrs,ctrl){scope.cancelEdit=function(){return scope.editing=!1},scope.removeLabel=function(){return scope.remove()},scope.addressLink=function(address){return $sce.trustAsResourceUrl($rootScope.rootURL+"address/"+address)},scope.changeLabel=function(label,successCallback,errorCallback){var success=function(){scope.editing=!1,successCallback()},error=function(_error){"NOT_ALPHANUMERIC"===_error?Alerts.displayError("INVALID_CHARACTERS_FOR_LABEL"):"GAP"===_error&&Alerts.displayError("GAP"),_error()};Wallet.changeHDAddressLabel(scope.account.index,scope.address.index,label,success,error)}}var directive={restrict:"A",replace:!0,scope:{account:"=",address:"=hdAddress",searchText:"=",remove:"&",pastAddress:"="},templateUrl:"templates/hd-address.jade",link:link};return directive}angular.module("walletApp").directive("hdAddress",hdAddress)}(),function(){"use strict";function helperButton($translate){function link(scope,elem,attrs){scope.warning=null!=attrs.warning,scope.helperText={templateUrl:"templates/helper-popover.jade",placement:scope.placement||"top"}}var directive={restrict:"E",replace:!0,scope:{content:"@",values:"=",url:"@",placement:"@",link:"@",linktext:"@",append:"@"},templateUrl:"templates/helper-button.jade",link:link};return directive}angular.module("walletApp").directive("helperButton",helperButton),helperButton.$inject=["$translate"]}(),function(){"use strict";angular.module("walletApp").directive("importedAddress",function(Wallet,$translate,$uibModal){return{restrict:"A",replace:!0,scope:{address:"=importedAddress",searchText:"="},templateUrl:function(elem,attrs){return"templates/imported-address.jade"},link:function(scope,elem,attrs,ctrl){scope.errors={label:null},scope.status={edit:!1},scope.settings=Wallet.settings,scope.showAddress=function(){$uibModal.open({templateUrl:"partials/request.jade",controller:"RequestCtrl",resolve:{destination:function(){return scope.address},focus:function(){return!0}},windowClass:"bc-modal auto"})},scope.archive=function(){Wallet.archive(scope.address),scope.$root.scheduleRefresh()},scope.changeLabel=function(label,successCallback,errorCallback){scope.errors.label=null;var success=function(){scope.status.edit=!1,successCallback()},error=function(){$translate("INVALID_CHARACTERS_FOR_LABEL").then(function(translation){scope.errors.label=translation}),errorCallback()};Wallet.changeLegacyAddressLabel(scope.address,label,success,error)},scope.cancelEdit=function(){scope.status.edit=!1},scope.transfer=function(){return $uibModal.open({templateUrl:"partials/settings/transfer.jade",controller:"TransferController",windowClass:"bc-modal",resolve:{address:function(){return scope.address}}})},scope.showPrivKey=function(){return $uibModal.open({templateUrl:"partials/settings/show-private-key.jade",controller:"ShowPrivateKeyCtrl",windowClass:"bc-modal",resolve:{addressObj:function(){return scope.address}}})},scope.signMessage=function(){return $uibModal.open({templateUrl:"partials/settings/sign-message.jade",controller:"SignMessageController",windowClass:"bc-modal initial",resolve:{addressObj:function(){return scope.address}}})},scope.spend=function(){return $uibModal.open({templateUrl:"partials/send.jade",controller:"SendCtrl",windowClass:"bc-modal auto",resolve:{paymentRequest:function(){return{fromAccount:scope.address}}}})}}}})}(),function(){"use strict";function ipWhitelistRestrict($translate,Wallet){function link(scope,elem,attrs){scope.settings=Wallet.settings,scope.enableIpWhitelistRestrict=function(){return Wallet.enableRestrictToWhiteListedIPs()},scope.disableIpWhitelistRestrict=function(){return Wallet.disableRestrictToWhiteListedIPs()}}var directive={restrict:"E",replace:!0,scope:{},templateUrl:"templates/ip-whitelist-restrict.jade",link:link};return directive}angular.module("walletApp").directive("ipWhitelistRestrict",ipWhitelistRestrict),ipWhitelistRestrict.$inject=["$translate","Wallet"]}(),function(){"use strict";function isNotEqual(Wallet){function link(scope,elem,attrs,ctrl){ctrl.$validators.isNotEqual=function(modelValue,viewValue){return attrs.isNotEqual!==viewValue}}var directive={restrict:"A",require:"ngModel",link:link};return directive}angular.module("walletApp").directive("isNotEqual",isNotEqual),isNotEqual.$inject=["Wallet"]}(),function(){"use strict";function isValid(){function link(scope,elem,attrs,ctrl){var setValidity=function(){return ctrl.$setValidity("isValid",scope.$eval(attrs.isValid))};ctrl.$formatters.push(function(v){return setValidity(),v}),ctrl.$viewChangeListeners.push(setValidity)}var directive={restrict:"A",require:"ngModel",link:link};return directive}angular.module("walletApp").directive("isValid",isValid)}(),function(){"use strict";function isignthis($sce){function link(scope,elem,attrs){scope.$watch("transactionId",function(newValue){newValue&&scope.iSignThisFrame(newValue)}),scope.iSignThisFrame=function(iSignThisID){var e=document.getElementById("isx-iframe");scope.url=$sce.trustAsResourceUrl("https://verify.isignthis.com/landing/"+iSignThisID+"?embed=true");var _isx={transactionId:"",version:"1.0.0",configOptions:null};_isx.applyContainerStyles=function(c){c.style.width="100%",this.configOptions.height?c.style.height=this.configOptions.height:c.style.height="700px",c.style.overflow="hidden"},_isx.setup=function(setup){return this.transactionId=setup.transaction_id,this.configOptions=setup,this},_isx.done=function(_completeListener){return this.completeListener=_completeListener,this},_isx.fail=function(_errorListener){return this.errorListener=_errorListener,this},_isx.route=function(_routeListener){return this.routeListener=_routeListener,this},_isx.resized=function(_resizeListener){return this.resizeListener=_resizeListener,this},_isx.publish=function(){this.iframe=e;var eventMethod=window.addEventListener?"addEventListener":"attachEvent",eventer=window[eventMethod],messageEvent="attachEvent"===eventMethod?"onmessage":"message",self=this;return eventer(messageEvent,function(e){var origin=e.origin||e.originalEvent.origin;if("https://verify.isignthis.com"===origin){var frame=document.getElementById("isx-iframe");if(e.source===frame.contentWindow)try{var d=JSON.parse(e.data.split("[ISX-Embed]")[1]);"complete"===d.event.toLowerCase()?self.completeListener&&self.completeListener(d):"route"===d.event.toLowerCase()?self.routeListener&&self.routeListener(d):"error"===d.event.toLowerCase()?self.errorListener&&self.errorListener(d):"resized"===d.event.toLowerCase()&&self.resizeListener&&self.resizeListener(d)}catch(err){console.log("err caught:",err)}}},!1),this};var widget={transaction_id:iSignThisID,container_id:"isx-iframe",minimum_height:400},setState=function(state){switch(state){case"SUCCESS.MANUAL_ACCEPTED":case"SUCCESS.COMPLETE":scope.onComplete("processing");break;case"CANCELLED.CANCELLED":scope.onComplete("cancelled");break;case"EXPIRED.EXPIRED":scope.onComplete("expired");break;case"DECLINED.CARD_ISSUER_COUNTRY":case"DECLINED.SPLIT_TOKEN_DENIED":case"DECLINED.TOO_MANY_ATTEMPTS":case"DECLINED.OTP_TOKEN_DENIED":case"DECLINED.UNKNOWN_ERROR":case"FAILED.UNEXPECTED_ERROR":case"REJECTED.UPSTREAM_REJECTED":scope.onComplete("rejected");break;case"PENDING.PROCESSING_DOCUMENT":case"PROCESSING_DOCUMENT.PENDING":case"PENDING.MANUAL_REVIEW":scope.onComplete("reviewing")}};scope.showFrame=!0,_isx.setup(widget).done(function(e){console.log("completed. e=",JSON.stringify(e)),setState(e.compound_state)}).fail(function(e){console.log("error. e="+JSON.stringify(e))}).resized(function(e){console.log("resized. e=",JSON.stringify(e))}).route(function(e){console.log("route. e="+JSON.stringify(e)),scope.paymentInfo=e.route.match("/otp|/verify-pin|/kyc"),scope.onResize({step:e.route.match(/\/(.*)\//)[1]}),setState(e.compound_state)}).publish()}}var directive={restrict:"E",scope:{onResize:"&",onComplete:"=",paymentInfo:"=",transactionId:"="},template:"\n      <iframe\n        ng-src='{{ url }}'\n        sandbox='allow-same-origin allow-scripts allow-forms'\n        scrolling = 'no'\n        id='isx-iframe'\n        ng-if='showFrame'\n      ></iframe>\n    ",link:link};return directive}angular.module("walletApp").directive("isignthis",isignthis)}(),function(){"use strict";function minEntropy(MyWalletHelpers){function link(scope,elem,attrs,ctrl){var minimum=parseFloat(attrs.minEntropy),checkEntropy=function(viewValue){var score=MyWalletHelpers.scorePassword(viewValue);return ctrl.$setValidity("minEntropy",score>minimum),viewValue};ctrl.$parsers.push(checkEntropy)}var directive={restrict:"A",require:"ngModel",link:link};return directive}angular.module("walletApp").directive("minEntropy",minEntropy)}(),function(){"use strict";function onClickCopy($window,$document){function link(scope,elem,attrs){scope.copy=function(){var text=scope.$eval(attrs.onClickCopy);if(angular.isString(text)&&0!==text.length){var textElem=angular.element("<span>"+text+"</span>");textElem.css({position:"absolute",left:"-1000px"}),angular.element($document[0].body).append(textElem);var range=$window.document.createRange();range.setStartBefore(textElem[0].firstChild),range.setEndAfter(textElem[0].lastChild);var selection=$window.getSelection();selection.removeAllRanges(),selection.addRange(range),$window.document.execCommand("copy"),textElem.remove()}},scope.browserCanExecCommand&&(elem.on("click",scope.copy),scope.$on("$destroy",function(){return elem.off("click",scope.copy)}))}var directive={restrict:"A",scope:!1,link:link};return directive}angular.module("walletApp").directive("onClickCopy",onClickCopy)}(),function(){"use strict";function onEnter(){function link(scope,elem,attrs){var action=function(event){13===event.which&&(event.preventDefault(),scope.$eval(attrs.onEnter,{event:event}))};elem.bind("keydown keypress",action),scope.$on("$destroy",function(){elem.unbind("keydown keypress",action)})}var directive={restrict:"A",link:link};return directive}angular.module("walletApp").directive("onEnter",onEnter)}(),function(){"use strict";function passwordEntropy(MyWalletHelpers){function passwordEntropyController($scope){$scope.score=0;var displayOptions={0:["progress-bar-danger","weak"],25:["progress-bar-warning","regular"],50:["progress-bar-info","normal"],75:["progress-bar-success","strong"]};$scope.setDisplay=function(score){var threshold=Object.keys(displayOptions).filter(function(threshold){return threshold<=score}).reverse()[0],_displayOptions$thres=_slicedToArray(displayOptions[threshold],2);$scope.barColor=_displayOptions$thres[0],$scope.strength=_displayOptions$thres[1]},$scope.$watch("password",function(newPw){var score=MyWalletHelpers.scorePassword(newPw);$scope.score=score>100?100:score,$scope.setDisplay($scope.score)})}var directive={restrict:"E",scope:{password:"="},templateUrl:"templates/password-entropy.jade",controller:passwordEntropyController};return directive}var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();angular.module("walletApp").directive("passwordEntropy",passwordEntropy)}(),function(){"use strict";function pulseCta(){function link(scope,elem,attrs){scope.dismissed=!1,scope.revealMessage=function(){scope.revealed=!0,scope.onReveal&&scope.onReveal()},scope.dismissMessage=function(){scope.active=scope.revealed=!1,scope.onDismiss&&scope.onDismiss()}}var directive={restrict:"E",replace:!0,scope:{active:"<activeWhen",route:"@",color:"@",messageText:"@",buttonText:"@",onReveal:"&",onDismiss:"&"},templateUrl:"templates/pulse-cta.jade",link:link};return directive}angular.module("walletApp").directive("pulseCta",pulseCta),pulseCta.$inject=["$cookies"]}(),function(){"use strict";function qrScan($rootScope,$timeout,$translate,Wallet,Alerts){function link(scope){scope.popoverTemplate="templates/qr-scan-popover.jade",scope.browserWithCamera=$rootScope.browserWithCamera,scope.loader=function(){scope.cameraOn||(scope.loading=!0,$timeout(function(){return scope.loading=!1},1e3))},scope.onCameraResult=function(result){scope.scanComplete=!0,scope.scanSuccess=Wallet.isValidAddress(Wallet.parsePaymentRequest(result).address)||Wallet.isValidPrivateKey(result)||Wallet.isValidAddress(result),$rootScope.$safeApply(),scope.scanSuccess&&scope.onScan&&scope.cameraOn&&scope.onScan(result),$timeout(function(){return scope.cameraOn=!1},1250),$timeout(function(){return scope.scanComplete=!1},1500)},scope.onCameraError=function(){scope.cameraOn=!1,Alerts.displayWarning("CAMERA_PERMISSION_DENIED")}}var directive={restrict:"E",replace:!0,scope:{onScan:"="},templateUrl:"templates/qr-scan-button.jade",link:link};return directive}angular.module("walletApp").directive("qrScan",qrScan)}(),function(){"use strict";function quoteCountdown($interval){function link(scope,elem,attrs){scope.counter=$interval(function(){if((scope.quote||scope.tradeObj)&&(!scope.quote||scope.quote.id)){var expiresAt=void 0,now=new Date;expiresAt=scope.quote?new Date(scope.quote.expiresAt):new Date(scope.tradeObj.quoteExpireTime),scope.expiredQuote=!1;var diff=expiresAt-now,time=diff/1e3/60,minutes=parseInt(time,10),seconds=parseInt(time%1*60,10);seconds<10&&(seconds="0"+seconds),time<=0&&(scope.expiredQuote=!0),scope.count=time?minutes+":"+seconds:void 0}},1e3),scope.cancelCounter=function(){return $interval.cancel(scope.counter)},scope.$on("$destroy",scope.cancelCounter)}var directive={restrict:"E",replace:!0,scope:{expiredQuote:"=",tradeObj:"=",quote:"="},templateUrl:"templates/quote-countdown.jade",link:link};return directive}angular.module("walletApp").directive("quoteCountdown",quoteCountdown),
quoteCountdown.$inject=["$interval"]}(),function(){"use strict";function resendEmailConfirmation($translate,Wallet){function link(scope,elem,attrs){scope.status={loading:null,done:null},scope.user=Wallet.user,scope.resendEmailConfirmation=function(){if(!scope.loading&&!scope.done){scope.status.loading=!0,scope.status.done=!1;var success=function(){scope.status.loading=!1,scope.status.done=!0},error=function(){scope.status.loading=!1};Wallet.resendEmailConfirmation(success,error)}}}var directive={restrict:"E",replace:"true",scope:{},templateUrl:"templates/resend-email-confirmation.jade",link:link};return directive}angular.module("walletApp").directive("resendEmailConfirmation",resendEmailConfirmation)}(),function(){"use strict";function scrollToTop($window){function link(scope,elem,attrs){var action=function(newVal,oldVal){newVal!==oldVal&&(elem[0].scrollTop=0)};scope.$watch(function(){return $window.location.hash},action)}var directive={restrict:"A",link:link};return directive}angular.module("walletApp").directive("scrollToTop",scrollToTop)}(),function(){"use strict";function sellQuickStart(){function link(){}var directive={replace:!0,scope:{},templateUrl:"templates/sell-quick-start.jade",link:link};return directive}angular.module("walletApp").directive("sellQuickStart",sellQuickStart)}(),function(){"use strict";function settingToggle($translate,Wallet){var directive={restrict:"E",replace:!0,scope:{value:"=",toggle:"&",enableTitle:"@",disableTitle:"@"},templateUrl:"templates/setting-toggle.jade",link:function(){}};return directive}angular.module("walletApp").directive("settingToggle",settingToggle)}(),function(){"use strict";function settingsForm(){var directive={restrict:"A",scope:{},link:function(scope,elem,attr){scope.$parent.errors={},scope.$parent.status={},scope.$parent.active=!1,scope.$parent.reset(),scope.$parent.activate=function(){scope.$parent.active=!0},scope.$parent.deactivate=function(){scope.$parent.active=!1,scope.$parent.reset()},scope.$parent.$watch("active",function(){scope.$parent.active||(scope.$parent.reset(),scope.$parent.errors={},scope.$parent.status={},scope.$parent.form.$setPristine(),scope.$parent.form.$setUntouched(),scope.$parent.$root.$safeApply(scope.$parent))})}};return directive}angular.module("walletApp").directive("settingsForm",settingsForm)}(),function(){"use strict";function singleClickSelect($window){function link(scope,elem,attrs){scope.highlighted=!1,scope.select=function(){var text=elem[0],range=$window.document.createRange();range.setStartBefore(text.firstChild),range.setEndAfter(text.lastChild);var selection=$window.getSelection();selection.removeAllRanges(),selection.addRange(range),""!==$window.getSelection().toString()&&(scope.highlighted=!0,elem.addClass("highlighted")),scope.browserCanExecCommand&&($window.document.execCommand("copy"),scope.$safeApply())},elem.bind("click",scope.select),scope.$watch(function(){return elem[0].textContent.toString()},function(newVal,oldVal){newVal!==oldVal&&(scope.highlighted=!1)})}var directive={restrict:"A",scope:!1,link:link};return directive}angular.module("walletApp").directive("singleClickSelect",singleClickSelect)}(),function(){"use strict";function tor($translate,Wallet){function link(scope,elem,attrs){scope.buttonClass=scope._buttonClass||"button-primary",scope.settings=Wallet.settings,scope.enableBlockTOR=function(){return Wallet.enableBlockTOR()},scope.disableBlockTOR=function(){return Wallet.disableBlockTOR()}}var directive={restrict:"E",replace:!0,scope:{_buttonClass:"@buttonClass"},templateUrl:"templates/tor.jade",link:link};return directive}angular.module("walletApp").directive("tor",tor)}(),function(){"use strict";function trade($rootScope,Alerts,MyWallet,$timeout,$interval,buySell){function link(scope,elem,attrs){scope.buySellDebug=$rootScope.buySellDebug,scope.update=function(){return angular.extend(scope,{error:buySell.tradeStateIn(buySell.states.error)(scope.trade),success:buySell.tradeStateIn(buySell.states.success)(scope.trade),pending:buySell.tradeStateIn(buySell.states.pending)(scope.trade),completed:buySell.tradeStateIn(buySell.states.completed)(scope.trade)})},scope.update(),scope.status={},scope.expiredQuote=new Date>scope.trade.quoteExpireTime,scope.dateFormat="d MMMM yyyy, "+(scope.usa?"h:mm a":"HH:mm"),scope.cancel=function(trade){scope.status.canceling=!0,Alerts.confirm("CONFIRM_CANCEL_TRADE",{action:"CANCEL_TRADE",cancel:"GO_BACK"}).then(function(){return trade.cancel()},function(){})["catch"](function(e){Alerts.displayError("ERROR_TRADE_CANCEL")})["finally"](function(){return scope.status.canceling=!1})},scope.triggerBuy=function(){var t=scope.trade;scope.buy(t)},scope.updateBTCExpected=function(){scope.status.gettingQuote=!0;var success=function(quote){scope.status.gettingQuote=!1,scope.btcExpected=quote};scope.trade.btcExpected().then(success)},scope.logDetails=function(trade){console.log("------------ Details ------------"),console.log("Trade ID:",trade.id),console.log("Trade State:",trade.state),console.log("Created At:",trade.createdAt),console.log("Receive Address:",trade.receiveAddress)},scope.$watch("trade.state",scope.update),scope.$watch("expiredQuote",function(newVal,oldVal){newVal?scope.updateBTCExpected():scope.status={}}),scope.$watch("status.canceling",function(){scope.canCancel=!scope.status.canceling&&"awaiting_transfer_in"===scope.trade.state&&angular.isFunction(scope.trade.cancel)})}var directive={restrict:"A",replace:!0,scope:{trade:"=",buy:"=",usa:"="},templateUrl:"templates/trade.jade",link:link};return directive}angular.module("walletApp").directive("trade",trade),trade.$inject=["$rootScope","Alerts","MyWallet","$timeout","$interval","buySell"]}(),function(){"use strict";function transactionDescription($translate,Wallet,buySell){function link(scope,elem,attrs){scope.exchange="Coinify";var currentYear=(new Date).getFullYear(),isCurrentYear=currentYear===new Date(1e3*scope.tx.time).getFullYear();scope.year=isCurrentYear?"":"yyyy",scope.getTxDirection=function(txType){return"sent"===txType?"SENT":"received"===txType?"RECEIVED_BITCOIN_FROM":"transfer"===txType?"MOVED_BITCOIN_TO":void 0},scope.getTxClass=function(txType){return"sent"===txType?"outgoing_tx":"received"===txType?"incoming_tx":"transfer"===txType?"local_tx":void 0},scope.getTxWatchOnly=function(tx){return("received"===tx.txType||"transfer"===tx.txType)&&tx.toWatchOnly||"sent"===tx.txType&&tx.fromWatchOnly},scope.settings=Wallet.settings,scope.txDirection=scope.getTxDirection(scope.tx.txType),scope.txClass=scope.getTxClass(scope.tx.txType),scope.txWatchOnly=scope.getTxWatchOnly(scope.tx),buySell.initialized()["finally"](function(){return scope.txMethod=buySell.getTxMethod(scope.tx.hash)}),scope.$watch("tx.confirmations",function(){scope.tx&&null!=scope.tx.confirmations&&(scope.minutesRemaining=30-10*scope.tx.confirmations,scope.complete=scope.tx.confirmations>=3,scope.frugalWarning=scope.tx.frugal&&0===scope.tx.confirmations)})}var directive={restrict:"E",replace:!1,scope:{tx:"=transaction",search:"=highlight",account:"=account"},templateUrl:"templates/transaction-description.jade",link:link};return directive}angular.module("walletApp").directive("transactionDescription",transactionDescription)}(),function(){"use strict";function transactionDestinations($rootScope,Wallet,$translate){function link(scope,elem,attrs){scope.getTxLabels=function(tx){if(tx&&tx.processedInputs&&tx.processedOutputs){var formatted=Wallet.formatTransactionCoins(tx),outputsLabelPreview="",outputsLabel="";return formatted.outputs&&formatted.outputs.length>0&&(outputsLabel=formatted.outputs.filter(function(o){return"sent"===tx.txType?"external"===o.coinType||"legacy"===o.coinType:"external"!==o.coinType})),outputsLabel.length>1&&(outputsLabelPreview=$translate.instant("RECIPIENTS",{n:outputsLabel.length})),"sent"===tx.txType?{preview:outputsLabelPreview,primary:scope.primaryLabel=outputsLabel,secondary:scope.secondaryLabel=[formatted.input]}:{preview:outputsLabelPreview,primary:scope.primaryLabel=[formatted.input],secondary:scope.secondaryLabel=outputsLabel}}},scope.txLabels=scope.getTxLabels(scope.transaction)}var directive={restrict:"E",replace:!0,scope:{transaction:"=",search:"="},templateUrl:"templates/transaction-destinations.jade",link:link};return directive}angular.module("walletApp").directive("transactionDestinations",transactionDestinations)}(),function(){"use strict";function transactionNote($translate,$rootScope,Wallet){function link(scope,elem,attrs){scope.editNote=!1;var match=function(a,b,prop){for(var seen={},i=0,len=a.length;i<len;i++)seen[prop?a[i][prop]:a[i]]=!0;for(var _i=0,_len=b.length;_i<_len;_i++)if(seen[prop?b[_i][prop]:b[_i]])return b[_i];return!1};if("received"===scope.transaction.txType){var account=parseInt(scope.account,10),addresses=scope.transaction.processedOutputs.filter(function(p){return p.identity>=0});if(addresses.length){isNaN(account)&&(account=addresses[0].identity);var hdAddresses=Wallet.getLabelledHdAddresses(account);scope.label=match(addresses,hdAddresses,"address").label}}scope.cancelEditNote=function(){scope.transaction.draftNote="",scope.editNote=!1},scope.startEditNote=function(){scope.transaction.note&&(scope.transaction.draftNote=scope.transaction.note),scope.editNote=!0},scope.saveNote=function(){scope.transaction.note=scope.transaction.draftNote,scope.editNote=!1},scope.deleteNote=function(){scope.transaction.note=null,scope.editNote=!1},scope.$watch("transaction.note",function(newVal,oldVal){null!=scope.transaction&&(scope.transaction.draftNote=""),null!=newVal&&""!==newVal||null==oldVal||""===oldVal||Wallet.deleteNote(scope.transaction),null!=newVal&&newVal!==oldVal&&""!==newVal&&Wallet.setNote(scope.transaction,scope.transaction.note)})}var directive={restrict:"E",replace:!1,scope:{transaction:"=",account:"=",search:"="},templateUrl:"templates/transaction-note.jade",link:link};return directive}angular.module("walletApp").directive("transactionNote",transactionNote)}(),function(){"use strict";function transactionStatus($rootScope){function link(scope,elem,attrs){scope.verify=function(){window.open($rootScope.rootURL+"tx/"+scope.transaction.hash,"_blank")},scope.$watch("transaction.confirmations",function(){scope.transaction&&null!=scope.transaction.confirmations&&(scope.minutesRemaining=30-10*scope.transaction.confirmations,scope.complete=scope.transaction.confirmations>=3,scope.frugalWarning=scope.transaction.frugal&&0===scope.transaction.confirmations)})}var directive={restrict:"E",replace:!1,scope:{transaction:"="},templateUrl:"templates/transaction-status.jade",link:link};return directive}angular.module("walletApp").directive("transactionStatus",transactionStatus)}(),function(){"use strict";function transactionWarning(){function link(scope,elem,attrs){var warnings=["rbf","double_spend"],messages={rbf:"TX_RBF",double_spend:"DOUBLE_SPEND",rbf_double_spend:"TX_RBF_AND_DOUBLE_SPEND"},warning=warnings.filter(function(w){return scope.tx[w]===!0});scope.message=warning&&warning.length>1?messages.rbf_double_spend:messages[warning]}var directive={restrict:"E",replace:!0,scope:{tx:"=transaction"},templateUrl:"templates/transaction-warning.jade",link:link};return directive}angular.module("walletApp").directive("transactionWarning",transactionWarning)}(),function(){"use strict";function transformCurrency(Wallet,currency){function link(scope,elem,attrs,ctrl){if(ctrl&&null!=scope.transformCurrency&&null!=scope.transformCurrency.code){var restrictions={max:currency.convertFromSatoshi(21e14,scope.transformCurrency),decimals:currency.decimalPlacesForCurrency(scope.transformCurrency),negative:!1},modifiers={max:function(input,_max){return input>parseInt(_max,10)?parseInt(_max,10):input},decimals:function(input,_decimals){var split=input.toString().split(".");return null!=split[1]&&(split[1]=split[1].slice(0,_decimals)),parseFloat(split.join("."))},negative:function(input,allow){return allow?input:Math.abs(input)}};scope.parseToModel=function(viewValue){var modifiedInput=viewValue;for(var key in modifiers){var mod=modifiers[key];if(null===modifiedInput)break;modifiedInput=mod(modifiedInput,restrictions[key])}return modifiedInput!==viewValue&&(ctrl.$setViewValue(modifiedInput),ctrl.$render()),currency.convertToSatoshi(modifiedInput,scope.transformCurrency)},scope.formatToView=function(modelValue){if(null===modelValue||""===modelValue)return null;var fiat=currency.convertFromSatoshi(modelValue,scope.transformCurrency),factor=Math.pow(10,restrictions.decimals),formatted=(Math.floor(fiat*factor)/factor).toFixed(restrictions.decimals);return parseFloat(formatted)},ctrl.$parsers.push(scope.parseToModel),ctrl.$formatters.push(scope.formatToView)}}var directive={restrict:"A",require:"ngModel",scope:{transformCurrency:"="},link:link};return directive}angular.module("walletApp").directive("transformCurrency",transformCurrency)}(),function(){"use strict";function uiLadda(){function link(scope,elem,attrs){elem.addClass("ladda-button"),elem.removeAttr("ng-click"),scope.$watch("uiLadda + disabled",function(newVal){scope.uiLadda?(elem.attr("data-loading",!0),elem.attr("disabled",!0)):(elem.removeAttr("data-loading"),scope.disabled||elem.removeAttr("disabled"))})}var directive={restrict:"A",replace:!1,scope:{laddaTranslate:"@",uiLadda:"=",disabled:"=ngDisabled"},templateUrl:"templates/ui-ladda.jade",link:link};return directive}angular.module("walletApp").directive("uiLadda",uiLadda)}(),function(){"use strict";function uiSelectOpen($timeout){return{restrict:"A",require:"uiSelect",link:function(scope,element,attrs,uiSelect){scope.$watch(function(){return scope.$eval(attrs.uiSelectOpen)},function(open){return $timeout(function(){return uiSelect.open=open},50)}),scope.$watch(function(){return uiSelect.open},function(open){return!open&&$timeout(function(){return scope.$eval(attrs.uiSelectOnClose)},50)})}}}angular.module("walletApp").directive("uiSelectOpen",uiSelectOpen)}(),function(){"use strict";function verifyMobileNumber($translate,Wallet,$filter){function link(scope,elem,attrs){null!=attrs.buttonLg&&(scope.buttonLg=!0),null!=attrs.fullWidth&&(scope.fullWidth=!0),scope.status={busy:!1,retrying:!1,retrySuccess:!1},scope.errors={verify:null,retryFail:null},scope.retrySendCode=function(){scope.status.retrying=!0;var success=function(){scope.status.retrying=!1,scope.status.retrySuccess=!0,scope.errors.retryFail=null},error=function(){scope.status.retrying=!1,scope.status.retrySuccess=!1,scope.errors.retryFail="Error resending verification code"};Wallet.changeMobile(Wallet.user.mobile,success,error)},scope.verifyMobile=function(code){scope.status.busy=!0;var success=function(){scope.code="",scope.errors.verify="",scope.status.busy=!1,scope.onSuccess()},error=function(message){scope.errors.verify=message,scope.status.busy=!1};Wallet.verifyMobile(code,success,error)}}var directive={restrict:"E",replace:!0,scope:{onSuccess:"&"},templateUrl:"templates/verify-mobile-number.jade",link:link};return directive}angular.module("walletApp").directive("verifyMobileNumber",verifyMobileNumber)}(),function(){"use strict";function virtualKeyboard($document,$window){function link(scope,elem,attrs,ngModel){scope.keysLowerCase=[["1","2","3","4","5","6","7","8","9","0","-","="],["q","w","e","r","t","y","u","i","o","p","[","]"],["a","s","d","f","g","h","j","k","l",";","'","\\"],["`","z","x","c","v","b","n","m",",",".","/"]],scope.keysUpperCase=[["!","@","#","$","%","^","&","*","(",")","_","+"],["Q","W","E","R","T","Y","U","I","O","P","{","}"],["A","S","D","F","G","H","J","K","L",":",'"',"|"],["~","Z","X","C","V","B","N","M","<",">","?"]],scope.caps=!1,scope.toggleCaps=function(){return scope.caps=!scope.caps},scope.press=function(key){return ngModel.$setViewValue(ngModel.$viewValue+key)},scope.backspaceEventHandler=function(event){var selection=$window.getSelection().toString();if(8===event.which){event.preventDefault();var newVal=""===selection?ngModel.$viewValue.slice(0,-1):"";ngModel.$setViewValue(newVal)}},$document.bind("keydown keypress",scope.backspaceEventHandler),scope.$on("$destroy",function(){$document.unbind("keydown keypress",scope.backspaceEventHandler)})}var directive={restrict:"E",replace:!0,require:"ngModel",scope:{ngModel:"="},templateUrl:"templates/virtual-keyboard.jade",link:link};return directive}angular.module("walletApp").directive("virtualKeyboard",virtualKeyboard)}(),function(){"use strict";angular.module("walletApp").directive("watchOnlyAddress",function(Wallet,$translate,Alerts){return{restrict:"A",replace:!0,scope:{address:"=watchOnlyAddress",searchText:"="},templateUrl:function(elem,attrs){return"templates/watch-only-address.jade"},link:function(scope,elem,attrs,ctrl){scope.errors={label:null},scope.status={edit:!1},scope.changeLabel=function(label,successCallback,errorCallback){scope.errors.label=null;var success=function(){scope.status.edit=!1,successCallback()},error=function(){$translate("INVALID_CHARACTERS_FOR_LABEL").then(function(translation){scope.errors.label=translation}),errorCallback()};Wallet.changeLegacyAddressLabel(scope.address,label,success,error)},scope.cancelEdit=function(){scope.status.edit=!1},scope["delete"]=function(){Alerts.confirm("CONFIRM_DELETE_WATCH_ONLY_ADDRESS").then(function(){Wallet.deleteLegacyAddress(scope.address),scope.$root.scheduleRefresh()})}}}})}(),function(){"use strict";function toBitCurrencyFilter(currency){return function(input,btcCurrency,hideCurrency){if(null==input||isNaN(input)||null==btcCurrency)return"";var amount=currency.convertFromSatoshi(input,btcCurrency);return currency.formatCurrencyForView(amount,btcCurrency,!hideCurrency)}}function convertFilter(Wallet,currency){var caseof=function(condition,casemap){var result=casemap[condition]||casemap[void 0];if(result instanceof Error)throw result;return result};return function(amount){var target=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"primary",showCode=arguments[2],fiat=Wallet.settings.currency,btc=Wallet.settings.btcCurrency,display=Wallet.settings.displayCurrency,curr=void 0;curr="string"==typeof target?caseof(target,{primary:display,secondary:currency.isBitCurrency(display)?fiat:btc,btc:btc,fiat:fiat}):target.code?target:display;var conversion=currency.convertFromSatoshi(amount,curr);return currency.formatCurrencyForView(conversion,curr,showCode)}}function formatFilter(Wallet,currency){return function(amount){var fiatSettings=Wallet.settings.currency;return currency.formatCurrencyForView(amount,fiatSettings,!1)}}function escapeHtmlFilter(){var escapeHtml=function(html){return html.replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};return function(html){return"string"==typeof html?escapeHtml(html):html}}function getByPropertyFilter(){return function(propertyName,propertyValue,collection){for(var i=0,len=collection.length;i<len;){if(collection[i][propertyName]===propertyValue)return collection[i];i++}return null}}function getByPropertyNestedFilter(){return function(propertyName,propertyValue,collection){for(var i=0,len=collection.length;i<len;){for(var subCollection=collection[i][propertyName],j=0,len2=subCollection.length;j<len2;){if(collection[i][propertyName][j]===propertyValue)return collection[i];j++}i++}return null}}function addressOrNameMatchFilter(){return function(addresses,q){return null==q||""===q?addresses:(q=q.toLowerCase(),addresses.filter(function(addr){var keep=void 0;return keep=null!=addr.account&&addr.account.label.toLowerCase().indexOf(q)>-1,keep=keep||null!=addr.label&&addr.label.toLowerCase().indexOf(q)>-1,keep=keep||addr.address.toLowerCase().indexOf(q)>-1}))}}angular.module("walletFilters",[]).filter("toBitCurrency",toBitCurrencyFilter).filter("convert",convertFilter).filter("format",formatFilter).filter("escapeHtml",escapeHtmlFilter).filter("getByProperty",getByPropertyFilter).filter("getByPropertyNested",getByPropertyNestedFilter).filter("addressOrNameMatch",addressOrNameMatchFilter),toBitCurrencyFilter.$inject=["currency"],convertFilter.$inject=["Wallet","currency"],formatFilter.$inject=["Wallet","currency"]}(),function(){"use strict";angular.module("ngAudio",[]).directive("ngAudio",["$compile","$q","ngAudio",function($compile,$q,ngAudio){return{restrict:"AEC",scope:{volume:"=",start:"=",currentTime:"=",loop:"=",clickPlay:"="},controller:function($scope,$attrs,$element,$timeout){var audio=ngAudio.load($attrs.ngAudio);$scope.$audio=audio,audio.unbind(),$element.on("click",function(){$scope.clickPlay!==!1&&(audio.audio.play(),audio.volume=$scope.volume||audio.volume,audio.loop=$scope.loop,audio.currentTime=$scope.start||0,$timeout(function(){audio.play()},5))})}}}]).directive("ngAudioHover",["$compile","$q","ngAudio",function($compile,$q,ngAudio){return{restrict:"AEC",controller:function($scope,$attrs,$element,$timeout){var audio=ngAudio.load($attrs.ngAudioHover);$element.on("mouseover rollover hover",function(){audio.audio.play(),audio.volume=$attrs.volumeHover||audio.volume,audio.loop=$attrs.loop,audio.currentTime=$attrs.startHover||0})}}}]).service("localAudioFindingService",["$q",function($q){this.find=function(id){var deferred=$q.defer(),$sound=document.getElementById(id);return $sound?deferred.resolve($sound):deferred.reject(id),deferred.promise}}]).service("remoteAudioFindingService",["$q",function($q){this.find=function(url){var deferred=$q.defer(),audio=new Audio;return audio.addEventListener("error",function(){deferred.reject()}),audio.addEventListener("loadstart",function(){deferred.resolve(audio)}),setTimeout(function(){audio.src=url},1),deferred.promise}}]).service("cleverAudioFindingService",["$q","localAudioFindingService","remoteAudioFindingService",function($q,localAudioFindingService,remoteAudioFindingService){this.find=function(id){var deferred=$q.defer();return id=id.replace("|","/"),localAudioFindingService.find(id).then(deferred.resolve,function(){return remoteAudioFindingService.find(id)}).then(deferred.resolve,deferred.reject),deferred.promise}}]).value("ngAudioGlobals",{muting:!1,songmuting:!1,performance:25,unlock:!0}).factory("NgAudioObject",["cleverAudioFindingService","$rootScope","$interval","$timeout","ngAudioGlobals",function(cleverAudioFindingService,$rootScope,$interval,$timeout,ngAudioGlobals){return function(id){function $setWatch(){$audioWatch=$rootScope.$watch(function(){return{volume:audioObject.volume,currentTime:audioObject.currentTime,progress:audioObject.progress,muting:audioObject.muting,loop:audioObject.loop,playbackRate:audioObject.playbackRate}},function(newValue,oldValue){newValue.currentTime!==oldValue.currentTime&&audioObject.setCurrentTime(newValue.currentTime),newValue.progress!==oldValue.progress&&audioObject.setProgress(newValue.progress),newValue.volume!==oldValue.volume&&audioObject.setVolume(newValue.volume),newValue.playbackRate!==oldValue.playbackRate&&audioObject.setPlaybackRate(newValue.playbackRate),$looping=newValue.loop,newValue.muting!==oldValue.muting&&audioObject.setMuting(newValue.muting)},!0)}ngAudioGlobals.unlock&&window.addEventListener("click",function twiddle(){audio.play(),audio.pause(),window.removeEventListener("click",twiddle)});var $audioWatch,$volumeToSet,$looping,audio,$willPlay=!1,$willPause=!1,$willRestart=!1,$willChangePlaybackRate=!1,$newPlaybackRate=!1,$isMuting=!1,$observeProperties=!0,audioObject=this;this.id=id,this.safeId=id.replace("/","|"),this.loop=0,this.unbind=function(){$observeProperties=!1},this.play=function(){$willPlay=!0},this.pause=function(){$willPause=!0},this.restart=function(){$willRestart=!0},this.stop=function(){this.restart()},this.setVolume=function(volume){$volumeToSet=volume},this.setPlaybackRate=function(rate){$newPlaybackRate=rate,$willChangePlaybackRate=!0},this.setMuting=function(muting){$isMuting=muting},this.setProgress=function(progress){audio&&audio.duration&&(audio.currentTime=audio.duration*progress)},this.setCurrentTime=function(currentTime){audio&&audio.duration&&(audio.currentTime=currentTime)},cleverAudioFindingService.find(id).then(function(nativeAudio){audio=nativeAudio,audio.addEventListener("canplay",function(){audioObject.canPlay=!0})},function(error){audioObject.error=!0,console.warn(error)}),$interval(function(){$audioWatch&&$audioWatch(),audio&&($isMuting||ngAudioGlobals.isMuting?audio.volume=0:audio.volume=void 0!==audioObject.volume?audioObject.volume:1,$willPlay&&(audio.play(),$willPlay=!1),$willRestart&&(audio.pause(),audio.currentTime=0,$willRestart=!1),$willPause&&(audio.pause(),$willPause=!1),$willChangePlaybackRate&&(audio.playbackRate=$newPlaybackRate,$willChangePlaybackRate=!1),$volumeToSet&&(audio.volume=$volumeToSet,$volumeToSet=void 0),$observeProperties&&(audioObject.currentTime=audio.currentTime,audioObject.duration=audio.duration,audioObject.remaining=audio.duration-audio.currentTime,audioObject.progress=audio.currentTime/audio.duration,audioObject.paused=audio.paused,audioObject.src=audio.src,$looping&&audioObject.currentTime>=audioObject.duration&&($looping!==!0&&($looping--,audioObject.loop--),audioObject.setCurrentTime(0),audioObject.play())),$isMuting||ngAudioGlobals.isMuting||(audioObject.volume=audio.volume),audioObject.audio=audio),$setWatch()},ngAudioGlobals.performance)}}]).service("ngAudio",["NgAudioObject","ngAudioGlobals",function(NgAudioObject,ngAudioGlobals){this.play=function(id){var audio=new NgAudioObject(id);return audio.play(),audio},this.load=function(id){return new NgAudioObject(id)},this.mute=function(){ngAudioGlobals.muting=!0},this.unmute=function(){ngAudioGlobals.muting=!1},this.toggleMute=function(){ngAudioGlobals.muting=!ngAudioGlobals.muting}}])}(),function(){(function(){"use strict";var _containersControllers,_windowEventsHandlerBinded,_windowInViewItems,addWindowInViewItem,angularInviewModule,bindWindowEvents,checkInView,debounce,getBoundingClientRect,getOffsetFromPercentage,getViewportHeight,offsetIsPercentage,removeWindowInViewItem,trackInViewContainer,triggerInViewCallback,unbindWindowEvents,untrackInViewContainer,windowCheckInView,windowEventsHandler,slice=[].slice;angularInviewModule=angular.module("angular-inview",[]).directive("inView",["$parse",function($parse){return{restrict:"A",require:"?^inViewContainer",link:function(scope,element,attrs,containerController){var inViewFunc,item,options,performCheck,ref,ref1;if(attrs.inView)return inViewFunc=$parse(attrs.inView),item={element:element,wasInView:!1,offset:0,customDebouncedCheck:null,callback:function($event,$inview,$inviewpart){return null==$event&&($event={}),scope.$evalAsync(function(_this){return function(){return $event.inViewTarget=element[0],inViewFunc(scope,{$event:$event,$inview:$inview,$inviewpart:$inviewpart})}}(this))}},null!=attrs.inViewOptions&&(options=scope.$eval(attrs.inViewOptions))&&(item.offset=options.offset||[options.offsetTop||0,options.offsetBottom||0],options.debounce&&(item.customDebouncedCheck=debounce(function(event){return checkInView([item],element[0],event)},options.debounce))),performCheck=null!=(ref=null!=(ref1=item.customDebouncedCheck)?ref1:null!=containerController?containerController.checkInView:void 0)?ref:windowCheckInView,null!=containerController?containerController.addItem(item):addWindowInViewItem(item),setTimeout(performCheck),scope.$on("$destroy",function(){return null!=containerController&&containerController.removeItem(item),removeWindowInViewItem(item)})}}}]).directive("inViewContainer",function(){return{restrict:"AC",controller:["$element",function($element){return this.items=[],this.addItem=function(item){return this.items.push(item)},this.removeItem=function(item){var i;return this.items=function(){var j,len,ref,results;for(ref=this.items,results=[],j=0,len=ref.length;j<len;j++)i=ref[j],i!==item&&results.push(i);return results}.call(this)},this.checkInView=function(_this){return function(event){var i,j,len,ref;for(ref=_this.items,j=0,len=ref.length;j<len;j++)i=ref[j],null!=i.customDebouncedCheck&&i.customDebouncedCheck();return checkInView(function(){var k,len1,ref1,results;for(ref1=this.items,results=[],k=0,len1=ref1.length;k<len1;k++)i=ref1[k],null==i.customDebouncedCheck&&results.push(i);return results}.call(_this),$element[0],event)}}(this),this}],link:function(scope,element,attrs,controller){return element.bind("scroll",controller.checkInView),trackInViewContainer(controller),scope.$on("$destroy",function(){return element.unbind("scroll",controller.checkInView),untrackInViewContainer(controller)})}}}),_windowInViewItems=[],addWindowInViewItem=function(item){return _windowInViewItems.push(item),bindWindowEvents()},removeWindowInViewItem=function(item){var i;return _windowInViewItems=function(){var j,len,results;for(results=[],j=0,len=_windowInViewItems.length;j<len;j++)i=_windowInViewItems[j],i!==item&&results.push(i);return results}(),unbindWindowEvents()},_containersControllers=[],trackInViewContainer=function(controller){return _containersControllers.push(controller),bindWindowEvents()},untrackInViewContainer=function(container){var c;return _containersControllers=function(){var j,len,results;for(results=[],j=0,len=_containersControllers.length;j<len;j++)c=_containersControllers[j],c!==container&&results.push(c);return results}(),unbindWindowEvents()},_windowEventsHandlerBinded=!1,windowEventsHandler=function(event){var c,j,len;for(j=0,len=_containersControllers.length;j<len;j++)c=_containersControllers[j],c.checkInView(event);if(_windowInViewItems.length)return windowCheckInView(event)},bindWindowEvents=function(){if(!_windowEventsHandlerBinded)return _windowEventsHandlerBinded=!0,angular.element(window).bind("checkInView click ready wheel mousewheel DomMouseScroll MozMousePixelScroll resize scroll touchmove mouseup",windowEventsHandler)},unbindWindowEvents=function(){if(_windowEventsHandlerBinded&&!_windowInViewItems.length&&!_containersControllers.length)return _windowEventsHandlerBinded=!1,angular.element(window).unbind("checkInView click ready wheel mousewheel DomMouseScroll MozMousePixelScroll resize scroll touchmove mouseup",windowEventsHandler)},triggerInViewCallback=function(event,item,inview,isTopVisible,isBottomVisible){var elOffsetTop,inviewpart;if(inview){if(elOffsetTop=getBoundingClientRect(item.element[0]).top+window.pageYOffset,inviewpart=isTopVisible&&isBottomVisible&&"neither"||isTopVisible&&"top"||isBottomVisible&&"bottom"||"both",!item.wasInView||item.wasInView!==inviewpart||elOffsetTop!==item.lastOffsetTop)return item.lastOffsetTop=elOffsetTop,item.wasInView=inviewpart,item.callback(event,!0,inviewpart)}else if(item.wasInView)return item.wasInView=!1,item.callback(event,!1)},checkInView=function(items,container,event){var bounds,boundsBottom,boundsTop,element,item,j,k,len,len1,ref,ref1,ref2,ref3,results,viewport;if(viewport={top:0,bottom:getViewportHeight()},container&&container!==window){if(bounds=getBoundingClientRect(container),bounds.top>viewport.bottom||bounds.bottom<viewport.top){for(j=0,len=items.length;j<len;j++)item=items[j],triggerInViewCallback(event,item,!1);return}bounds.top>viewport.top&&(viewport.top=bounds.top),bounds.bottom<viewport.bottom&&(viewport.bottom=bounds.bottom)}for(results=[],k=0,len1=items.length;k<len1;k++)item=items[k],element=item.element[0],bounds=getBoundingClientRect(element),boundsTop=bounds.top+(offsetIsPercentage(item.offset)?getOffsetFromPercentage(bounds,item.offset):parseInt(null!=(ref=null!=(ref1=item.offset)?ref1[0]:void 0)?ref:item.offset)),boundsBottom=bounds.bottom+(offsetIsPercentage(item.offset)?getOffsetFromPercentage(bounds,item.offset):parseInt(null!=(ref2=null!=(ref3=item.offset)?ref3[1]:void 0)?ref2:item.offset)),boundsTop<viewport.bottom&&boundsBottom>=viewport.top?results.push(triggerInViewCallback(event,item,!0,boundsBottom>viewport.bottom,boundsTop<viewport.top)):results.push(triggerInViewCallback(event,item,!1));return results},offsetIsPercentage=function(offset){return"string"==typeof offset&&"%"===offset.slice(-1)},getOffsetFromPercentage=function(bounds,offsetPercentage){var percentage;return percentage=offsetPercentage.substring(0,offsetPercentage.length-1),
(bounds.bottom-bounds.top)*(percentage/100)},getViewportHeight=function(){var height,mode,ref;return(height=window.innerHeight)?height:(mode=document.compatMode,!mode&&("undefined"!=typeof $&&null!==$&&null!=(ref=$.support)?ref.boxModel:void 0)||(height="CSS1Compat"===mode?document.documentElement.clientHeight:document.body.clientHeight),height)},getBoundingClientRect=function(element){var el,parent,top;if(null!=element.getBoundingClientRect)return element.getBoundingClientRect();for(top=0,el=element;el;)top+=el.offsetTop,el=el.offsetParent;for(parent=element.parentElement;parent;)null!=parent.scrollTop&&(top-=parent.scrollTop),parent=parent.parentElement;return{top:top,bottom:top+element.offsetHeight}},debounce=function(f,t){var timer;return timer=null,function(){var args;return args=1<=arguments.length?slice.call(arguments,0):[],null!=timer&&clearTimeout(timer),timer=setTimeout(function(){return f.apply(null,args)},null!=t?t:100)}},windowCheckInView=function(event){var i,j,len;for(j=0,len=_windowInViewItems.length;j<len;j++)i=_windowInViewItems[j],null!=i.customDebouncedCheck&&i.customDebouncedCheck();return checkInView(function(){var k,len1,results;for(results=[],k=0,len1=_windowInViewItems.length;k<len1;k++)i=_windowInViewItems[k],null==i.customDebouncedCheck&&results.push(i);return results}(),null,event)},"function"==typeof define&&define.amd?define(["angular"],angularInviewModule):"undefined"!=typeof module&&module&&module.exports&&(module.exports=angularInviewModule)}).call(this)}(),function(){!function(p,c,n){"use strict";function l(b,a,g){var d=g.baseHref(),k=b[0];return function(b,e,f){var g,h;f=f||{},h=f.expires,g=c.isDefined(f.path)?f.path:d,c.isUndefined(e)&&(h="Thu, 01 Jan 1970 00:00:00 GMT",e=""),c.isString(h)&&(h=new Date(h)),e=encodeURIComponent(b)+"="+encodeURIComponent(e),e=e+(g?";path="+g:"")+(f.domain?";domain="+f.domain:""),e+=h?";expires="+h.toUTCString():"",e+=f.secure?";secure":"",f=e.length+1,4096<f&&a.warn("Cookie '"+b+"' possibly not set or overflowed because it was too large ("+f+" > 4096 bytes)!"),k.cookie=e}}c.module("ngCookies",["ng"]).provider("$cookies",[function(){var b=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(a,g){return{get:function(d){return a()[d]},getObject:function(d){return(d=this.get(d))?c.fromJson(d):d},getAll:function(){return a()},put:function(d,a,m){g(d,a,m?c.extend({},b,m):b)},putObject:function(d,b,a){this.put(d,c.toJson(b),a)},remove:function(a,k){g(a,n,k?c.extend({},b,k):b)}}}]}]),c.module("ngCookies").factory("$cookieStore",["$cookies",function(b){return{get:function(a){return b.getObject(a)},put:function(a,c){b.putObject(a,c)},remove:function(a){b.remove(a)}}}]),l.$inject=["$document","$log","$browser"],c.module("ngCookies").provider("$$cookieWriter",function(){this.$get=l})}(window,window.angular)}(),function(){!function(D,n,Va){"use strict";function za(a,b,c){if(!a)throw Ka("areq",b||"?",c||"required");return a}function Aa(a,b){return a||b?a?b?(da(a)&&(a=a.join(" ")),da(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function La(a){var b={};return a&&(a.to||a.from)&&(b.to=a.to,b.from=a.from),b}function X(a,b,c){var d="";return a=da(a)?a:a&&E(a)&&a.length?a.split(/\s+/):[],s(a,function(a,f){a&&0<a.length&&(d+=0<f?" ":"",d+=c?b+a:a+b)}),d}function Ma(a){if(a instanceof G)switch(a.length){case 0:return a;case 1:if(1===a[0].nodeType)return a;break;default:return G(ha(a))}if(1===a.nodeType)return G(a)}function ha(a){if(!a[0])return a;for(var b=0;b<a.length;b++){var c=a[b];if(1==c.nodeType)return c}}function Na(a,b,c){s(b,function(b){a.addClass(b,c)})}function Oa(a,b,c){s(b,function(b){a.removeClass(b,c)})}function Q(a){return function(b,c){c.addClass&&(Na(a,b,c.addClass),c.addClass=null),c.removeClass&&(Oa(a,b,c.removeClass),c.removeClass=null)}}function pa(a){if(a=a||{},!a.$$prepared){var b=a.domOperation||O;a.domOperation=function(){a.$$domOperationFired=!0,b(),b=O},a.$$prepared=!0}return a}function ia(a,b){Ba(a,b),Ca(a,b)}function Ba(a,b){b.from&&(a.css(b.from),b.from=null)}function Ca(a,b){b.to&&(a.css(b.to),b.to=null)}function T(a,b,c){var d=b.options||{};c=c.options||{};var e=(d.addClass||"")+" "+(c.addClass||""),f=(d.removeClass||"")+" "+(c.removeClass||"");return a=Pa(a.attr("class"),e,f),c.preparationClasses&&(d.preparationClasses=Y(c.preparationClasses,d.preparationClasses),delete c.preparationClasses),e=d.domOperation!==O?d.domOperation:null,Da(d,c),e&&(d.domOperation=e),d.addClass=a.addClass?a.addClass:null,d.removeClass=a.removeClass?a.removeClass:null,b.addClass=d.addClass,b.removeClass=d.removeClass,d}function Pa(a,b,c){function d(a){E(a)&&(a=a.split(" "));var b={};return s(a,function(a){a.length&&(b[a]=!0)}),b}var e={};a=d(a),b=d(b),s(b,function(a,b){e[b]=1}),c=d(c),s(c,function(a,b){e[b]=1===e[b]?null:-1});var f={addClass:"",removeClass:""};return s(e,function(b,c){var d,e;1===b?(d="addClass",e=!a[c]):-1===b&&(d="removeClass",e=a[c]),e&&(f[d].length&&(f[d]+=" "),f[d]+=c)}),f}function x(a){return a instanceof n.element?a[0]:a}function Qa(a,b,c){var d="";b&&(d=X(b,"ng-",!0)),c.addClass&&(d=Y(d,X(c.addClass,"-add"))),c.removeClass&&(d=Y(d,X(c.removeClass,"-remove"))),d.length&&(c.preparationClasses=d,a.addClass(d))}function qa(a,b){var c=b?"-"+b+"s":"";return ma(a,[na,c]),[na,c]}function sa(a,b){var c=b?"paused":"",d=Z+"PlayState";return ma(a,[d,c]),[d,c]}function ma(a,b){a.style[b[0]]=b[1]}function Y(a,b){return a?b?a+" "+b:a:b}function Ea(a,b,c){var d=Object.create(null),e=a.getComputedStyle(b)||{};return s(c,function(a,b){var c=e[a];if(c){var J=c.charAt(0);("-"===J||"+"===J||0<=J)&&(c=Ra(c)),0===c&&(c=null),d[b]=c}}),d}function Ra(a){var b=0;return a=a.split(/\s*,\s*/),s(a,function(a){"s"==a.charAt(a.length-1)&&(a=a.substring(0,a.length-1)),a=parseFloat(a)||0,b=b?Math.max(a,b):a}),b}function ta(a){return 0===a||null!=a}function Fa(a,b){var c=R,d=a+"s";return b?c+="Duration":d+=" linear all",[c,d]}function Ga(){var a=Object.create(null);return{flush:function(){a=Object.create(null)},count:function(b){return(b=a[b])?b.total:0},get:function(b){return(b=a[b])&&b.value},put:function(b,c){a[b]?a[b].total++:a[b]={total:1,value:c}}}}function Ha(a,b,c){s(c,function(c){a[c]=$(a[c])?a[c]:b.style.getPropertyValue(c)})}var R,va,Z,wa,O=n.noop,Ia=n.copy,Da=n.extend,G=n.element,s=n.forEach,da=n.isArray,E=n.isString,ea=n.isObject,N=n.isUndefined,$=n.isDefined,Ja=n.isFunction,ua=n.isElement;N(D.ontransitionend)&&$(D.onwebkittransitionend)?(R="WebkitTransition",va="webkitTransitionEnd transitionend"):(R="transition",va="transitionend"),N(D.onanimationend)&&$(D.onwebkitanimationend)?(Z="WebkitAnimation",wa="webkitAnimationEnd animationend"):(Z="animation",wa="animationend");var ra=Z+"Delay",xa=Z+"Duration",na=R+"Delay";D=R+"Duration";var Ka=n.$$minErr("ng"),Sa={transitionDuration:D,transitionDelay:na,transitionProperty:R+"Property",animationDuration:xa,animationDelay:ra,animationIterationCount:Z+"IterationCount"},Ta={transitionDuration:D,transitionDelay:na,animationDuration:xa,animationDelay:ra};n.module("ngAnimate",[]).directive("ngAnimateChildren",["$interpolate",function(a){return{link:function(b,c,d){function e(a){c.data("$$ngAnimateChildren","on"===a||"true"===a)}var f=d.ngAnimateChildren;n.isString(f)&&0===f.length?c.data("$$ngAnimateChildren",!0):(e(a(f)(b)),d.$observe("ngAnimateChildren",e))}}}]).factory("$$rAFScheduler",["$$rAF",function(a){function b(a){d=d.concat(a),c()}function c(){if(d.length){for(var b=d.shift(),L=0;L<b.length;L++)b[L]();e||a(function(){e||c()})}}var d,e;return d=b.queue=[],b.waitUntilQuiet=function(b){e&&e(),e=a(function(){e=null,b(),c()})},b}]).provider("$$animateQueue",["$animateProvider",function(a){function b(a){if(!a)return null;a=a.split(" ");var b=Object.create(null);return s(a,function(a){b[a]=!0}),b}function c(a,c){if(a&&c){var d=b(c);return a.split(" ").some(function(a){return d[a]})}}function d(a,b,c,d){return f[a].some(function(a){return a(b,c,d)})}function e(a,b){var c=0<(a.addClass||"").length,d=0<(a.removeClass||"").length;return b?c&&d:c||d}var f=this.rules={skip:[],cancel:[],join:[]};f.join.push(function(a,b,c){return!b.structural&&e(b)}),f.skip.push(function(a,b,c){return!b.structural&&!e(b)}),f.skip.push(function(a,b,c){return"leave"==c.event&&b.structural}),f.skip.push(function(a,b,c){return c.structural&&2===c.state&&!b.structural}),f.cancel.push(function(a,b,c){return c.structural&&b.structural}),f.cancel.push(function(a,b,c){return 2===c.state&&b.structural}),f.cancel.push(function(a,b,d){a=b.addClass,b=b.removeClass;var e=d.addClass;return d=d.removeClass,!(N(a)&&N(b)||N(e)&&N(d))&&(c(a,d)||c(b,e))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(b,c,f,r,v,n,t,y,m,g){function P(){var a=!1;return function(b){a?b():c.$$postDigest(function(){a=!0,b()})}}function H(a,b,c){var h=x(b),d=x(a),k=[];return(a=l[c])&&s(a,function(a){aa.call(a.node,h)?k.push(a.callback):"leave"===c&&aa.call(a.node,d)&&k.push(a.callback)}),k}function k(a,K,k){function l(c,h,d,k){r(function(){var c=H(I,a,h);c.length&&b(function(){s(c,function(b){b(a,d,k)})})}),c.progress(h,d,k)}function u(b){var c=a,h=g;h.preparationClasses&&(c.removeClass(h.preparationClasses),h.preparationClasses=null),h.activeClasses&&(c.removeClass(h.activeClasses),h.activeClasses=null),A(a,g),ia(a,g),g.domOperation(),f.complete(!b)}var W,I,g=Ia(k);(a=Ma(a))&&(W=x(a),I=a.parent());var g=pa(g),f=new t,r=P();if(da(g.addClass)&&(g.addClass=g.addClass.join(" ")),g.addClass&&!E(g.addClass)&&(g.addClass=null),da(g.removeClass)&&(g.removeClass=g.removeClass.join(" ")),g.removeClass&&!E(g.removeClass)&&(g.removeClass=null),g.from&&!ea(g.from)&&(g.from=null),g.to&&!ea(g.to)&&(g.to=null),!W)return u(),f;if(k=[W.className,g.addClass,g.removeClass].join(" "),!Ua(k))return u(),f;var J=0<=["enter","move","leave"].indexOf(K),m=h.hidden,v=!F||m||B.get(W);k=!v&&w.get(W)||{};var aa=!!k.state;if(v||aa&&1==k.state||(v=!p(a,I,K)),v)return m&&l(f,K,"start"),u(),m&&l(f,K,"close"),f;if(J&&ya(a),m={structural:J,element:a,event:K,addClass:g.addClass,removeClass:g.removeClass,close:u,options:g,runner:f},aa){if(d("skip",a,m,k))return 2===k.state?(u(),f):(T(a,k,m),k.runner);if(d("cancel",a,m,k))if(2===k.state)k.runner.end();else{if(!k.structural)return T(a,k,m),k.runner;k.close()}else if(d("join",a,m,k)){if(2!==k.state)return Qa(a,J?K:null,g),K=m.event=k.event,g=T(a,k,m),k.runner;T(a,m,{})}}else T(a,m,{});if((aa=m.structural)||(aa="animate"===m.event&&0<Object.keys(m.options.to||{}).length||e(m)),!aa)return u(),la(a),f;var y=(k.counter||0)+1;return m.counter=y,C(a,1,m),c.$$postDigest(function(){var b=w.get(W),c=!b,b=b||{},h=0<(a.parent()||[]).length&&("animate"===b.event||b.structural||e(b));c||b.counter!==y||!h?(c&&(A(a,g),ia(a,g)),(c||J&&b.event!==K)&&(g.domOperation(),f.end()),h||la(a)):(K=!b.structural&&e(b,!0)?"setClass":b.event,C(a,2),b=n(a,K,b.options),f.setHost(b),l(f,K,"start",{}),b.done(function(b){u(!b),(b=w.get(W))&&b.counter===y&&la(x(a)),l(f,K,"close",{})}))}),f}function ya(a){a=x(a).querySelectorAll("[data-ng-animate]"),s(a,function(a){var b=parseInt(a.getAttribute("data-ng-animate")),c=w.get(a);if(c)switch(b){case 2:c.runner.end();case 1:w.remove(a)}})}function la(a){a=x(a),a.removeAttribute("data-ng-animate"),w.remove(a)}function I(a,b){return x(a)===x(b)}function p(a,b,c){c=G(h.body);var l,d=I(a,c)||"HTML"===a[0].nodeName,k=I(a,f),g=!1,e=B.get(x(a));for((a=G.data(a[0],"$ngAnimatePin"))&&(b=a),b=x(b);b&&(k||(k=I(b,f)),1===b.nodeType);){if(a=w.get(b)||{},!g){var u=B.get(b);if(!0===u&&!1!==e){e=!0;break}!1===u&&(e=!1),g=a.structural}if((N(l)||!0===l)&&(a=G.data(b,"$$ngAnimateChildren"),$(a)&&(l=a)),g&&!1===l)break;if(d||(d=I(b,c)),d&&k)break;b=k||!(a=G.data(b,"$ngAnimatePin"))?b.parentNode:x(a)}return(!g||l)&&!0!==e&&k&&d}function C(a,b,c){c=c||{},c.state=b,a=x(a),a.setAttribute("data-ng-animate",b),c=(b=w.get(a))?Da(b,c):c,w.put(a,c)}var w=new v,B=new v,F=null,h=r[0]||{hidden:!0},W=c.$watch(function(){return 0===y.totalPendingRequests},function(a){a&&(W(),c.$$postDigest(function(){c.$$postDigest(function(){null===F&&(F=!0)})}))}),l={},u=a.classNameFilter(),Ua=u?function(a){return u.test(a)}:function(){return!0},A=Q(m),aa=Node.prototype.contains||function(a){return this===a||!!(16&this.compareDocumentPosition(a))};return{on:function(a,b,c){b=ha(b),l[a]=l[a]||[],l[a].push({node:b,callback:c})},off:function(a,b,c){function h(a,b,c){var d=ha(b);return a.filter(function(a){return!(a.node===d&&(!c||a.callback===c))})}var d=l[a];d&&(l[a]=1===arguments.length?null:h(d,b,c))},pin:function(a,b){za(ua(a),"element","not an element"),za(ua(b),"parentElement","not an element"),a.data("$ngAnimatePin",b)},push:function(a,b,c,h){return c=c||{},c.domOperation=h,k(a,b,c)},enabled:function(a,b){var c=arguments.length;if(0===c)b=!!F;else if(ua(a)){var h=x(a),d=B.get(h);1===c?b=!d:B.put(h,!b)}else b=F=!!a;return b}}}]}]).provider("$$animation",["$animateProvider",function(a){function b(a){return a.data("$$animationRunner")}var c=this.drivers=[];this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(a,e,f,L,U,J){function r(a){function b(a){if(a.processed)return a;a.processed=!0;var d=a.domNode,g=d.parentNode;e.put(d,a);for(var f;g;){if(f=e.get(g)){f.processed||(f=b(f));break}g=g.parentNode}return(f||c).children.push(a),a}var d,c={children:[]},e=new U;for(d=0;d<a.length;d++){var f=a[d];e.put(f.domNode,a[d]={domNode:f.domNode,fn:f.fn,children:[]})}for(d=0;d<a.length;d++)b(a[d]);return function(a){var d,b=[],c=[];for(d=0;d<a.children.length;d++)c.push(a.children[d]);a=c.length;var g=0,e=[];for(d=0;d<c.length;d++){var f=c[d];0>=a&&(a=g,g=0,b.push(e),e=[]),e.push(f.fn),f.children.forEach(function(a){g++,c.push(a)}),a--}return e.length&&b.push(e),b}(c)}var v=[],n=Q(a);return function(t,y,m){function g(a){a=a.hasAttribute("ng-animate-ref")?[a]:a.querySelectorAll("[ng-animate-ref]");var b=[];return s(a,function(a){var c=a.getAttribute("ng-animate-ref");c&&c.length&&b.push(a)}),b}function P(a){var b=[],c={};s(a,function(a,d){var h=x(a.element),k=0<=["enter","move"].indexOf(a.event),h=a.structural?g(h):[];if(h.length){var e=k?"to":"from";s(h,function(a){var b=a.getAttribute("ng-animate-ref");c[b]=c[b]||{},c[b][e]={animationID:d,element:G(a)}})}else b.push(a)});var d={},k={};return s(c,function(c,g){var e=c.from,l=c.to;if(e&&l){var f=a[e.animationID],B=a[l.animationID],p=e.animationID.toString();if(!k[p]){var C=k[p]={structural:!0,beforeStart:function(){f.beforeStart(),B.beforeStart()},close:function(){f.close(),B.close()},classes:H(f.classes,B.classes),from:f,to:B,anchors:[]};C.classes.length?b.push(C):(b.push(f),b.push(B))}k[p].anchors.push({out:e.element,"in":l.element})}else e=e?e.animationID:l.animationID,l=e.toString(),d[l]||(d[l]=!0,b.push(a[e]))}),b}function H(a,b){a=a.split(" "),b=b.split(" ");for(var c=[],d=0;d<a.length;d++){var k=a[d];if("ng-"!==k.substring(0,3))for(var g=0;g<b.length;g++)if(k===b[g]){c.push(k);break}}return c.join(" ")}function k(a){for(var b=c.length-1;0<=b;b--){var d=c[b];if(f.has(d)&&(d=f.get(d)(a)))return d}}function ya(a,c){a.from&&a.to?(b(a.from.element).setHost(c),b(a.to.element).setHost(c)):b(a.element).setHost(c)}function la(){var a=b(t);!a||"leave"===y&&m.$$domOperationFired||a.end()}function I(b){t.off("$destroy",la),t.removeData("$$animationRunner"),n(t,m),ia(t,m),m.domOperation(),B&&a.removeClass(t,B),t.removeClass("ng-animate"),C.complete(!b)}m=pa(m);var p=0<=["enter","move","leave"].indexOf(y),C=new L({end:function(){I()},cancel:function(){I(!0)}});if(!c.length)return I(),C;t.data("$$animationRunner",C);var w=Aa(t.attr("class"),Aa(m.addClass,m.removeClass)),B=m.tempClasses;B&&(w+=" "+B,m.tempClasses=null);var F;return p&&(F="ng-"+y+"-prepare",a.addClass(t,F)),v.push({element:t,classes:w,event:y,structural:p,options:m,beforeStart:function(){t.addClass("ng-animate"),B&&a.addClass(t,B),F&&(a.removeClass(t,F),F=null)},close:I}),t.on("$destroy",la),1<v.length?C:(e.$$postDigest(function(){var a=[];s(v,function(c){b(c.element)?a.push(c):c.close()}),v.length=0;var c=P(a),d=[];s(c,function(a){d.push({domNode:x(a.from?a.from.element:a.element),fn:function(){a.beforeStart();var c,d=a.close;if(b(a.anchors?a.from.element||a.to.element:a.element)){var h=k(a);h&&(c=h.start)}c?(c=c(),c.done(function(a){d(!a)}),ya(a,c)):d()}})}),J(r(d))}),C)}}]}]).provider("$animateCss",["$animateProvider",function(a){var b=Ga(),c=Ga();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(a,e,f,L,n,J,r,v){function G(a,b){var c=a.parentNode;return(c.$$ngAnimateParentKey||(c.$$ngAnimateParentKey=++P))+"-"+a.getAttribute("class")+"-"+b}function t(k,g,f,m){var p;return 0<b.count(f)&&(p=c.get(f),p||(g=X(g,"-stagger"),e.addClass(k,g),p=Ea(a,k,m),p.animationDuration=Math.max(p.animationDuration,0),p.transitionDuration=Math.max(p.transitionDuration,0),e.removeClass(k,g),c.put(f,p))),p||{}}function y(a){H.push(a),r.waitUntilQuiet(function(){b.flush(),c.flush();for(var a=n(),d=0;d<H.length;d++)H[d](a);H.length=0})}function m(c,g,e){return g=b.get(e),g||(g=Ea(a,c,Sa),"infinite"===g.animationIterationCount&&(g.animationIterationCount=1)),b.put(e,g),c=g,e=c.animationDelay,g=c.transitionDelay,c.maxDelay=e&&g?Math.max(e,g):e||g,c.maxDuration=Math.max(c.animationDuration*c.animationIterationCount,c.transitionDuration),c}var g=Q(e),P=0,H=[];return function(a,c){function d(){p()}function r(){p(!0)}function p(b){if(!(P||K&&U)){P=!0,U=!1,h.$$skipPreparationClasses||e.removeClass(a,ga),e.removeClass(a,ha),sa(l,!1),qa(l,!1),s(u,function(a){l.style[a[0]]=""}),g(a,h),ia(a,h),Object.keys(H).length&&s(H,function(a,b){a?l.style.setProperty(b,a):l.style.removeProperty(b)}),h.onDone&&h.onDone(),fa&&fa.length&&a.off(fa.join(" "),B);var c=a.data("$$animateCss");c&&(L.cancel(c[0].timer),a.removeData("$$animateCss")),D&&D.complete(!b)}}function C(a){q.blockTransition&&qa(l,a),q.blockKeyframeAnimation&&sa(l,!!a)}function w(){return D=new f({end:d,cancel:r}),y(O),p(),{$$willAnimate:!1,start:function(){return D},end:d}}function B(a){a.stopPropagation();var b=a.originalEvent||a;a=b.$manualTimeStamp||Date.now(),b=parseFloat(b.elapsedTime.toFixed(3)),Math.max(a-Y,0)>=Q&&b>=M&&(K=!0,p())}function F(){function b(){if(!P){if(C(!1),s(u,function(a){l.style[a[0]]=a[1]}),g(a,h),e.addClass(a,ha),q.recalculateTimingStyles){if(oa=l.className+" "+ga,ja=G(l,oa),z=m(l,oa,ja),ba=z.maxDelay,E=Math.max(ba,0),M=z.maxDuration,0===M)return void p();q.hasTransitions=0<z.transitionDuration,q.hasAnimations=0<z.animationDuration}if(q.applyAnimationDelay&&(ba="boolean"!=typeof h.delay&&ta(h.delay)?parseFloat(h.delay):ba,E=Math.max(ba,0),z.animationDelay=ba,ca=[ra,ba+"s"],u.push(ca),l.style[ca[0]]=ca[1]),Q=1e3*E,T=1e3*M,h.easing){var d,f=h.easing;q.hasTransitions&&(d=R+"TimingFunction",u.push([d,f]),l.style[d]=f),q.hasAnimations&&(d=Z+"TimingFunction",u.push([d,f]),l.style[d]=f)}z.transitionDuration&&fa.push(va),z.animationDuration&&fa.push(wa),Y=Date.now();var F=Q+1.5*T;d=Y+F;var f=a.data("$$animateCss")||[],w=!0;if(f.length){var r=f[0];(w=d>r.expectedEndTime)?L.cancel(r.timer):f.push(p)}w&&(F=L(c,F,!1),f[0]={timer:F,expectedEndTime:d},f.push(p),a.data("$$animateCss",f)),fa.length&&a.on(fa.join(" "),B),h.to&&(h.cleanupStyles&&Ha(H,l,Object.keys(h.to)),Ca(a,h))}}function c(){var b=a.data("$$animateCss");if(b){for(var d=1;d<b.length;d++)b[d]();a.removeData("$$animateCss")}}if(!P)if(l.parentNode){var d=function(a){if(K)U&&a&&(U=!1,p());else if(U=!a,z.animationDuration)if(a=sa(l,U),U)u.push(a);else{var b=u,c=b.indexOf(a);0<=a&&b.splice(c,1)}},f=0<ea&&(z.transitionDuration&&0===V.transitionDuration||z.animationDuration&&0===V.animationDuration)&&Math.max(V.animationDelay,V.transitionDelay);f?L(b,Math.floor(f*ea*1e3),!1):b(),N.resume=function(){d(!0)},N.pause=function(){d(!1)}}else p()}var h=c||{};h.$$prepared||(h=pa(Ia(h)));var H={},l=x(a);if(!l||!l.parentNode||!v.enabled())return w();var P,U,K,D,N,E,Q,M,T,Y,u=[],n=a.attr("class"),A=La(h),fa=[];if(0===h.duration||!J.animations&&!J.transitions)return w();var ka=h.event&&da(h.event)?h.event.join(" "):h.event,$="",S="";ka&&h.structural?$=X(ka,"ng-",!0):ka&&($=ka),h.addClass&&(S+=X(h.addClass,"-add")),h.removeClass&&(S.length&&(S+=" "),S+=X(h.removeClass,"-remove")),h.applyClassesEarly&&S.length&&g(a,h);var ga=[$,S].join(" ").trim(),oa=n+" "+ga,ha=X(ga,"-active"),n=A.to&&0<Object.keys(A.to).length;if(!(0<(h.keyframeStyle||"").length||n||ga))return w();var ja,V;0<h.stagger?(A=parseFloat(h.stagger),V={transitionDelay:A,animationDelay:A,transitionDuration:0,animationDuration:0}):(ja=G(l,oa),V=t(l,ga,ja,Ta)),h.$$skipPreparationClasses||e.addClass(a,ga),h.transitionStyle&&(A=[R,h.transitionStyle],ma(l,A),u.push(A)),0<=h.duration&&(A=0<l.style[R].length,A=Fa(h.duration,A),ma(l,A),u.push(A)),h.keyframeStyle&&(A=[Z,h.keyframeStyle],ma(l,A),u.push(A));var ea=V?0<=h.staggerIndex?h.staggerIndex:b.count(ja):0;(ka=0===ea)&&!h.skipBlocking&&qa(l,9999);var z=m(l,oa,ja),ba=z.maxDelay;E=Math.max(ba,0),M=z.maxDuration;var q={};if(q.hasTransitions=0<z.transitionDuration,q.hasAnimations=0<z.animationDuration,q.hasTransitionAll=q.hasTransitions&&"all"==z.transitionProperty,q.applyTransitionDuration=n&&(q.hasTransitions&&!q.hasTransitionAll||q.hasAnimations&&!q.hasTransitions),q.applyAnimationDuration=h.duration&&q.hasAnimations,q.applyTransitionDelay=ta(h.delay)&&(q.applyTransitionDuration||q.hasTransitions),q.applyAnimationDelay=ta(h.delay)&&q.hasAnimations,q.recalculateTimingStyles=0<S.length,(q.applyTransitionDuration||q.applyAnimationDuration)&&(M=h.duration?parseFloat(h.duration):M,q.applyTransitionDuration&&(q.hasTransitions=!0,z.transitionDuration=M,A=0<l.style[R+"Property"].length,u.push(Fa(M,A))),q.applyAnimationDuration&&(q.hasAnimations=!0,z.animationDuration=M,u.push([xa,M+"s"]))),0===M&&!q.recalculateTimingStyles)return w();if(null!=h.delay){var ca;"boolean"!=typeof h.delay&&(ca=parseFloat(h.delay),E=Math.max(ca,0)),q.applyTransitionDelay&&u.push([na,ca+"s"]),q.applyAnimationDelay&&u.push([ra,ca+"s"])}return null==h.duration&&0<z.transitionDuration&&(q.recalculateTimingStyles=q.recalculateTimingStyles||ka),Q=1e3*E,T=1e3*M,h.skipBlocking||(q.blockTransition=0<z.transitionDuration,q.blockKeyframeAnimation=0<z.animationDuration&&0<V.animationDelay&&0===V.animationDuration),h.from&&(h.cleanupStyles&&Ha(H,l,Object.keys(h.from)),Ba(a,h)),q.blockTransition||q.blockKeyframeAnimation?C(M):h.skipBlocking||qa(l,!1),{$$willAnimate:!0,end:d,start:function(){if(!P)return N={end:d,cancel:r,resume:null,pause:null},D=new f(N),y(F),D}}}}]}]).provider("$$animateCssDriver",["$$animationProvider",function(a){a.drivers.push("$$animateCssDriver"),this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(a,c,d,e,f,L,n){function J(a){return a.replace(/\bng-\S+\b/g,"")}function r(a,b){return E(a)&&(a=a.split(" ")),E(b)&&(b=b.split(" ")),a.filter(function(a){return-1===b.indexOf(a)}).join(" ")}function v(c,f,e){function k(a){var b={},c=x(a).getBoundingClientRect();return s(["width","height","top","left"],function(a){var d=c[a];switch(a){case"top":d+=y.scrollTop;break;case"left":d+=y.scrollLeft}b[a]=Math.floor(d)+"px"}),b}function L(){var c=J(e.attr("class")||""),d=r(c,p),c=r(p,c),d=a(v,{to:k(e),addClass:"ng-anchor-in "+d,removeClass:"ng-anchor-out "+c,delay:!0});return d.$$willAnimate?d:null}function n(){v.remove(),f.removeClass("ng-animate-shim"),e.removeClass("ng-animate-shim")}var v=G(x(f).cloneNode(!0)),p=J(v.attr("class")||"");f.addClass("ng-animate-shim"),e.addClass("ng-animate-shim"),v.addClass("ng-anchor"),m.append(v);var C;if(c=function(){var c=a(v,{addClass:"ng-anchor-out",delay:!0,from:k(f)});return c.$$willAnimate?c:null}(),!c&&(C=L(),!C))return n();var w=c||C;return{start:function(){function a(){c&&c.end()}var b,c=w.start();return c.done(function(){return c=null,!C&&(C=L())?(c=C.start(),c.done(function(){c=null,n(),b.complete()}),c):(n(),void b.complete())}),b=new d({end:a,cancel:a})}}}function D(a,b,c,f){var e=t(a,O),m=t(b,O),r=[];if(s(f,function(a){(a=v(c,a.out,a["in"]))&&r.push(a)}),e||m||0!==r.length)return{start:function(){function a(){s(b,function(a){a.end()})}var b=[];e&&b.push(e.start()),m&&b.push(m.start()),s(r,function(a){b.push(a.start())});var c=new d({end:a,cancel:a});return d.all(b,function(a){c.complete(a)}),c}}}function t(c){var d=c.element,e=c.options||{};return c.structural&&(e.event=c.event,e.structural=!0,e.applyClassesEarly=!0,"leave"===c.event&&(e.onDone=e.domOperation)),e.preparationClasses&&(e.event=Y(e.event,e.preparationClasses)),c=a(d,e),c.$$willAnimate?c:null}if(!f.animations&&!f.transitions)return O;var y=n[0].body;c=x(e);var m=G(c.parentNode&&11===c.parentNode.nodeType||y.contains(c)?c:y);return Q(L),function(a){return a.from&&a.to?D(a.from,a.to,a.classes,a.anchors):t(a)}}]}]).provider("$$animateJs",["$animateProvider",function(a){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(b,c,d){function e(c){c=da(c)?c:c.split(" ");for(var d=[],e={},f=0;f<c.length;f++){var v=c[f],n=a.$$registeredAnimations[v];n&&!e[v]&&(d.push(b.get(n)),e[v]=!0)}return d}var f=Q(d);return function(a,b,d,r){function n(){r.domOperation(),f(a,r)}function x(a,b,d,e,f){switch(d){case"animate":b=[b,e.from,e.to,f];break;case"setClass":b=[b,g,D,f];break;case"addClass":b=[b,g,f];break;case"removeClass":b=[b,D,f];break;default:b=[b,f]}if(b.push(e),a=a.apply(a,b))if(Ja(a.start)&&(a=a.start()),a instanceof c)a.done(f);else if(Ja(a))return a;return O}function t(a,b,d,e,f){var g=[];return s(e,function(e){var k=e[f];k&&g.push(function(){var e,f,h=!1,g=function(a){h||(h=!0,(f||O)(a),e.complete(!a))};return e=new c({end:function(){g()},cancel:function(){g(!0)}}),f=x(k,a,b,d,function(a){g(!1===a)}),e})}),g}function y(a,b,d,e,f){var g=t(a,b,d,e,f);if(0===g.length){var k,m;"beforeSetClass"===f?(k=t(a,"removeClass",d,e,"beforeRemoveClass"),m=t(a,"addClass",d,e,"beforeAddClass")):"setClass"===f&&(k=t(a,"removeClass",d,e,"removeClass"),m=t(a,"addClass",d,e,"addClass")),k&&(g=g.concat(k)),m&&(g=g.concat(m))}if(0!==g.length)return function(a){var b=[];return g.length&&s(g,function(a){b.push(a())}),b.length?c.all(b,a):a(),function(a){s(b,function(b){a?b.cancel():b.end()})}}}var m=!1;3===arguments.length&&ea(d)&&(r=d,d=null),r=pa(r),d||(d=a.attr("class")||"",r.addClass&&(d+=" "+r.addClass),r.removeClass&&(d+=" "+r.removeClass));var k,E,g=r.addClass,D=r.removeClass,H=e(d);if(H.length){var G,I;"leave"==b?(I="leave",G="afterLeave"):(I="before"+b.charAt(0).toUpperCase()+b.substr(1),G=b),"enter"!==b&&"move"!==b&&(k=y(a,b,r,H,I)),E=y(a,b,r,H,G)}if(k||E){var p;return{$$willAnimate:!0,end:function(){return p?p.end():(m=!0,n(),ia(a,r),p=new c,p.complete(!0)),p},start:function(){function b(c){m=!0,n(),ia(a,r),p.complete(c)}if(p)return p;p=new c;var d,e=[];return k&&e.push(function(a){d=k(a)}),e.length?e.push(function(a){n(),a(!0)}):n(),E&&e.push(function(a){d=E(a)}),p.setHost({end:function(){m||((d||O)(void 0),b(void 0))},cancel:function(){m||((d||O)(!0),b(!0))}}),c.chain(e,b),p}}}}}]}]).provider("$$animateJsDriver",["$$animationProvider",function(a){a.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(a,c){function d(c){return a(c.element,c.event,c.classes,c.options)}return function(a){if(!a.from||!a.to)return d(a);var b=d(a.from),n=d(a.to);return b||n?{start:function(){function a(){return function(){s(d,function(a){a.end()})}}var d=[];b&&d.push(b.start()),n&&d.push(n.start()),c.all(d,function(a){e.complete(a)});var e=new c({end:a(),cancel:a()});return e}}:void 0}}]}])}(window,window.angular)}(),function(){angular.module("templates-main",[]).run(["$templateCache",function($templateCache){$templateCache.put("partials/account-form.jade",'<form role="form" name="accountForm" ng-submit="submit()" autocomplete="off" novalidate data-preflight-tag="AccountForm"><div class="modal-header"><div class="flex-center pam"><h3 translate="{{status.edit ? \'RENAME_ACCOUNT\':\'ADD_WALLET\'}}" class="man mrm"></h3><helper-button ng-hide="status.edit" content="CREATE_NEW_ACCOUNT_MODAL"></helper-button></div></div><div class="modal-body"><div ng-class="{\'has-error\': accountForm.$invalid &amp;&amp; accountForm.$dirty}" class="form-group flex-column flex-justify"><label translate="ACCOUNT_NAME" class="control-label"></label><input name="new" ng-model="name" ng-model-options="{debounce: 250}" is-valid="isNameUnused(name)" maxlength="17" required autofocus class="form-control"><span ng-show="accountForm.$dirty" class="help-block"><span translate="ACCOUNT_NAME_TAKEN" ng-show="accountForm.new.$error.isValid"></span></span></div></div><div class="modal-footer pal flex-end flex-center"><button type="button" translate="CLOSE" ng-hide="status.busy" ng-click="$dismiss()" class="button-muted mrm"></button><button type="submit" ladda-translate="{{status.edit ? \'RENAME\':\'CREATE_ACCOUNT\'}}" ui-ladda="status.busy" ng-disabled="accountForm.$invalid" data-style="expand-left" class="button-success"></button></div></form>'),$templateCache.put("partials/authorize-approve.jade",'<div ng-show="checkingToken"><header><hgroup><div class="flex-between flex-center flex-wrap"><h2 translate="CHECKING_LOGIN_ATTEMPT" class="em-300 mtn"></h2></div></hgroup><hgroup><img src="img/spinner-806ea8a06eb29c46cd9526449bae2fe4f5bb3f32.gif"></hgroup></header></div><div ng-show="differentBrowser &amp;&amp; !success" data-preflight-tag="AuthApprove"><header><hgroup><div class="flex-between flex-center flex-wrap"><h2 translate="AUTHORIZE_APPROVE_OTHER_BROWSER" class="em-300 mtn"></h2></div><p translate="AUTHORIZE_APPROVE_OTHER_BROWSER_EXPLAIN" class="em-300"></p></hgroup><hgroup><p class="em-300">{{ details.device_change_reason }}</p></hgroup></header><div class="row"><div class="col-xs-6"><h4 translate="AUTHORIZE_APPROVE_REQUESTING_DEVICE"></h4><p><b><span translate="BROWSER"></span><span>:</span></b> {{ details.requester_device_description }}<br><b><span translate="IP_ADDRESS"></span><span>:</span></b> {{ details.requester_ip }}<br><b><span translate="COUNTRY_OF_ORIGIN"></span><span>:</span></b> {{ details.requester_country }}<br></p></div><div class="col-xs-6"><h4 translate="AUTHORIZE_APPROVE_THIS_DEVICE"></h4><p><b><span translate="BROWSER"></span><span>:</span></b> {{ details.approver_device_description }}<br><b><span translate="IP_ADDRESS"></span><span>:</span></b> {{ details.approver_ip }}<br><b><span translate="COUNTRY_OF_ORIGIN"></span><span>:</span></b> {{ details.approver_country }}<br></p></div></div><form role="form" class="ptl form-horizontal clearfix"><div class="flex-between flex-center pal"><div class="flex-center"><button ui-ladda="busyApproving" ng-click="approve()" data-style="expand-left" ladda-translate="ACCEPT" class="button-danger"></button></div><div class="flex-center flex-end"><button ui-ladda="busyRejecting" ng-click="reject()" data-style="expand-left" ladda-translate="REJECT" class="button-primary"></button></div></div></form></div><div ng-show="success" class="flex-center flex-justify flex-column"><div class="level-complete flex-center flex-justify"><i class="ti-check bright-green"></i></div><h4 translate="SUCCESS" class="em-300 mtl"></h4><p translate="AUTHORIZE_APPROVE_SUCCESS" class="em-300"></p></div>'),$templateCache.put("partials/bank-check-modal.jade",'<div class="modal-body flex-column width-100"><div class="ptl pll prl"><span translate="Routing and Account Number" class="f-20 em-500 flex-start"></span><p translate="You can find your bank routing and account numbers at the bottom of a check. Or you can contact your bank for this information." class="f-14 ptm"></p></div><div class="center mt-40 mb-40"><img ng-src="img/bank-check-8cf4a79ef542492578566153b5f7050edae94981.png" class="width-80"></div><div class="flex-end"><button ng-click="$close()" class="button button-primary">Close</button></div></div>'),$templateCache.put("partials/bank-deposit-modal.jade",'<div class="modal-body flex-column width-100"><div class="ptl pll prl"><span translate="Bank Deposits" class="f-20 em-500 flex-start"></span><p translate="SFOX sent 2 small deposits to your bank account. You can find these deposits labeled “SFOX” in your account activity." class="f-14 ptm"></p></div><div class="center"><img ng-src="img/bank-deposit-6859da1e22c9315b918b90be6b4a5509ae371020.png" class="width-80 mt-40 mb-40"></div><div class="flex-end"><button ng-click="$close()" class="button button-primary">Close</button></div></div>'),
$templateCache.put("partials/buy-login-modal.jade",'<div data-preflight-tag="FirstLoginBuy" class="modal-body flex"><i ng-click="$close()" class="ti-close close-modal"></i><img src="img/rocket-fc91069f5d2de917f6acf0eac601e26fad49676f.gif" class="rocket-gif"><div class="flex-column flex-between rocket-text flex-1 plvl"><div class="flex-column"><h3 translate="WELCOME" class="mbl mtvl type-lrg em-300 center"></h3><p class="mbl type-h5 width-100 em-300"><span translate="BUY_FIRST_LOGIN_TEXT_1"></span></p><p class="mbl type-h5 width-100 em-300"><span translate="BUY_FIRST_LOGIN_TEXT_2"></span></p></div><button ui-sref="wallet.common.buy-sell" translate="GET_BITCOIN" class="uppercase button-primary mtl"></button></div></div>'),$templateCache.put("partials/buy-sell-master.jade",'<div ng-if="state.transitioning" class="height-100 pbvl flex-center flex-around"><div ng-show="state.loading" class="flex-column flex-justify flex-center height-100"><blocket-troposphere status="burn_baby_burn"></blocket-troposphere><span translate="FETCHING_INFO_EXCHANGE" class="bg-deeper-blue type-h4 copy-bar white flex-center flex-justify"></span></div><div ng-show="state.error" class="flex-column flex-justify flex-center height-100"><blocket-troposphere status="of_course_i_still_love_you"></blocket-troposphere><span translate="METADATA_DOWN_EXCHANGE" class="bg-deeper-blue type-h4 copy-bar white flex-center flex-justify"></span></div></div><ui-view ng-hide="state.transitioning"></ui-view>'),$templateCache.put("partials/buy-sell-select-partner.jade",'<div class="buy-sell"><div class="flex-row flex-column-tablet"><div class="find-partner width-50 mrl mtl flex-column"><span translate="Buy Bitcoin" class="f-20 em-500"></span><div ng-class="{\'ui-select-border-red\': blacklisted}" class="mt-15 pt-30 pb-30 pl-15 pr-15 phm border"><span translate="Select your country:" class="f-14 em-500"></span><ui-select ng-model="$parent.country" tagging class="mtm"><ui-select-match placeholder="Select country">{{$select.selected.Name}}</ui-select-match><ui-select-choices repeat="c in countries | filter:$select.search track by c.Name">{{c.Name}}</ui-select-choices></ui-select><div ng-if="partner" class="mt-25"></div><div ng-show="blacklisted" class="mts"><span class="state-danger-text">Buying bitcoin is not yet available in your country.</span></div><div ng-if="partner"><a ng-href="{{partner.href}}" target="_blank" rel="noopener noreferrer"><img ng-src="{{partner.logo}}" class="partner-logo mbm"></a><p translate="{{partner.subtext}}" class="f-16"></p><button translate="CONTINUE" ng-click="selectPartner(partner, country.Code)" class="btn button-primary full-width mt-15"></button></div></div></div><div class="flex-column width-50 mlvl mt-55"><div translate="SIMPLE_SECURE_SEAMLESS" class="f-24 blue em-500 lh1"></div><div translate="BUY_SIMPLE_STEPS" class="f-16 mtm"></div></div></div></div>'),$templateCache.put("partials/buy-sell.jade",'<div ng-class="{\'loading\': status.loading || status.metaDataDown || status.exchangeDown, \'disabled\': status.disabled}" data-preflight-tag="BuySell" class="buy-sell"><div ng-if="status.metaDataDown || status.exchangeDown" class="flex-column flex-justify flex-center height-100"><blocket-troposphere status="of_course_i_still_love_you"></blocket-troposphere><span translate="METADATA_DOWN_EXCHANGE" class="bg-deeper-blue type-h4 copy-bar white flex-center flex-justify"></span></div><div ng-if="status.loading &amp;&amp; !status.disabled" class="flex-column flex-justify flex-center height-100"><blocket-troposphere status="burn_baby_burn"></blocket-troposphere><span translate="FETCHING_INFO_EXCHANGE" class="bg-deeper-blue type-h4 copy-bar white flex-center flex-justify"></span></div><div ng-if="!status.loading &amp;&amp; !status.metaDataDown &amp;&amp; !status.exchangeDown || status.disabled"><div class="flex-row flex-column-tablet"><div ng-show="state.buy" class="width-50 mrl mtl"><buy-quick-start transaction="transaction" currency-symbol="currencySymbol" modal-open="status.modalOpen" change-currency="changeCurrency(currency)" limits="limits" buy="buy(null, {quote: quote, btc: btc, fiat: fiat, currency: transaction.currency})"></buy-quick-start></div><div class="flex-column width-50 mlvl mt-55"><div ng-hide="trades.pending.length || trades.completed.length || (kyc &amp;&amp; kyc.state !== \'completed\')"><div translate="SIMPLE_SECURE_SEAMLESS" class="f-24 blue em-500 lh1"></div><div translate="BUY_SIMPLE_STEPS" class="f-16 mtm"></div></div><kyc-status state="kyc.state" on-trigger="openKyc()" limits="limits"></kyc-status></div></div><div ng-show="trades.pending.length || trades.completed.length" data-preflight-tag="BuySellTrades" class="flex-column mtl"><div class="flex-row flex-between flex-center"><h4 translate="ORDER_HISTORY" class="type-h4"></h4><span>Coinify Account: {{ exchange.profile.email }}</span></div><table class="width-100"><tr class="border bg-light-blue"><th translate="STATUS" class="phml pvs"></th><th translate="DATE" class="phml pvs"></th><th class="phml right-align pvs">BTC</th><th translate="TOTAL" class="phml right-align pvs"></th></tr><tr ng-repeat="trade in trades.pending.concat(trades.completed) | orderBy:\'createdAt\':true | limitTo:tradeLimit" trade="trade" buy="buy" in-view="$last &amp;&amp; scrollTrades()"></tr></table><div ng-if="false" translate-namespace="BUY_FEEDBACK" class="flex-column flex-align-end mbvl mtml"><span translate=".PROMPT" class="type-h5 em-500"></span><div class="flex-row flex-center mts"><span translate=".DISAGREE" class="type-h5 security-red"></span><span uib-rating ng-model="rating" max="5" state-on="\'glyphicon-ok-sign\'" state-off="\'glyphicon-ok-circle\'" ng-click="submitFeedback(rating)" class="type-h5 mhm pointer"></span><span translate=".AGREE" class="type-h5 success"></span></div></div></div><div class="bottom-right-footer flex-end pal"><div class="em-500"><span>Need help?</span>&nbsp;<a href="https://support.blockchain.com/hc/en-us/requests/new" target="_blank" translate="CONTACT_SUPPORT" rel="noopener noreferrer" class="underline"></a></div></div></div></div>'),$templateCache.put("partials/buy-subscribe-modal.jade",'<div translate-namespace="BUY_SUBSCRIBE"><div class="modal-body flex"><div class="flex-column"><span translate=".TITLE" class="type-h4 em-500 flex-start pts"></span><p translate=".BODY" class="em-300 ptm"></p></div></div><div class="modal-footer flex-end flex-row"><button translate="NO_THANKS" ng-click="$close()" class="button-muted mrm"></button><button translate=".BUTTON" ng-click="signupForAccess()" class="button-primary"></button></div></div>'),$templateCache.put("partials/coinify-modal.jade",'<div id="buy" ng-class="{rendered:rendered}" data-preflight-tag="BuyModal"><div class="modal-header bc-modal-header flex-between flex-center"><div class="flex-column flex-1"><div class="flex-row flex-between flex-center"><h3 translate="BUY_BITCOIN"></h3><div ng-show="status.gettingQuote" class="flex-column flex-align-end"><img src="img/spinner-806ea8a06eb29c46cd9526449bae2fe4f5bb3f32.gif"></div><div ng-hide="status.gettingQuote" uib-tooltip="{{getQuoteHelper() | translate}}" tooltip-append-to-body="true" tooltip-placement="right" tooltip-enable="!hideQuote()" class="flex-column flex-align-end"><div class="flex-row type-h5 em-500"><span ng-hide="!transaction.btc || trade || needsKyc()">{{ transaction.btc }} BTC</span><span ng-show="trade &amp;&amp; !isKYC &amp;&amp; !needsKyc()" ng-class="{italic: expiredQuote &amp;&amp; needsISX(), \'tilda-before\': expiredQuote &amp;&amp; needsISX()}">{{ expiredQuote && needsISX() ? btcExpected / 100000000 : (trade.outAmount || trade.outAmountExpected) / 100000000 }} BTC</span>&nbsp;<span ng-hide="!transaction.btc || trade || needsKyc()">({{currencySymbol.symbol}}{{ transaction.fiat }})</span><span ng-show="trade &amp;&amp; !isKYC &amp;&amp; !needsKyc()">({{currencySymbol.symbol}}{{ transaction.total }})</span></div><quote-countdown ng-hide="isKYC" quote="quote" trade-obj="trade" expired-quote="expiredQuote" ng-class="{\'fade\': hideQuote() }" class="mid-grey"></quote-countdown><p ng-show="buySellDebug &amp;&amp; quote.id" class="security-red pointer"><i ng-click="quote.expire()" class="ti-search mrm right-align"> QA: Now</i></p></div></div><buy-steps transaction="transaction" on-step="onStep" needs-kyc="needsKyc" get-medium="getMedium" after-step="afterStep" before-step="beforeStep" payment-info="paymentInfo" exchange-acct="userHasExchangeAcct" currency-symbol="currencySymbol" trade-obj="trade"></buy-steps></div></div><div ng-class="{\'summary\': onStep(\'summary\'), \'isx\': onStep(\'isx\')}" class="modal-body fade flex-center flex-justify {{isxStep}}"><div class="alert-in-app"><alerts context="alerts"></alerts></div><div ng-show="onStep(\'email\')" ng-controller="CoinifyEmailController" class="width-80"><div><div ng-hide="editEmail || rejectedEmail"><span translate="VERIFY_EMAIL" class="type-h5 em-500 flex-start pts"></span><p class="mtl mbm"><span translate="SENT_VERIFICATION" translate-values="{email: user.email}"></span></p><div class="mtm"><span translate="CHANGE_EMAIL" ng-click="toggleEmail()" class="flex-center pointer"></span></div></div><form name="emailForm" ng-show="editEmail || rejectedEmail" class="clearfix"><bc-async-input type="email" is-required ng-model="user.email" on-cancel="toggleEmail" on-save="changeEmail" action-title="\'CHANGE\' | translate" inline editing="true"></bc-async-input></form></div></div><div ng-show="onStep(\'accept-terms\')" ng-controller="CoinifySignupController" class="width-80"><form name="signupForm" role="form" novalidate class="clearfix"><span translate="ACCEPT_TERMS" class="type-h5 em-500 flex-start pts"></span><p translate="PARTNER" translate-values="{email: user.email}" class="mvl"></p><div><input type="checkbox" checked id="tos" name="tos" ng-model="fields.acceptTOS" ng-disabled="rejectedEmail" required><label translate="ACCEPT_PARTNER_TOS_PRIVACY" for="tos" class="mlm em-400"></label></div><div ng-show="rejectedEmail" class="mtl"><i class="ti-alert sent mrs type-h4"></i><span translate="EMAIL_IN_USE" translate-values="{email: user.email}" class="sent mrs"></span><span translate="CLICK_TO_CHANGE" ng-click="nextStep();" class="blue pointer"></span></div></form></div><div ng-show="onStep(\'select-payment-medium\')" ng-controller="CoinifyMediumController" class="width-80"><div class="payment-methods"><span translate="SELECT_PAYMENT_MEDIUM" class="type-h5 em-500 flex-start pts"></span><div class="flex-row flex-center pointer mtml"><input type="radio" name="inMedium" id="card" ng-model="$parent.medium" value="card" ng-disabled="status.waiting" class="man"><div class="flex-column flex-1 mlm pointer"><label for="card" class="mts pointer em-400"><div class="flex-row flex-center"><span><img src="img/credit-card-8e789a96a96d03dbca5ab574034f0ae865ae0211.png" class="mrm"><img src="img/credit-card-blue-a6ed9e256f75b7ccc2b42d14de1d139e03180a24.png" class="mrm checked"></span><div class="flex-column"><span translate="CARD" class="type-h5 em-400"></span><span class="flex-row"><span translate="CARD_TRANSFER.TITLE" class="em-400"></span><helper-button content="CARD_TRANSFER.COPY"></helper-button></span></div></div></label></div></div><div ng-show="medium === \'card\' &amp;&amp; !userHasExchangeAcct" class="mlm mbl em-300 width-70"><span translate="VERIFY_CARD_NOTE"></span></div><div class="flex-row flex-center pointer"><input type="radio" name="inMedium" id="bank" ng-model="$parent.medium" value="bank" ng-disabled="status.waiting" class="man"><div class="flex-column flex-1 mlm pointer"><label for="bank" class="mts pointer em-400"><div class="flex-row flex-center"><span><img src="img/bank-62b0edde147c85ce4e529952638275cf30366263.png" class="mrm"><img src="img/bank-blue-a2d1f7e294a936ba6240ffc530c19b4076fef56e.png" class="mrm checked"></span><div class="flex-column"><span translate="BANK" class="type-h5 em-400"></span><span class="flex-row"><span translate="BANK_TRANSFER.TITLE" class="em-400"></span><helper-button content="BANK_TRANSFER.COPY"></helper-button></span></div></div></label></div></div><div ng-hide="exchange.profile.level.name &gt;= 2 || medium !== \'bank\'" class="mlm mbl em-300 width-70"><span translate="VERIFY_ID_NOTE"></span></div></div></div><div ng-show="onStep(\'summary\')" ng-controller="CoinifySummaryController" class="width-80"><div class="flex-column mbvl"><span ng-hide="isBankTransfer() &amp;&amp; tempFiatForm.$invalid" translate="CONFIRM_YOUR_ORDER" class="type-h5 em-500 flex-start pts"></span><span ng-show="isBankTransfer() &amp;&amp; tempFiatForm.$error.max" translate="ERROR_DAILY_LIMIT" class="type-h5 em-500 flex-start pts state-danger-text"></span><span ng-show="isBankTransfer() &amp;&amp; tempFiatForm.$error.min &amp;&amp; !tempFiatForm.$error.max" translate="ERROR_MIN_LIMIT" class="type-h5 em-500 flex-start pts state-danger-text"></span><p class="mvm"><span translate="ORDER_CONFIRMATION_COPY" ng-hide="isBankTransfer() &amp;&amp; tempFiatForm.$invalid"></span><span translate="ERROR_DAILY_LIMIT_COPY" ng-show="isBankTransfer() &amp;&amp; tempFiatForm.$error.max" translate-values="{code: tempCurrency.code, max: limits.available}"></span><span translate="ERROR_MIN_LIMIT_COPY" ng-show="isBankTransfer() &amp;&amp; tempFiatForm.$error.min &amp;&amp; !tempFiatForm.$error.max" translate-values="{code: tempCurrency.code, min: limits.min}"></span></p><div class="flex-center flex-between flex-row-reverse"><div class="mam"><span ng-click="toggleEditAmount()" ng-hide="editAmount" translate="EDIT_ORDER" class="type-sm blue underline pointer"></span><span ng-click="cancel()" ng-show="editAmount" translate="CANCEL" class="type-sm blue underline pointer"></span></div><div ng-show="(tempFiatForm.fiat.$error.max || tempFiatForm.fiat.$error.min) &amp;&amp; !isBankTransfer()" class="flex-center"><i class="ti-alert state-danger-text mrs type-h4"></i><span ng-show="tempFiatForm.fiat.$error.max" translate="MAX_LIMIT_EXCEEDED" translate-values="{code: tempCurrency.code, max: limits.available}" class="state-danger-text mrs"></span><span ng-show="tempFiatForm.fiat.$error.min &amp;&amp; !tempFiatForm.fiat.$error.max" translate="BELOW_MIN_LIMIT" translate-values="{code: tempCurrency.code, min: limits.min}" class="state-danger-text mrs"></span></div></div><div ng-class="{\'bg-light-grey\': editAmount}" class="border pam"><div class="flex-row flex-between pam border-bottom-light"><span translate="BTC:"></span><span uib-tooltip="{{\'RECEIVE_BITCOIN_TO\' | translate:{label: label} }}" class="success">{{ transaction.btc }}</span></div><div class="flex-row flex-between pam pos-rel"><span translate="AMOUNT:"></span><span ng-hide="editAmount">{{ transaction.fiat | format }} {{ transaction.currency.code }}</span><form name="tempFiatForm" ng-submit="commitValues()" ng-show="editAmount" class="input-group width-60 flex-row flex-center amount-input"><span ng-disabled="tempFiatForm.$invalid" ng-show="editAmount" ng-class="{\'o-3\': tempFiatForm.fiat.$invalid}" ng-click="tempFiatForm.$valid &amp;&amp; commitValues()" translate="UPDATE" class="type-sm blue underline pointer mrm"></span><div class="flex-row flex-center width-100"><input type="number" ng-model="tempFiat" ng-change="setParentError()" name="fiat" tabindex="1" focus-when="editAmount" placeholder="Enter an amount" min="{{!needsKyc() ? limits.min : 1}}" max="{{!needsKyc() ? limits.available : 1000}}" step="0.01" required class="form-control"><div uib-dropdown uib-keyboard-nav-style class="input-group-btn"><button type="button" uib-dropdown-toggle aria-haspopup="true" class="btn btn-default dropdown-toggle"><span>{{ tempCurrency.code }}</span><span class="caret"></span></button><ul role="menu" class="uib-dropdown-menu dropdown-menu currency-dropdown"><li ng-repeat="currency in currencies" role="menuitem" ng-click="changeTempCurrency(currency);" ng-class="{active: isCurrencySelected(currency)}"><a ng-click="$event.preventDefault()">{{ currency.code }}</a></li></ul></div></div></form></div><div ng-hide="isBankTransfer()" class="flex-row flex-between pam border-bottom-light"><span translate="PAYMENT_FEE"></span><span>{{ transaction.methodFee | format }} {{ transaction.currency.code }}</span></div><div ng-hide="isBankTransfer()" class="flex-row flex-between pam"><span translate="TOTAL_COST:" class="em-500"></span><span>{{ currencySymbol.symbol }}{{ transaction.total }} {{ transaction.currency.code }}</span></div></div></div></div><div ng-if="onStep(\'isx\')" class="iframe"><isignthis transaction-id="trade.iSignThisID" on-load="loadPayment()" on-complete="formatTrade" payment-info="paymentInfo" on-resize="onResize(step)"></isignthis></div><div ng-if="onStep(\'trade-in-review\', \'trade-formatted\')" class="width-80"><div data-preflight-tag="TradeSummary"><span translate="{{formattedTrade.namespace}}.TITLE" translate-values="formattedTrade.values" class="type-h5 em-500 flex-start pts capitalize {{formattedTrade.class}}"></span><p translate="{{formattedTrade.namespace}}.BODY" translate-values="formattedTrade.values" class="em-300 ptm"></p><div ng-if="formattedTrade.tx"><label translate="{{isKYC || needsKyc() ? \'DETAILS\' : \'ORDER_DETAILS\'}}" class="em-500 flex-start pts mtl"></label><ul class="em-300 bg-light-blue"><li ng-repeat="(prop, val) in formattedTrade.tx track by $index" ng-if="val" ng-class="{\'border-top\': $first}" class="pam border-right border-left border-bottom-light flex-between"><span translate="{{prop}}" class="em-400 colon"></span><span ng-bind="val" class="em-400 right-align"></span></li></ul></div></div><p ng-show="buySellDebug &amp;&amp; trade.bankAccount &amp;&amp; trade.state === \'awaiting_transfer_in\'" class="security-red pointer"><i class="ti-search mrm"></i><span ng-click="fakeBankTransfer()" translate="QA: Click here to fake a bank transfer"></span></p></div><div ng-hide="afterStep(\'summary\')" class="flex-end flex-center mtl coinify-logo"><span class="pos-rel"><span translate="POWERED_BY" class="mrs type-sm"></span><a href="https://www.coinify.com/" target="_blank" rel="noopener noreferrer"><img src="img/coinify-logo-fa0a52746e159ab426bbaa496ed54d0f34f24a3b.svg"><span uib-tooltip="{{\'PROCESSED_BY_EXCHANGE\' | translate}}" tooltip-append-to-body="true" class="pos-abs fade height-100 width-100"></span></a></span></div></div><div class="modal-footer flex-end flex-row"><button ng-show="onStep(\'summary\')" ng-click="goTo(\'select-payment-medium\')" translate="GO_BACK" class="button-muted"></button><div ng-hide="status.loading" class="flex-1 flex-end"><button ng-click="$close()" translate="CLOSE" ng-show="onStep(\'trade-formatted\') &amp;&amp; bitcoinReceived" class="button-muted mrm"></button><button ng-click="close()" translate="CANCEL_ORDER" ng-hide="afterStep(\'summary\')" class="button-muted mrm"></button><button ng-click="close()" translate="FINISH_LATER" ng-show="onStep(\'isx\')" class="button-muted mrm"></button><div ng-hide="afterStep(\'summary\')"><button ladda-translate="CONTINUE" ng-click="nextStep()" data-style="expand-left" ui-ladda="status.waiting" ng-disabled="isDisabled()" ng-show="onStep(\'select-country\')" class="button-primary"></button><button ladda-translate="CONTINUE" ng-click="nextStep()" data-style="expand-left" ui-ladda="status.waiting" ng-disabled="isDisabled()" ng-show="onStep(\'email\')" class="button-primary"></button><button ladda-translate="CONTINUE" ng-click="signup()" data-style="expand-left" ui-ladda="status.waiting" ng-disabled="isDisabled()" ng-show="onStep(\'accept-terms\')" class="button-primary"></button><button ladda-translate="CONTINUE" ng-click="confirmOrContinue()" data-style="expand-left" ui-ladda="status.waiting" ng-disabled="isDisabled()" ng-show="onStep(\'select-payment-medium\')" class="button-primary"></button><button ladda-translate="CONFIRM" ng-click="buy()" data-style="expand-left" ui-ladda="status.waiting" ng-disabled="isDisabled() || fiatFormInvalid || status.gettingQuote" ng-show="onStep(\'summary\')" class="button-primary"></button></div><div ng-show="onStep(\'trade-in-review\') || onStep(\'trade-formatted\') &amp;&amp; !bitcoinReceived"><button translate="CLOSE" ng-click="cancel()" class="button-success"></button></div><div ng-show="onStep(\'trade-formatted\') &amp;&amp; bitcoinReceived"><button translate="SEE_BITCOIN" ng-click="cancel()" ui-sref="wallet.common.transactions" class="button-success"></button></div></div></div></div>'),$templateCache.put("partials/coinify/email.jade",'<div><div ng-hide="editEmail || rejectedEmail"><span translate="VERIFY_EMAIL" class="type-h5 em-500 flex-start pts"></span><p class="mtl mbm"><span translate="SENT_VERIFICATION" translate-values="{email: user.email}"></span></p><div class="mtm"><span translate="CHANGE_EMAIL" ng-click="toggleEmail()" class="flex-center pointer"></span></div></div><form name="emailForm" ng-show="editEmail || rejectedEmail" class="clearfix"><bc-async-input type="email" is-required ng-model="user.email" on-cancel="toggleEmail" on-save="changeEmail" action-title="\'CHANGE\' | translate" inline editing="true"></bc-async-input></form></div>'),$templateCache.put("partials/coinify/medium.jade",'<div class="payment-methods"><span translate="SELECT_PAYMENT_MEDIUM" class="type-h5 em-500 flex-start pts"></span><div class="flex-row flex-center pointer mtml"><input type="radio" name="inMedium" id="card" ng-model="$parent.medium" value="card" ng-disabled="status.waiting" class="man"><div class="flex-column flex-1 mlm pointer"><label for="card" class="mts pointer em-400"><div class="flex-row flex-center"><span><img src="img/credit-card-8e789a96a96d03dbca5ab574034f0ae865ae0211.png" class="mrm"><img src="img/credit-card-blue-a6ed9e256f75b7ccc2b42d14de1d139e03180a24.png" class="mrm checked"></span><div class="flex-column"><span translate="CARD" class="type-h5 em-400"></span><span class="flex-row"><span translate="CARD_TRANSFER.TITLE" class="em-400"></span><helper-button content="CARD_TRANSFER.COPY"></helper-button></span></div></div></label></div></div><div ng-show="medium === \'card\' &amp;&amp; !userHasExchangeAcct" class="mlm mbl em-300 width-70"><span translate="VERIFY_CARD_NOTE"></span></div><div class="flex-row flex-center pointer"><input type="radio" name="inMedium" id="bank" ng-model="$parent.medium" value="bank" ng-disabled="status.waiting" class="man"><div class="flex-column flex-1 mlm pointer"><label for="bank" class="mts pointer em-400"><div class="flex-row flex-center"><span><img src="img/bank-62b0edde147c85ce4e529952638275cf30366263.png" class="mrm"><img src="img/bank-blue-a2d1f7e294a936ba6240ffc530c19b4076fef56e.png" class="mrm checked"></span><div class="flex-column"><span translate="BANK" class="type-h5 em-400"></span><span class="flex-row"><span translate="BANK_TRANSFER.TITLE" class="em-400"></span><helper-button content="BANK_TRANSFER.COPY"></helper-button></span></div></div></label></div></div><div ng-hide="exchange.profile.level.name &gt;= 2 || medium !== \'bank\'" class="mlm mbl em-300 width-70"><span translate="VERIFY_ID_NOTE"></span></div></div>'),$templateCache.put("partials/coinify/signup.jade",'<form name="signupForm" role="form" novalidate class="clearfix"><span translate="ACCEPT_TERMS" class="type-h5 em-500 flex-start pts"></span><p translate="PARTNER" translate-values="{email: user.email}" class="mvl"></p><div><input type="checkbox" checked id="tos" name="tos" ng-model="fields.acceptTOS" ng-disabled="rejectedEmail" required><label translate="ACCEPT_PARTNER_TOS_PRIVACY" for="tos" class="mlm em-400"></label></div><div ng-show="rejectedEmail" class="mtl"><i class="ti-alert sent mrs type-h4"></i><span translate="EMAIL_IN_USE" translate-values="{email: user.email}" class="sent mrs"></span><span translate="CLICK_TO_CHANGE" ng-click="nextStep();" class="blue pointer"></span></div></form>'),$templateCache.put("partials/coinify/summary.jade",'<div class="flex-column mbvl"><span ng-hide="isBankTransfer() &amp;&amp; tempFiatForm.$invalid" translate="CONFIRM_YOUR_ORDER" class="type-h5 em-500 flex-start pts"></span><span ng-show="isBankTransfer() &amp;&amp; tempFiatForm.$error.max" translate="ERROR_DAILY_LIMIT" class="type-h5 em-500 flex-start pts state-danger-text"></span><span ng-show="isBankTransfer() &amp;&amp; tempFiatForm.$error.min &amp;&amp; !tempFiatForm.$error.max" translate="ERROR_MIN_LIMIT" class="type-h5 em-500 flex-start pts state-danger-text"></span><p class="mvm"><span translate="ORDER_CONFIRMATION_COPY" ng-hide="isBankTransfer() &amp;&amp; tempFiatForm.$invalid"></span><span translate="ERROR_DAILY_LIMIT_COPY" ng-show="isBankTransfer() &amp;&amp; tempFiatForm.$error.max" translate-values="{code: tempCurrency.code, max: limits.available}"></span><span translate="ERROR_MIN_LIMIT_COPY" ng-show="isBankTransfer() &amp;&amp; tempFiatForm.$error.min &amp;&amp; !tempFiatForm.$error.max" translate-values="{code: tempCurrency.code, min: limits.min}"></span></p><div class="flex-center flex-between flex-row-reverse"><div class="mam"><span ng-click="toggleEditAmount()" ng-hide="editAmount" translate="EDIT_ORDER" class="type-sm blue underline pointer"></span><span ng-click="cancel()" ng-show="editAmount" translate="CANCEL" class="type-sm blue underline pointer"></span></div><div ng-show="(tempFiatForm.fiat.$error.max || tempFiatForm.fiat.$error.min) &amp;&amp; !isBankTransfer()" class="flex-center"><i class="ti-alert state-danger-text mrs type-h4"></i><span ng-show="tempFiatForm.fiat.$error.max" translate="MAX_LIMIT_EXCEEDED" translate-values="{code: tempCurrency.code, max: limits.available}" class="state-danger-text mrs"></span><span ng-show="tempFiatForm.fiat.$error.min &amp;&amp; !tempFiatForm.fiat.$error.max" translate="BELOW_MIN_LIMIT" translate-values="{code: tempCurrency.code, min: limits.min}" class="state-danger-text mrs"></span></div></div><div ng-class="{\'bg-light-grey\': editAmount}" class="border pam"><div class="flex-row flex-between pam border-bottom-light"><span translate="BTC:"></span><span uib-tooltip="{{\'RECEIVE_BITCOIN_TO\' | translate:{label: label} }}" class="success">{{ transaction.btc }}</span></div><div class="flex-row flex-between pam pos-rel"><span translate="AMOUNT:"></span><span ng-hide="editAmount">{{ transaction.fiat | format }} {{ transaction.currency.code }}</span><form name="tempFiatForm" ng-submit="commitValues()" ng-show="editAmount" class="input-group width-60 flex-row flex-center amount-input"><span ng-disabled="tempFiatForm.$invalid" ng-show="editAmount" ng-class="{\'o-3\': tempFiatForm.fiat.$invalid}" ng-click="tempFiatForm.$valid &amp;&amp; commitValues()" translate="UPDATE" class="type-sm blue underline pointer mrm"></span><div class="flex-row flex-center width-100"><input type="number" ng-model="tempFiat" ng-change="setParentError()" name="fiat" tabindex="1" focus-when="editAmount" placeholder="Enter an amount" min="{{!needsKyc() ? limits.min : 1}}" max="{{!needsKyc() ? limits.available : 1000}}" step="0.01" required class="form-control"><div uib-dropdown uib-keyboard-nav-style class="input-group-btn"><button type="button" uib-dropdown-toggle aria-haspopup="true" class="btn btn-default dropdown-toggle"><span>{{ tempCurrency.code }}</span><span class="caret"></span></button><ul role="menu" class="uib-dropdown-menu dropdown-menu currency-dropdown"><li ng-repeat="currency in currencies" role="menuitem" ng-click="changeTempCurrency(currency);" ng-class="{active: isCurrencySelected(currency)}"><a ng-click="$event.preventDefault()">{{ currency.code }}</a></li></ul></div></div></form></div><div ng-hide="isBankTransfer()" class="flex-row flex-between pam border-bottom-light"><span translate="PAYMENT_FEE"></span><span>{{ transaction.methodFee | format }} {{ transaction.currency.code }}</span></div><div ng-hide="isBankTransfer()" class="flex-row flex-between pam"><span translate="TOTAL_COST:" class="em-500"></span><span>{{ currencySymbol.symbol }}{{ transaction.total }} {{ transaction.currency.code }}</span></div></div></div>'),$templateCache.put("partials/common.jade",'<div ui-view="left" ng-class="{toggled: menu.isCollapsed}" data-preflight-tag="WalletNavigation" class="left-nav"></div><div ui-view="top" data-preflight-tag="Top" class="top-view"></div><div ui-view="right" scroll-to-top in-view-container ng-click="hideMenu()" class="main-container"></div>'),$templateCache.put("partials/confirm-recovery-phrase-modal.jade",'<div data-preflight-tag="ConfirmRecoveryModal" class="modal-header"><h3 translate="VERIFY_RECOVERY_PHRASE"></h3></div><div id="verify-recovery" class="modal-body"><span ng-show="step==0"><p class="blue"><b><i class="ti-shield prm"></i><span translate="SECURITY_TIP"></span></b></p><p translate="DO_NOT_STORE_ON_COMPUTER" class="recovery-instruction-text"></p><hr><div class="row"><div class="col-xs-12"><p translate="PRINTABLE_SHEET"></p></div></div><div class="row"><div class="col-xs-12"><p class="center"><a href="img/recovery-2dc9130a1a1bae71de78a5c8db5c7899c7c9f469.pdf" target="_blank" download="recovery.pdf" rel="noopener noreferrer" class="btn btn-inverse"><span><i class="ti-printer prm"></i><span translate="PRINT_RECOVERY_SHEET"></span></span></a></p></div></div></span><span ng-show="step==1"><p class="blue"><b><i class="ti-pencil prm"></i><span translate="WRITE_DOWN"></span></b></p><p translate="WRITE_DOWN_EXPLAIN" class="recovery-instruction-text"></p><div class="row"><div ng-repeat="word in recoveryPhrase | limitTo:4:offset track by $index" class="col-xs-3"><p class="center"><b>{{ offset + $index + 1 }}. {{ word }}</b></p></div></div><div class="row"><div class="col-xs-12"><p class="center"><a ng-click="previousWords()" ng-hide="offset &lt;= 0" class="btn button-muted"><i class="ti-arrow-left prm"></i><span translate="PREVIOUS"></span></a><a ng-click="nextWords()" ng-hide="offset &gt;= 8" class="btn btn-inverse"><span translate="NEXT_4_WORDS" class="prm"></span><i class="ti-arrow-right"></i></a></p></div></div></span><span ng-show="step==2"><p class="blue"><b><i class="ti-check prm"></i><span translate="VERIFY"></span></b></p><p translate="ENTER_WORDS" class="recovery-instruction-text"></p><div class="row"><div ng-repeat="word in words" class="col-xs-3"><div ng-class="{\'has-error\': word.error}" class="form-group"><p translate="{{\'WORD_\' + word.index}}"></p><input type="text" ng-model="word.value" class="form-control"></div></div></div></span><span ng-show="step==3"><div class="row"><div class="col-xs-12"><p class="full-circle center"><i class="ti-check big-white"></i></p></div></div><div class="row"> <div class="col-xs-12"><p></p></div></div><div class="row"><div class="col-xs-12"><p translate="BACKED_UP" class="recovery-instruction-text center"></p></div></div></span><div ng-show="step==4"><div class="flex-center mbl success"><i class="ti-check font-2"></i><span translate="BACKED_UP" class="mlm"></span>.</div><div class="flex-column flex-baseline"><span translate="SUGGEST_TRANSFER" class="em-500 mvm"></span><p translate="SUGGEST_TRANSFER_EXPLAIN"></p></div></div></div><div class="modal-footer pal flex-end"><button ng-click="close()" translate="CLOSE" ng-show="step==0" class="button-muted mrm"></button><button ng-click="previousStep()" translate="BACK" ng-show="step &gt; 0 &amp;&amp; step &lt; 3" class="button-muted mrm"></button><button ng-click="close()" translate="CLOSE" ng-show="step==3" class="button-primary mrm"></button><button ng-click="close()" translate="NOT_NOW" ng-show="step==4" class="button-muted mrm"></button><button ng-click="goToShow()" translate="NEXT_STEP" ng-show="step==0" class="button-primary"></button><button ng-click="goToVerify()" translate="FINAL_STEP" ng-show="step==1" ng-disabled="offset != 8" class="button-primary"></button><button ng-click="verify()" translate="FINISH" ng-show="step==2" ng-disabled="hasEmptyWords()" class="button-success"></button><button ng-click="openTransferAll()" translate="TRANSFER_NOW" ng-show="step==4" class="button-primary"></button></div>'),$templateCache.put("partials/dynamic-fee.jade",'<div data-preflight-tag="DynamicFee" class="modal-header flex-row flex-center"><h3 translate="{{:: titleTranslation }}"></h3><helper-button content="DYNAMIC_FEE_HELP" linktext="LEARN_MORE" link="https://en.bitcoin.it/wiki/Transaction_fees"></helper-button></div><div class="modal-body"><p translate="{{:: bodyTranslation }}" translate-values="{ fee: currentFee, suggested: suggestedFee }"></p><p translate="BALANCE_OVERFLOW_EXPLAIN" ng-show="balanceOverflow"></p></div><div class="modal-footer"><button translate="GO_BACK" ng-click="cancel()" class="button-muted mrm"></button><button translate="CONTINUE_CURRENT_FEE" ng-hide="surge" ng-click="useCurrent()" class="button-muted mrm"></button><button translate="{{:: btnTranslation }}" translate-values="{ suggested: suggestedFee }" ng-click="useSuggested()" class="button-primary initial-text"></button></div>'),
$templateCache.put("partials/export-history.jade",'<form role="form" name="exportForm" ng-submit="submit()" autocomplete="off" novalidate data-preflight-tag="ExportHistory"><div class="modal-header"><div class="flex-center pam"><h3 translate="EXPORT_HISTORY" class="man mrm"></h3><helper-button content="EXPORT_HISTORY_EXPLAIN"></helper-button></div></div><div class="modal-body"><div class="ph-form flex-row"><div class="flex-1"></div><div class="flex-4"><div ng-show="activeCount &gt; 1" class="form-group pal"><ui-select name="active" ng-model="$parent.active" tagging required class="send-from-dropdown"><ui-select-match placeholder="{{\'SEARCH\' | translate}}..."><label-origin origin="$select.selected"></label-origin></ui-select-match><ui-select-choices repeat="t in targets | filter:{label:$select.search} | limitTo:limit"><label-origin origin="::t" in-view="$last &amp;&amp; isLast(t) &amp;&amp; incLimit()" highlight="$select.search"></label-origin></ui-select-choices></ui-select></div><div ng-class="{\'has-error\':exportForm.$invalid || start.date &gt; end.date}" class="flex-row flex-center flex-between pal"><p class="input-group flex-center"><input type="text" name="start" ng-model="start.date" uib-datepicker-popup="{{format}}" datepicker-options="options" is-open="start.open" placeholder="{{\'START_DATE\'|translate}}" required class="form-control"><span ng-click="start.open=true" class="pxs ti-calendar pointer"></span></p><i class="ti-arrow-right blue pll prl"></i><p class="input-group flex-center"><input type="text" name="end" ng-model="end.date" uib-datepicker-popup="{{format}}" datepicker-options="options" is-open="end.open" placeholder="{{\'END_DATE\'|translate}}" required class="form-control"><span ng-click="end.open=true" class="pxs ti-calendar pointer"></span></p></div></div><div class="flex-1"></div></div></div><div class="modal-footer"><button type="button" translate="CLOSE" ng-click="$dismiss()" class="button-muted mrm"></button><button type="submit" ui-ladda="busy" ladda-translate="EXPORT" data-style="expand-left" ng-show="history == null || canTriggerDownload" ng-disabled="exportForm.$invalid || start.date &gt; end.date" class="btn button-primary"></button><download-button ng-hide="history == null || canTriggerDownload" filename="{{formatFilename()}}" content="history" class="btn button-success"></download-button></div></form>'),$templateCache.put("partials/faq.jade",'<div data-preflight-tag="FAQ" class="faq flex-column width-100 flex-center"><div class="header-bar"><h4 translate="FAQ_FULL" class="mvn em-300"></h4></div><div class="flex-column width-100"><faq-question ng-repeat="q in questions" question="q" on-toggle="toggle(q)"></faq-question></div><div class="flex-column flex-center width-30 mbvl mtm"><h3> <small translate="NEED_MORE_HELP"></small></h3><a href="https://blockchain.zendesk.com/" target="_blank" translate="VISIT_SUPPORT" rel="noopener noreferrer" class="button-primary width-60"></a></div></div>'),$templateCache.put("partials/first-login-modal.jade",'<div data-preflight-tag="FirstLogin" class="modal-body flex"><img src="img/rocket-fc91069f5d2de917f6acf0eac601e26fad49676f.gif" class="rocket-gif"><div class="flex-column flex-between rocket-text flex-1 plvl"><div class="flex-column"><img src="img/blocket-0e3347097571c021717e4ca7bf0d8c5c224a19bb.png" class="mbl"><p translate="THANK_YOU_FOR_JOINING" class="mbl type-h4 em-300"></p><p class="mbl type-h5 width-100 em-300"><span translate="FIRST_LOGIN_TEXT_1"></span>&nbsp;<a ui-sref="wallet.common.security-center" class="security-red"><i class="bc-icon-security"></i>&nbsp;<span translate="SECURITY_CENTER"></span>&nbsp;</a><span translate="FIRST_LOGIN_TEXT_2"></span></p></div><button ng-click="$close()" translate="FIRST_LOGIN_ACTION" class="button-primary mtl"></button></div></div>'),$templateCache.put("partials/help.jade",'<div data-preflight-tag="LoginHelp"><header><hgroup><div class="flex-between flex-center flex-wrap"><h2 translate="LOGIN_HELP" class="em-300 mtn"></h2></div><p translate="LOGIN_HELP_TEXT" class="em-300"></p></hgroup></header><div class="flex-column"><ul class="pln"><li class="border-bottom-light pvm flex-between flex-center"><div class="flex-column flex-2 prm"><h5 translate="LOST_WALLET_ID" class="blue em-300"></h5><p translate="LOST_ID_DESC" class="em-400"></p></div><div class="flex-1 flex-end"><a translate="REMIND_ME" ui-sref="public.reminder" class="button-default button-nowrap"></a></div></li><li class="border-bottom-light pvm flex-between flex-center"><div class="flex-column flex-2 prm"><h5 translate="LOST_WALLET_PWD" class="blue em-300"></h5><p translate="LOST_PWD_DESC" class="em-400"></p></div><div class="flex-1 flex-end"><a translate="RECOVER_FUNDS" ui-sref="public.recover" class="button-default button-nowrap"></a></div></li><li class="border-bottom-light pvm flex-between flex-center"><div class="flex-column flex-2 prm"><h5 translate="LOST_2FA" class="blue em-300"></h5><p translate="LOST_2FA_DESC" class="em-400"></p></div><div class="flex-1 flex-end"><a translate="RESET_2FA" ui-sref="public.reset-two-factor" class="button-default button-nowrap"></a></div></li></ul><div class="flex-between"><div class="flex-start"><a ui-sref="public.login-no-uid" translate="GO_BACK" class="button-muted mtm"></a></div><div class="flex-end"><a href="https://blockchain.zendesk.com" translate="CONTACT_SUPPORT" target="_blank" rel="noopener noreferrer" class="button-muted mtm"></a></div></div></div></div>'),$templateCache.put("partials/home.jade",'<blocket-loading></blocket-loading><div data-preflight-tag="Home" class="home"><div class="flex flex-wrap mtl"><activity-feed data-preflight-tag="ActivityFeed"></activity-feed><div class="col-md-6 col-sm-12 col-xs-12 col-home flex-column"><div ng-show="activeLegacyAddresses().length || activeAccounts().length &gt; 1" class="section mbvl"><h5 translate="BALANCES" class="mtn type-h5 em-400 mbl"></h5><ul class="pln account-balances"><li ng-repeat="account in activeAccounts()" class="flex-between border-bottom-light"><span class="em-500">{{::account.label}}</span><fiat-or-btc btc="account.balance"></fiat-or-btc></li><li ng-show="activeLegacyAddresses().length &gt; 5" class="flex-between border-bottom-light mid-grey"><span translate="IMPORTED_ADDRESSES" class="em-500"></span><fiat-or-btc btc="getLegacyTotal()"></fiat-or-btc></li><ul ng-show="activeLegacyAddresses().length &lt;= 5"><li ng-repeat="address in activeLegacyAddresses()" class="flex-between border-bottom-light mid-grey"><span class="em-400">{{address.label ? address.label : address.address}}</span><fiat-or-btc btc="address.balance"></fiat-or-btc></li></ul><li class="flex-between border-bottom-light basic-grey em-500"><span>Total</span><fiat-or-btc btc="getTotal()"></fiat-or-btc></li></ul></div><div class="section"><did-you-know data-preflight-tag="DidYouKnow"></did-you-know></div></div></div></div>'),$templateCache.put("partials/large-tx.jade",'<div translate-namespace="LARGE_TX" data-preflight-tag="LargeTxWarning"><div class="modal-header"><h3 translate=".TITLE" class="mas"></h3></div><div class="modal-body"><div class="flex-column"><div class="mam"><p translate=".BODY_1" class="man em-900"></p><p translate=".BODY_2" class="man"></p></div><div class="flex-row flex-around blue em-300 mtl mbl width-100"><span class="line-split mlm"></span><div class="flex-column flex-center flex-1"><h2 class="em-300 mts">{{::multiplier}}x</h2><span translate=".NORMAL_SIZE"></span></div><span class="line-split mlm mrm"></span><div class="flex-column flex-center flex-1"><h2 class="em-300 mts"><fiat btc="::recommendedFee"></fiat></h2><span translate=".RECOMMENDED_FEE"> </span></div><span class="line-split mrm"></span></div></div></div><div class="modal-footer"><button translate="GO_BACK" ng-click="$dismiss(\'cancelled\')" class="button-muted mrm"></button><button translate=".ACCEPT_FEE" ng-click="$close(recommendedFee)" class="button-primary initial-text"></button></div></div>'),$templateCache.put("partials/login.jade",'<div id="login" data-preflight-tag="Login"><header><hgroup><div class="flex-between flex-center flex-wrap"><h2 ng-hide="didLogout" translate="WELCOME_BACK" class="em-300 mtn"></h2><h2 ng-show="didLogout" translate="LOGGED_OUT" class="em-300 mtn"></h2><span class="register mbm"><span translate="OR"></span>&nbsp;<a ui-sref="public.signup" translate="CLICK_HERE_TO_CREATE_WALLET" class="em-300"></a></span></div><p translate="LOGIN_BELOW" class="em-300"></p></hgroup></header><!-- GUID & Password fields--><form name="loginForm" ng-submit="login()" role="form" autocomplete="off" novalidate class="ptl form-horizontal clearfix"><browser-detection result="browser"></browser-detection><fieldset ng-disabled="browser.disabled || status.busy"><div ng-class="{\'has-error\': errors.uid}" class="form-group"><label translate="UID" for="UID_input" class="em-500"></label><div><input id="UID_input" type="text" ng-model="uid" name="UID_input" focus-when="!uidAvailable" required class="form-control"><span ng-show="errors.uid" ui-sref="public.reminder" translate="{{ errors.uid }}" class="help-block"></span><span translate="FIND_GUID_EXPLAIN" class="help-block info hidden-xs"></span></div></div><div ng-class="{\'has-error\': errors.password}" class="form-group"><label translate="PASSWORD" for="pass_input" class="em-500"></label><div><input id="pass_input" type="password" name="pass_input" ng-model="password" focus-when="uidAvailable" required class="form-control"><span translate="{{ errors.password }}" class="help-block"></span></div></div><div ng-show="settings.needs2FA" ng-class="{\'has-error\': errors.twoFactor || settings.twoFactorMethod == 3}" class="form-group"><label class="em-500"><span translate="YUBI_CODE" ng-show="settings.twoFactorMethod == 1"></span><span translate="EMAIL_CODE" ng-show="settings.twoFactorMethod == 2"></span><span translate="2FA_NOT_SUPPORTED" ng-show="settings.twoFactorMethod == 3"></span><span translate="GOOGLE_AUTH_CODE" ng-show="settings.twoFactorMethod == 4"></span><span translate="SMS_CODE" ng-show="settings.twoFactorMethod == 5"></span></label><div><input type="text" ng-model="twoFactorCode" ng-disabled="didEnterCorrect2FA || settings.twoFactorMethod == 3" ng-required="settings.needs2FA" class="form-control"><span translate="{{ errors.twoFactor }}" class="help-block"></span><p ng-show="settings.twoFactorMethod == 5" class="form-control-static"><img ng-show="status.resending" src="img/spinner-806ea8a06eb29c46cd9526449bae2fe4f5bb3f32.gif"><a ng-click="resend()" ng-hide="status.resending" translate="RESEND"> </a></p></div></div><div class="mtl flex-center flex-end"><button type="submit" ui-ladda="status.busy" data-style="expand-left" ladda-translate="SIGNIN" ng-disabled="loginForm.$invalid" class="button-primary"></button></div></fieldset></form><!-- Wallet Recovery--><div class="ptl flex-end"><div ng-hide="didLogout" class="flex-row"><div translate="HAVING_TROUBLE" class="em-300 mbm"></div><span ui-sref="public.help" translate="VIEW_OPTIONS" class="pointer em-300 blue mls"></span></div></div></div>'),$templateCache.put("partials/logout.jade",'<div data-preflight-tag="Logout" ng-hide="deauthorized"><header><hgroup><div class="flex-between flex-center flex-wrap"><h3 translate="DEAUTH_BROWSER" class="em-300 mtn"></h3><span ng-show="timeToRedirect &lt;= 5 &amp;&amp; timeToRedirect &gt;= 0" translate="PENDING_REFRESH" translate-values="{time:timeToRedirect}" class="ellipsis"></span></div></hgroup></header><div class="flex-column mtl"><div class="flex-column flex-between flex-center"><div class="flex-column flex-2 pbm"><p translate="DEAUTH_EXPLAIN" class="em-300 type-h5"></p></div><div class="flex-1 flex-center flex-column"><button ng-click="deauth()" ng-disabled="deauthorizing" translate="DEAUTHORIZE" class="button-success button-nowrap"></button><span class="mtl"><a ui-sref="public.login-no-uid" translate="CONTINUE_TO_LOGIN" class="em-300"></a></span></div></div></div></div><div ng-show="deauthorized" class="flex-center flex-justify flex-column"><div class="level-complete flex-center flex-justify mtl"><i class="ti-check bright-green"></i></div><h4 translate="SUCCESS" class="em-300 mtl"></h4><p translate="DEAUTH_SUCCESS" class="em-300"></p></div>'),$templateCache.put("partials/lost-guid.jade",'<div data-preflight-tag="RemindMe" class="pos-rel"><header class="flex-center flex-between"><div class="flex-column"><h2 translate="REMIND_ME" class="em-300 mtn"></h2><p translate="REMIND_ME_HELP"></p></div></header><form name="form" autocomplete="off" ng-show="currentStep === 1" ng-submit="sendReminder()" novalidate class="ptl form-horizontal"><div ng-class="{\'has-error\': form.email.$invalid &amp;&amp; form.email.$touched}" class="form-group"><label translate="EMAIL"></label><input type="email" name="email" ng-model="fields.email" required class="form-control"><span ng-show="form.email.$touched" class="help-block"><span ng-show="form.email.$error.required" translate="EMAIL_ADDRESS_REQUIRED"></span><span ng-show="form.email.$error.email" translate="EMAIL_ADDRESS_INVALID"></span></span></div><div ng-class="{\'has-error\': form.captcha.$invalid &amp;&amp; form.captcha.$touched}" class="form-group"><label translate="CAPTCHA"></label><p translate="CAPTCHA_EXPAIN"></p><img ng-src="{{captchaSrc}}" class="mbl"><input type="text" name="captcha" ng-model="fields.captcha" required class="form-control"></div><div class="flex-center flex-end mvl"><button type="button" ng-hide="working" ui-sref="public.help" translate="GO_BACK" class="button-muted mrm"></button><button type="submit" ui-ladda="working" data-style="expand-left" ng-disabled="form.$invalid" ladda-translate="CONTINUE" class="button-success"></button></div></form><div ng-show="currentStep === 2" class="flex-center flex-justify flex-column mtl"><div class="level-complete flex-center flex-justify"><i class="ti-check bright-green"></i></div><h4 translate="SUCCESS" class="em-300 mtl"></h4><p translate="REMIND_SUCCESS" class="em-300"></p><div class="flex-end"><button type="button" ui-sref="public.login-no-uid" translate="CONTINUE_TO_LOGIN" class="button-muted mrm"></button></div></div></div>'),$templateCache.put("partials/main-balance.jade",'<div ng-click="toggleDisplayCurrency()" ng-show="status.didUpgradeToHd" class="heavy pointer flex-column flex-align-end right-align pointer center-mobile"><span ng-show="getTotal() == null"><h3><img ng-show="balance == null" src="img/spinner-806ea8a06eb29c46cd9526449bae2fe4f5bb3f32.gif"></h3></span><span ng-show="getTotal() != null"><span ng-hide="isBitCurrency(settings.displayCurrency)"><h1 class="mvn em-600 pos-rel"><fiat btc="getTotal()"></fiat></h1></span><span ng-show="isBitCurrency(settings.displayCurrency)"><h1 class="mvn em-600 pos-rel">{{ getTotal() | toBitCurrency:settings.btcCurrency }}</h1></span><p class="mvn type-h4 em-300 align-offset pos-rel"><fiat btc="getTotal()" ng-show="isBitCurrency(settings.displayCurrency)"></fiat><span ng-hide="isBitCurrency(settings.displayCurrency)"><span>{{ getTotal() | toBitCurrency:settings.btcCurrency }}</span></span></p></span></div>'),$templateCache.put("partials/modal-confirm.jade",'<div translate-namespace="{{::namespace}}" data-preflight-tag="Confirm" class="modal-body"><h4><i ng-class="{\'{{iconClass}}\': iconClass, \'ti-alert\': !iconClass, success: success}" class="security-red mrs"></i><span translate=".TITLE"></span></h4><p translate=".BODY" translate-values="::values" class="em-300 ptm"></p><ul ng-if="props" class="em-300"><li ng-repeat="(prop, val) in props track by $index" class="pts"><span translate="{{::prop}}"></span>:&nbsp;<b ng-bind="::val"></b></li></ul></div><div class="modal-footer"><button ng-click="$dismiss(\'cancelled\')" translate="{{::cancel || \'CANCEL\'}}" class="button-muted mrm"></button><button ng-class="{\'button-primary\': friendly, \'button-success\': success, \'button-danger\': !friendly &amp;&amp; !success}" ng-click="$close()" translate="{{::action || \'OK\'}}" class="btn"></button></div>'),$templateCache.put("partials/modal-notification.jade",'<div class="modal-header flex-column flex-center"><div class="flex-center success pam"><i class="h3 mrm {{::notification.icon}}"></i><h3 class="em-300">{{::notification.heading}}</h3></div><p class="mw">{{::notification.msg}}</p></div><div ng-click="ok()" class="modal-body bg-success flex-justify flex-center pointer pal"><h5 translate="OK" class="white h3 em-200 pbm"></h5></div>'),$templateCache.put("partials/modal-prompt.jade",'<div data-preflight-tag="Prompt" class="modal-header"><h3 translate="INPUT_REQUIRED"></h3></div><div class="modal-body"><form role="form" name="form" ng-submit="$close(promptInput)" autocomplete="off" novalidate><p translate="{{::message}}"></p><div class="form-group"><input type="{{::type}}" ng-model="promptInput" name="promptInput" ng-model-options="{debounce: 250}" required autofocus class="form-control"></div></form></div><div class="modal-footer pal flex-end"><button translate="CANCEL" ng-click="$dismiss(\'cancelled\')" class="button-muted mrm"></button><button translate="SUBMIT" ng-click="$close(promptInput)" ng-disabled="form.$invalid" class="btn button-primary"></button></div>'),$templateCache.put("partials/modal-saving.jade",'<div class="modal-body"><h4><i class="security-red mrs ti-alert"></i><span translate="SAVING"></span></h4><p translate="SAVING_DESC" class="em-300 ptm"></p></div>'),$templateCache.put("partials/navigation.jade",'<div role="navigation" data-preflight-tag="WalletHeader" class="bc-header"><div class="container-fluid"><div class="navbar-header flex-between flex-center"><div class="flex-center"><button type="button" ng-init="navCollapsed = true" ng-click="toggleMenu()" class="navbar-toggle mvn"><span class="sr-only">Toggle navigation</span><span class="ti-menu white"></span></button><a ui-sref="wallet.common.home" class="navbar-brand"> <img id="logo" src="img/blockchain-wallet-logo-093887320bf38d2f662f22147b0e48f4aff9ae17.svg" alt="Blockchain" ng-show="getTheme().name !== \'dev\'"><img id="logo" src="img/blockchain-wallet-logo-dev-7a6ce4a39aabc82a6f7dac6c917b42ed4c6f3551.svg" alt="Blockchain" ng-show="getTheme().name === \'dev\'"></a></div><a id="wallet-nav-toggle" title="Wallet Navigation Menu" ng-click="navCollapsed = !navCollapsed"><span ng-show="navCollapsed" class="ti-angle-down white h4"></span><span ng-show="!navCollapsed" class="ti-angle-up white h4"></span></a></div><div ng-class="{\'in bg-blue\' : !navCollapsed}" ng-click="navCollapsed=true" class="navbar-collapse collapse"><ul ng-show="status.isLoggedIn" class="nav navbar-nav navbar-right"><li ng-hide="isSubscribed" class="item hidden-xs"><button translate="SUBSCRIBE" ng-click="subscribe()" class="button-transparent button-border button"></button></li><li ng-show="settings.btcCurrency" class="item"><a href="https://markets.blockchain.info/" target="_blank" rel="noopener noreferrer" class="flex-important flex-column"><span>1 {{ settings.btcCurrency.code }} =&nbsp;<fiat btc="settings.btcCurrency.conversion"></fiat></span></a></li><li uib-dropdown class="dropdown item hidden-xs"><a href="#" data-toggle="uib-dropdown" role="button" aria-expanded="false" uib-dropdown-toggle class="uib-dropdown-toggle"><span translate="EXPLORE"></span><i class="ti-angle-down mlm"></i></a><ul role="menu" class="uib-dropdown-menu dropdown-menu"><li><a href="{{rootURL}}" translate="HOME" target="_blank" rel="noopener noreferrer"></a></li><li><a href="{{rootURL}}charts" translate="CHARTS" target="_blank" rel="noopener noreferrer"></a></li><li><a href="{{rootURL}}stats" translate="STATS" target="_blank" rel="noopener noreferrer"></a></li><li><a href="https://markets.blockchain.info/" translate="MARKETS" target="_blank" rel="noopener noreferrer"></a></li><li><a href="{{rootURL}}api" translate="API" target="_blank" rel="noopener noreferrer"></a></li></ul></li><li class="item visible-xs"><a href="{{rootURL}}" translate="HOME" target="_blank" rel="noopener noreferrer"></a></li><li class="item visible-xs"><a href="{{rootURL}}charts" translate="CHARTS" target="_blank" rel="noopener noreferrer"></a></li><li class="item visible-xs"><a href="{{rootURL}}stats" translate="STATS" target="_blank" rel="noopener noreferrer"></a></li><li class="item visible-xs"><a href="{{rootURL}}api" translate="API" target="_blank" rel="noopener noreferrer"></a></li><li class="item visible-xs"><a href="https://markets.blockchain.info/" translate="MARKETS" target="_blank" rel="noopener noreferrer"></a></li><li uib-dropdown ng-if="status.didUpgradeToHd" ng-click="viewedWhatsNew()" class="whats-new item hidden-xs"><a uib-popover-template="::whatsNewTemplate" popover-class="whats-new-popover" popover-placement="bottom" popover-title="{{:: (\'WHATS_NEW\' | translate) + \'?\' }}" popover-trigger="outsideClick"><i class="ti-gift"></i><span ng-show="nLatestFeats() &gt; 0" class="whats-new-icon"><span>{{ nLatestFeats() }}</span></span></a></li><li class="item"><a ng-click="refresh()" ng-class="{\'rotating\': refreshing}" class="refresh"><img src="img/refresh-cf3ee378cf5ca20da155bfe9fbe5e37fe7cc5d38.svg" ng-show="getTheme().name !== \'dev\'"><img src="img/refresh-dev-e9561f9d3dd68fccdc1d62374cf5d0ccd35467d3.svg" ng-show="getTheme().name === \'dev\'"></a></li><li class="item"><a ng-click="logout()" translate="SIGNOUT"></a></li></ul></div></div></div>'),$templateCache.put("partials/open-link.jade",""),$templateCache.put("partials/public.jade",'<div class="login-pg overflow-scroll flex-justify flex-center"><public-header i18n-loaded="i18nLoaded"></public-header><div class="flex-center flex-justify flex-column login-box-container"><div class="flex flex-justify"><div class="alert-in-app"><alerts></alerts></div></div><div ui-view="contents" class="login-box mhs"></div></div><div ng-show="versionFrontend &amp;&amp; versionMyWallet" class="versions"><a href="https://github.com/blockchain/My-Wallet-V3-Frontend/releases" target="_blank" rel="noopener noreferrer">{{ versionFrontend }} &nbsp;</a><a href="https://github.com/blockchain/My-Wallet-V3/releases" target="_blank" rel="noopener noreferrer">(MyWallet v{{ versionMyWallet }})</a></div></div>'),$templateCache.put("partials/recover-funds.jade",'<div ng-switch="currentStep" data-preflight-tag="RecoverFunds" class="recover-funds pos-rel"><p ng-switch-when="1" translate="STEP_1_RECOVER" class="type-xs em-500 step pos-abs"></p><p ng-switch-when="2" translate="STEP_2_RECOVER" class="type-xs em-500 step pos-abs"></p><header class="flex-center flex-between"><div class="flex-column"><h2 translate="RECOVER_FUNDS" class="em-300 mtn"></h2><p translate="RECOVER_BTC_LOST"></p></div></header><form name="passphraseForm" ng-submit="nextStep()" autocomplete="off" ng-switch-when="1" novalidate class="ptl form-horizontal"><fieldset ng-disabled="browser.disabled || working"><browser-detection result="browser"></browser-detection><div class="security-red mbl em-400 flex-center"><i class="ti-hand-stop mrm h3 mvn hidden-xs"></i><span translate="RECOVER_FUNDS_WARNING"></span></div><div ng-class="{\'has-error\': passphraseForm.mnemonic.$error.isValid &amp;&amp; isValidMnemonicLength}" class="form-group"><label translate="YOUR_REC_PASS"></label><p translate="YOUR_REC_PASS_EXPLAIN"></p><input type="text" name="mnemonic" ng-keyup="getMnemonicLength()" ng-model="fields.mnemonic" is-valid="isValidMnemonic(fields.mnemonic)" required class="form-control"></div><div class="flex-center flex-end"><button type="button" ui-sref="public.help" translate="GO_BACK" class="button-muted mrm"></button><button type="submit" ui-ladda="working" data-style="expand-left" ng-disabled="passphraseForm.$invalid" ladda-translate="CONTINUE" class="button-primary"></button></div></fieldset></form><form name="recoveryForm" ng-submit="performImport()" ng-switch-when="2" class="rf-step-2 ptl form-horizontal"><fieldset ng-disabled="browser.disabled || working"><div ng-class="{\'has-error\': recoveryForm.email.$invalid &amp;&amp; recoveryForm.email.$touched}" class="form-group"><label translate="EMAIL" class="em-500"></label><input type="email" name="email" ng-model="fields.email" autofocus required class="form-control"><span class="help-block"> <span class="help-block"><div ng-show="recoveryForm.email.$touched"><p ng-show="recoveryForm.email.$error.required" translate="EMAIL_ADDRESS_REQUIRED"></p><p ng-show="recoveryForm.email.$error.email" translate="EMAIL_ADDRESS_INVALID"></p></div></span></span></div><div ng-class="{\'has-error\': recoveryForm.password.$error.minEntropy &amp;&amp; recoveryForm.password.$touched}" class="form-group"><label translate="NEW_PASSWORD" class="em-500"></label><input type="password" name="password" ng-model="fields.password" ng-change="fields.confirmation = \'\'" ng-maxlength="255" min-entropy="25" required class="form-control"><password-entropy password="fields.password" class="help-block"></password-entropy><span class="help-block"><div ng-show="recoveryForm.password.$touched"><p ng-show="recoveryForm.password.$error.minEntropy &amp;&amp; fields.password != undefined" translate="TOO_WEAK"></p><p ng-show="recoveryForm.password.$error.maxlength" translate="TOO_LONG"></p></div></span></div><div ng-class="{\'has-error\': recoveryForm.confirmation.$error.isValid &amp;&amp; recoveryForm.confirmation.$touched}" class="form-group"><label translate="CONFIRM_PASSWORD" class="em-500"></label><input type="password" name="confirmation" ng-model="fields.confirmation" is-valid="fields.confirmation === fields.password" required class="form-control"><span class="help-block"> <div ng-show="recoveryForm.confirmation.$touched"><p ng-show="recoveryForm.confirmation.$error.isValid" translate="NO_MATCH"></p></div></span></div><div class="flex-center flex-end mtm mbl"><input id="agreement_accept" name="agreement" type="checkbox" ng-model="fields.acceptedAgreement" required class="pull-right"><label translate="ACCEPT_TOS" class="em-300 mbn mls right-align"></label></div><div class="flex-center flex-end mvl"><button type="button" ng-click="goBack()" translate="GO_BACK" class="button-muted mrm"></button><button type="submit" ladda-translate="RECOVER_FUNDS" ng-disabled="recoveryForm.$invalid" data-style="expand-right" ui-ladda="working" class="button-success"></button></div></fieldset></form><div ng-switch-when="3" class="flex-center flex-justify flex-column"><div class="level-complete flex-center flex-justify mtl"><i class="ti-check bright-green"></i></div><h4 translate="RESTORE_SUCCESSFUL" class="em-300 mtl"></h4><p translate="REDIRECTING" class="em-300"></p></div></div>'),$templateCache.put("partials/request.jade",'<div data-preflight-tag="Request" class="modal-header flex-column bc-modal-header"><div class="flex-center"><img src="img/arrow-down-df35ec62abe7dbe1141734fba7b95251bbb5e47e.png"><h3 translate="RECEIVE_BITCOIN"></h3></div><div ng-hide="focus || fields.to.type === \'Imported Addresses\'"><h5 translate="RECEIVE_BITCOIN_MESSAGE" class="display-inline-block"></h5><helper-button content="WHY_HD" linktext="LEARN_MORE" link="https://support.blockchain.com/hc/en-us/articles/210353663-Why-is-my-bitcoin-address-changing-"></helper-button></div><div ng-show="fields.to.type === \'Imported Addresses\'"><h5><span translate="RECEIVE_BITCOIN_MESSAGE_LEGACY_1"></span>&nbsp;<a translate="CLICK_HERE" ng-click="useAccount()"></a></h5></div></div><div id="receive" ng-class="{\'advanced\': advanced, \'sm\': numberOfActiveAccountsAndLegacyAddresses() &lt;= 1}" class="fade modal-body"><form role="form" name="requestForm" novalidate class="form-horizontal ph-form"><div ng-show="numberOfActiveAccountsAndLegacyAddresses() &gt; 1" ng-class="{\'has-warning\': fields.to.isWatchOnly}" class="form-group row pbm flex-justify"><label translate="RECEIVE_TO" class="flex-start pts"></label><div ng-show="focus" class="flex-center flex-justify auto"><span class="type-lbl">{{ fields.to.address }}</span></div><div ng-hide="focus" class="flex-1"><ui-select ng-model="fields.to" ng-disabled="paymentRequest.amount &gt; 0 || paymentRequest.label" tagging><ui-select-match placeholder="{{::\'SEARCH\' | translate}}..."><label-origin origin="$select.selected"></label-origin></ui-select-match><ui-select-choices repeat="destination in destinations | filter: {label:$select.search} | limitTo:destinationLimit" group-by="\'type\'"><span in-view="$last &amp;&amp; destination.type===\'Imported Addresses\' &amp;&amp; increaseLimit()"><label-origin origin="::destination" highlight="$select.search"></label-origin></span></ui-select-choices></ui-select><span ng-show="fields.to.isWatchOnly" translate="WATCH_ONLY_REQUEST_WARN" class="help-block"></span></div></div><div ng-show="paymentRequest &amp;&amp; paymentRequest.paid &gt; 0 &amp;&amp; paymentRequest.paid != fields.amount" class="form-group row"><label translate="PAID" class="col-sm-3 control-label"></label><div class="flex-1"><p class="form-control-static">{{ paymentRequest.paid / 100000000.0 }}  </p></div></div><div ng-class="{\'mtl\': !advanced &amp;&amp; numberOfActiveAccountsAndLegacyAddresses() &lt;= 1}" class="receive-container"><div ng-show="advanced &amp;&amp; fields.to.index != undefined" class="column flex-justify"><div ng-class="{\'has-error\': requestForm.amount.$error.isValidAmount &amp;&amp; requestForm.amount.$touched}" class="form-group row pbm flex-justify flex-center amount"><label translate="AMOUNT:" class="mbn pts"></label><div class="flex-row"><div class="flex-center flex-2 border-bottom"><input type="number" ng-model="fields.amount" name="amount" transform-currency="settings.btcCurrency" placeholder="0" min="1" max="2100000000000000" class="form-control pln pbn no-border"><span class="lh1">{{ settings.btcCurrency.code }}</span></div><i class="ti-arrows-horizontal h4 aaa center flex-1"></i><div class="flex-center border-bottom flex-2"><input type="number" ng-model="fields.amount" name="amountFiat" transform-currency="settings.currency" placeholder="0" min="1" max="2100000000000000" class="form-control pln pbn no-border"><span class="lh1">{{ settings.currency.code }}</span></div></div></div><div ng-class="{\'has-error\': !requestForm.label.$valid}" class="form-group row pbm flex-justify flex-center description"><label translate="DESCRIPTION:" class="mbn pts"></label><div><div class="flex-center border-bottom"><input type="text" ng-model="fields.label" name="label" class="form-control no-border pln pbn"><helper-button ng-model="fields" content="REQUEST_BITCOIN_STEP2B" values="{walletLabel: fields.to.label}"></helper-button></div><span ng-show="requestForm.label.$error.characters" translate="INVALID_CHARACTERS_FOR_LABEL" class="help-block"> </span><span ng-show="requestForm.label.$error.gap" translate="LABEL_ERROR_BIP_44_GAP" class="help-block"> </span></div></div></div><div ng-show="advanced &amp;&amp; fields.to.index != undefined" class="flex-center flex-justify pbl"><span class="ti-arrow-down center"></span></div><div ng-if="paymentRequestURL()" class="payment-url flex-around flex-row"><div ng-class="{\'max-width\': advanced}" uib-tooltip="{{\'COPY_HELPER\' | translate}}" tooltip-append-to-body="true" class="flex-column receive-address flex-center"><h4 translate="COPY_AND_SHARE" class="mbl"></h4><span ng-show="fields.amount || fields.label &amp;&amp; advanced" ng-class="{\'bg-light-blue\': showPaymentRequestURL}" ng-click="showPaymentRequestURL = !showPaymentRequestURL" class="flex-align-self-end phs pvs pointer"><i class="ti-link"></i></span><p class="form-control-static bitcoin-address"><img src="img/spinner-806ea8a06eb29c46cd9526449bae2fe4f5bb3f32.gif" ng-hide="status.didInitializeHD"><span ng-show="status.didInitializeHD" single-click-select> <button class="clipboard btn button-default"></button><span ng-hide="(fields.amount || fields.label) &amp;&amp; showPaymentRequestURL">{{ paymentRequestAddress() }}</span><span ng-show="(fields.amount || fields.label) &amp;&amp; showPaymentRequestURL">{{ paymentRequestURL() }}</span></span></p></div><span translate="OR" class="or flex-center mrl mll"></span><div uib-tooltip="{{\'QR_HELPER\' | translate}}" tooltip-trigger="mouseenter" tooltip-append-to-body="true" class="receive-code flex-column flex-center flex-around"><h4 translate="SCAN"></h4><p ng-hide="status.didInitializeHD"><img src="img/spinner-806ea8a06eb29c46cd9526449bae2fe4f5bb3f32.gif"></p><span ng-show="status.didInitializeHD"><qr text="paymentRequestURL()" size="100" correction-level="\'M\'" image="true"></qr></span></div></div></div></form></div><LABEL_ERROR_BIP_44_GAP></LABEL_ERROR_BIP_44_GAP><div class="modal-footer flex-between flex-center pal"><div class="flex-center"><button ng-hide="advanced || fields.to.index == undefined" ng-click="advancedReceive()" translate="CUSTOMIZE" uib-tooltip="{{\'CUSTOMIZE_HELPER\' | translate}}" tooltip-append-to-body="true" class="btn button-default"></button><button ng-show="advanced" ng-click="regularReceive()" translate="BACK" class="btn button-default"></button></div><div class="flex-center flex-end"><button ng-click="done()" translate="DONE" ng-hide="advanced &amp;&amp; fields.label != \'\'" class="button-success btn"></button><a ng-click="cancel()" translate="CLOSE" ng-show="advanced &amp;&amp; fields.label != \'\'" class="dark-grey mrm"></a><button ng-click="done()" translate="SAVE" ng-show="advanced &amp;&amp; fields.label != \'\'" uib-tooltip="{{\'SAVE_HELPER\' | translate:{label: fields.to.label} }}" tooltip-append-to-body="true" class="button-success btn"></button></div></div>'),
$templateCache.put("partials/reset-two-factor-token.jade",'<div ng-show="checkingToken"><header><hgroup><div class="flex-between flex-center flex-wrap"><h2 translate="RESET_2FA_CHECKING" class="em-300 mtn"></h2></div></hgroup><hgroup><img src="img/spinner-806ea8a06eb29c46cd9526449bae2fe4f5bb3f32.gif"></hgroup></header></div>'),$templateCache.put("partials/reset-two-factor.jade",'<div ng-switch="currentStep" data-preflight-tag="Reset2FA" class="pos-rel"><header class="flex-center flex-between"><div><h2 translate="RESET_2FA" class="em-300 mtn"></h2><p translate="RESET_2FA_HELP_1" ng-switch-when="1"></p><p translate="RESET_2FA_HELP_2" ng-switch-when="1"></p></div></header><form name="form" autocomplete="off" novalidate class="ptl form-horizontal"><div ng-switch-when="1"><div ng-class="{\'has-error\': form.uid.$invalid &amp;&amp; form.uid.$touched}" class="form-group"><label translate="RESET_2FA_WALLET_IDENTIFIER"></label><input name="uid" ng-model="fields.uid" required class="form-control"><p class="help-block"><span translate="RESET_2FA_WALLET_IDENTIFIER_EXPLAIN"></span><span> </span><a ui-sref="public.reminder" translate="LOOK_IT_UP_HERE"></a><span>.</span></p></div><div ng-class="{\'has-error\': form.email.$invalid &amp;&amp; form.email.$touched}" class="form-group"><label translate="RESET_2FA_REGISTERED_EMAIL"></label><input type="email" name="email" ng-model="fields.email" placeholder="{{ \'OPTIONAL\' | translate }}" class="form-control"><p translate="RESET_2FA_REGISTERED_EMAIL_EXPLAIN" class="help-block"></p></div><div ng-class="{\'has-error\': form.newEmail.$invalid &amp;&amp; form.newEmail.$touched}" class="form-group"><label translate="RESET_2FA_NEW_EMAIL"></label><input type="email" name="newEmail" ng-model="fields.newEmail" placeholder="{{ \'OPTIONAL\' | translate }}" class="form-control"><p translate="RESET_2FA_NEW_EMAIL_EXPLAIN" class="help-block"></p></div><div ng-class="{\'has-error\': form.secret.$invalid &amp;&amp; form.secret.$touched}" class="form-group"><label translate="RESET_2FA_SECRET_PHRASE"></label><input name="secret" ng-model="fields.secret" placeholder="{{ \'OPTIONAL\' | translate }}" class="form-control"><p translate="RESET_2FA_SECRET_PHRASE_EXPLAIN" class="help-block"></p></div><div ng-class="{\'has-error\': form.message.$invalid &amp;&amp; form.message.$touched}" class="form-group"><label translate="RESET_2FA_MESSAGE"></label><textarea name="message" ng-model="fields.message" placeholder="{{ \'OPTIONAL\' | translate }}" class="form-control"></textarea><p translate="RESET_2FA_MESSAGE_EXPLAIN" class="help-block"></p></div><div ng-class="{\'has-error\': form.captcha.$invalid &amp;&amp; form.captcha.$touched}" class="form-group"><label translate="CAPTCHA"></label><p translate="CAPTCHA_EXPAIN"></p><img ng-src="{{captchaSrc}}" class="mbl"><input type="text" name="captcha" ng-model="fields.captcha" required class="form-control"></div></div><div ng-switch-when="1" class="flex-center flex-end mvl"><button type="button" ng-disabled="working" ui-sref="public.help" translate="GO_BACK" class="button-muted mrm"></button><button type="submit" ng-click="resetTwoFactor()" ng-disabled="!form.$valid || working" ui-ladda="working" data-style="expand-left" ladda-translate="CONTINUE" class="button-success"></button></div></form><div ng-switch-when="2" class="flex-center flex-justify flex-column"><div class="level-complete flex-center flex-justify"><i class="ti-check bright-green"></i></div><h4 translate="SUCCESS" class="em-300 mtl"></h4><p translate="RESET_2FA_SUCCESS" class="em-300"></p><div class="flex-end"><button type="button" ui-sref="public.login-no-uid" translate="CONTINUE_TO_LOGIN" class="button-muted mrm"></button></div></div></div>'),$templateCache.put("partials/reveal-xpub.jade",'<div data-preflight-tag="ShowXpub" class="modal-header"><h3 translate="ACCOUNT_XPUB_MODAL_TITLE"> </h3></div><div class="modal-body"><div ng-show="!showXpub" class="flex-column"><p translate="WARNING" class="security-red em-500 em-alt"></p><p translate="XPUB_WARNING" class="text"></p></div><div ng-show="showXpub" class="form-group flex-column flex-justify"><p class="text em-500">xPub:</p><p class="xpub break-word">{{::xpub}}</p></div><div ng-show="showXpub" class="form-group flex-column flex-justify"><p align="center"><qr text="::xpub" size="200" correction-level="\'M\'" image="true"></qr></p></div></div><div class="modal-footer pal flex-end flex-center"><button ng-click="close()" translate="CLOSE" class="button-muted mrm"></button><button ng-click="continue()" translate="CONTINUE" ng-hide="showXpub" class="button-primary button-md"></button></div>'),$templateCache.put("partials/second-password.jade",'<div data-preflight-tag="SecondPasswordModal" class="modal-header"><h3 translate="SECOND_PASSWORD">   </h3></div><div class="modal-body clearfix"><div class="alert-in-app"><alerts context="alerts"></alerts></div><form role="form" name="secondPassForm" ng-submit="submit()" novalidate><div ng-class="{\'has-error\': errors.amount}" class="form-group clearfix"><label translate="PASSWORD" class="col-sm-3 control-label"></label><div class="col-sm-9"><input type="password" ng-model="secondPassword" class="form-control"><span class="help-block">{{ error }}</span></div></div><div class="form-group clearfix"><div class="col-sm-12"><virtual-keyboard ng-model="secondPassword"></virtual-keyboard></div></div></form></div><div class="modal-footer pal flex-end"><button type="button" ng-click="cancel()" translate="CANCEL" ng-hide="insist" class="button-muted mrl"></button><button type="submit" ng-click="submit()" ui-ladda="busy" data-style="expand-left" ladda-translate="SUBMIT" class="button-primary"></button></div>'),$templateCache.put("partials/security-center.jade",'<div data-preflight-tag="SecurityCenter" class="security-center-ui"><section class="level level_one"><header class="flex-baseline mtl"><h2 translate="LEVEL_1" class="prm type-h5 mvn em-400"></h2><p translate="LEVEL_1_TITLE" class="text em-300 mvn"></p></header><ul class="flex flex-start pln mbn"><li class="level-header bg-light-blue flex-center flex-justify"><img src="img/security-icon-1-80b3981c5378f656e8c54c4b4be70cc6bcd6e517.png"></li><li ng-click="user.isEmailVerified || toggle(\'email\')" ng-class="{\'active\' : display.action == \'email\', \'badge-active\': user.isEmailVerified}" class="level-badge"><a><div ng-hide="user.isEmailVerified" class="level-incomplete-container"><div class="flex-center flex-justify"><img src="img/badge-verifyemail-442969927fd6b31e142ec6eb643170328b7e9c7b.png"></div><p translate="ADD_VERIFY_EMAIL"></p></div><div ng-show="user.isEmailVerified" class="level-complete-animation flex-center flex-column"><div class="flex-center flex-column"><div class="level-complete flex-center flex-justify"><i class="ti-check bright-green"></i></div></div><p translate="NICELY_DONE" class="bright-green em-300"></p></div><completed-level ng-show="user.isEmailVerified" placement="bottom" content="EMAIL_ADDRESS_TOOLTIP" img="img/badge-verifyemail-442969927fd6b31e142ec6eb643170328b7e9c7b.png" message="EMAIL_VERIFIED"></completed-level></a></li><div ng-show="display.action == \'email\'" class="badge-panel visible-xs-block"><div ng-show="display.action == \'email\' &amp;&amp; !display.editingEmail"><div class="verify-email"><p translate="PLEASE_CHECK_EMAIL" translate-values="{ email: user.email}"></p><verify-email button-class="button-success"></verify-email><p ng-hide="user.isEmailVerified"><span translate="DIDNT_RECEIVE_EMAIL"></span><span> <resend-email-confirmation></resend-email-confirmation><span translate="OR"></span></span><span><a ng-click="beginEditEmail()" translate="CHANGE"></a></span></p></div></div><div ng-show="display.action == \'email\' &amp;&amp; display.editingEmail">      <bc-async-input custom inline type="email" is-required placeholder="\'EMAIL_ADDRESS\' | translate" ng-model="user.email" on-cancel="cancelEditEmail" on-save="changeEmail" action-title="\'CHANGE\' | translate" editing="1"></bc-async-input></div></div><li ng-click="status.didConfirmRecoveryPhrase || toggle(\'securityphrase\')" ng-class="{\'active\' : display.action == \'securityphrase\', \'badge-active\': status.didConfirmRecoveryPhrase }" class="level-badge"><a><div ng-hide="status.didConfirmRecoveryPhrase" class="level-incomplete-container"><div class="flex-center flex-justify"><img src="img/badge-securityphrase-f8f85ad033efb2062efab4989d4c9e6840fc2edf.png"></div><p translate="ADD_WALLET_RECOVERY"></p></div><div ng-show="status.didConfirmRecoveryPhrase" class="level-complete-animation flex-center flex-column"><div class="flex-center flex-column"><div class="level-complete flex-center flex-justify"><i class="ti-check bright-green"></i></div></div><p translate="NICELY_DONE" class="bright-green em-300"></p></div><completed-level ng-show="status.didConfirmRecoveryPhrase" placement="bottom" content="RECOVERY_PHRASE_TOOLTIP" img="img/badge-securityphrase-f8f85ad033efb2062efab4989d4c9e6840fc2edf.png" message="PHRASE_BACKED"></completed-level></a></li><div ng-show="display.action == \'securityphrase\'" class="badge-panel visible-xs-block"><div class="flex-center"><p translate="RECOVERY_PHRASE_SECURITY_CENTER" class="flex-1 prl"></p><div class="flex-1 mll backup-phrase-actions"><confirm-recovery-phrase ng-hide="status.didConfirmRecoveryPhrase"></confirm-recovery-phrase></div></div></div><li ng-click="user.passwordHint || toggle(\'passwordhint\')" ng-class="{\'active\' : display.action == \'passwordhint\', \'badge-active\': user.passwordHint }" class="level-badge"><a><div ng-hide="user.passwordHint" class="level-incomplete-container"><div class="flex-center flex-justify"><img src="img/badge-passwordhint-10d6efd7178817a4854e5ba67a90451b93e40ae9.png"></div><p translate="ADD_PASSWORD_HINT"></p></div><div ng-show="user.passwordHint" class="level-complete-animation flex-center flex-column"><div class="flex-center flex-column"><div class="level-complete flex-center flex-justify"><i class="ti-check bright-green"></i></div></div><p translate="NICELY_DONE" class="bright-green em-300"></p></div><completed-level ng-show="user.passwordHint" placement="bottom" content="PASSWORD_HINT_TOOLTIP" img="img/badge-passwordhint-10d6efd7178817a4854e5ba67a90451b93e40ae9.png" message="HINT_STORED"></completed-level></a></li><div ng-show="display.action == \'passwordhint\'" class="badge-panel visible-xs-block"><bc-async-input custom inline placeholder="\'ADD_PASSWORD_HINT\' | translate" ng-model="user.passwordHint" on-cancel="cancelEditPasswordHint" on-save="changePasswordHint" action-title="\'CHANGE\' | translate" editing="1"><div class="flex-center"><div ng-class="{\'has-error\': !validate()}" class="form-group width-50 flex-column"><p translate="CHANGE"></p><input on-enter="save()" type="{{ type }}" ng-model="form.newValue" ng-focus="focus()" placeholder="{{ placeholder }}" ng-change="onChange()" maxlength="255" class="form-control mtm"><span class="help-block">{{::errorMessage}}</span></div><div class="width-50 mll pll"><button ng-click="save()" ng-disabled="!validate() || form.newValue == ngModel" ui-ladda="status.saving" ladda-translate="SAVE" data-style="expand-left" class="button-success"></button></div></div></bc-async-input></div></ul><div ng-show="display.action == \'email\' || display.action == \'securityphrase\' || display.action == \'passwordhint\' " class="badge-panel hidden-xs"><div ng-show="display.action == \'email\' &amp;&amp; !display.editingEmail"><div class="verify-email"><p translate="PLEASE_CHECK_EMAIL" translate-values="{ email: user.email}"></p><verify-email button-class="button-success"></verify-email><p ng-hide="user.isEmailVerified"><span translate="DIDNT_RECEIVE_EMAIL"></span>&nbsp;<span><resend-email-confirmation></resend-email-confirmation></span>&nbsp;<span translate="OR"></span>&nbsp;<span><a ng-click="beginEditEmail()" translate="CHANGE"></a></span></p></div></div><div ng-show="display.action == \'email\' &amp;&amp; display.editingEmail">      <bc-async-input custom inline type="email" is-required placeholder="\'EMAIL_ADDRESS\' | translate" ng-model="user.email" on-cancel="cancelEditEmail" on-save="changeEmail" action-title="\'CHANGE\' | translate" editing="1"></bc-async-input></div><div ng-show="display.action == \'securityphrase\'" class="flex-center">       <p translate="RECOVERY_PHRASE_SECURITY_CENTER" class="flex-1 prl"></p><div class="flex-1 mll backup-phrase-actions"><confirm-recovery-phrase button-class="button-primary" ng-hide="status.didConfirmRecoveryPhrase" prompt-backup="promptBackup"></confirm-recovery-phrase></div></div><div ng-show="display.action == \'passwordhint\'"><bc-async-input custom inline placeholder="\'ADD_PASSWORD_HINT\' | translate" ng-model="user.passwordHint" on-cancel="cancelEditPasswordHint" on-save="changePasswordHint" action-title="\'CHANGE\' | translate" editing="1"><div class="flex-center"><div ng-class="{\'has-error\': !validate()}" class="form-group width-50 flex-column"><p translate="CHANGE"></p><input on-enter="save()" type="{{ type }}" ng-model="form.newValue" ng-focus="focus()" placeholder="{{ placeholder }}" ng-change="onChange()" maxlength="255" class="form-control mtm"><span class="help-block">{{::errorMessage}}</span></div><div class="width-50 mll pll"><button ng-click="save()" ng-disabled="!validate() || form.newValue == ngModel" ui-ladda="status.saving" ladda-translate="SAVE" data-style="expand-left" class="button-success"></button></div></div></bc-async-input></div></div></section><section class="level level_two"><header class="flex-baseline mtl"><h2 translate="LEVEL_2" class="prm type-h5 mvn em-400"></h2><p translate="LEVEL_2_TITLE" class="text em-300 mvn"></p></header><ul class="flex flex-start pln mbn"><li class="level-header bg-light-blue flex-center flex-justify"><img src="img/security-icon-2-ac8fe824d43444236fd28bb6566df2749ae22b7a.png"></li><li ng-click="user.isMobileVerified || toggle(\'mobilenumber\')" ng-class="{\'active\' : display.action == \'mobilenumber\', \'badge-active\': user.isMobileVerified }" class="level-badge"><a><div ng-hide="user.isMobileVerified" class="level-incomplete-container"><div class="flex-center flex-justify"><img src="img/badge-addmobile-b9ca2adc48ecc45315254bd770a124850a079dc2.png"></div><p TRANSLATE="ADD_MOBILE_NUMBER"></p></div><div ng-show="user.isMobileVerified" class="level-complete-animation flex-center flex-column"><div class="flex-center flex-column"><div class="level-complete flex-center flex-justify"><i class="ti-check bright-green"></i></div></div><p translate="NICELY_DONE" class="bright-green em-300"></p></div><completed-level ng-show="user.isMobileVerified" content="MOBILE_NUMBER_TOOLTIP" img="img/badge-addmobile-b9ca2adc48ecc45315254bd770a124850a079dc2.png" message="MOBILE_LINKED"></completed-level></a></li><div ng-show="display.action == \'mobilenumber\'" class="badge-panel visible-xs-block"><div><configure-mobile-number on-success="mobileNumber.step = 2" on-cancel="mobileNumber.step = 1; toggle(\'mobilenumber\');" ng-show="mobileNumber.step == 1" full-width>         </configure-mobile-number><div ng-show="mobileNumber.step == 2"><h2 class="status complete hidden-xs long-input"></h2><verify-mobile-number on-success="mobileNumber.step = 0" full-width></verify-mobile-number></div></div></div><li ng-click="settings.needs2FA || toggle(\'twofactor\')" ng-class="{\'active\' : display.action == \'twofactor\', \'badge-active\': settings.needs2FA }" class="level-badge"><a><div ng-hide="settings.needs2FA" class="level-incomplete-container"><div class="flex-center flex-justify"><img src="img/badge-add2FA-1072411b3d1a381d8db4b3fbad8fc1050db0abdb.png"></div><p translate="ENABLE_TWO_STEP"></p></div><div ng-show="settings.needs2FA" class="level-complete-animation flex-center flex-column"><div class="flex-center flex-column"><div class="level-complete flex-center flex-justify"><i class="ti-check bright-green"></i></div></div><p translate="NICELY_DONE" class="bright-green em-300"></p></div><completed-level ng-show="settings.needs2FA" content="2FA_TOOLTIP" img="img/badge-add2FA-1072411b3d1a381d8db4b3fbad8fc1050db0abdb.png" message="TWO_STEP_ENABLED"></completed-level></a></li><div ng-show="display.action == \'twofactor\'" class="badge-panel visible-xs-block">    <div class="flex-center"><p translate="SC_CONFIGURE_2FA" class="flex-1 prl"></p><div class="flex-1 mll"><a ng-click="changeTwoFactor()" translate="CONFIGURE_2FA" class="button-primary"></a></div></div></div></ul><div ng-show="display.action == \'mobilenumber\' || display.action == \'twofactor\'" class="badge-panel hidden-xs"><div ng-show="display.action == \'mobilenumber\'"><configure-mobile-number on-success="mobileNumber.step = 2" on-cancel="mobileNumber.step = 1; toggle(\'mobilenumber\');" ng-show="mobileNumber.step == 1" full-width>         </configure-mobile-number><div ng-show="mobileNumber.step == 2"><h2 class="status complete hidden-xs long-input"></h2><verify-mobile-number on-success="mobileNumber.step = 0" full-width></verify-mobile-number></div></div><div ng-show="display.action == \'twofactor\'" class="flex-center">    <p translate="SC_CONFIGURE_2FA" class="flex-1 prl"></p><div class="flex-1 mll"><a ng-click="changeTwoFactor()" translate="CONFIGURE_2FA" class="button-primary"></a></div></div></div></section><section class="level level_three"><header class="flex-baseline mtl"><h2 translate="LEVEL_3" class="prm type-h5 mvn em-400"></h2><p translate="LEVEL_3_TITLE" class="text em-300 mvn"></p></header><ul class="flex flex-start pln mbn"><li class="level-header bg-light-blue flex-center flex-justify"><img src="img/security-icon-3-bfa202b8341638b0d53ddb8c5229843abb995676.png"></li><li ng-click="settings.blockTOR || toggle(\'blocktor\')" ng-class="{\'active\' : display.action == \'blocktor\', \'badge-active\': settings.blockTOR }" class="level-badge"><a><div ng-hide="settings.blockTOR" class="level-incomplete-container"><div class="flex-center flex-justify"><img src="img/badge-blockTOR-dc07f3985af39fd2f7922feaf0edc8ebf7cb5188.png"></div><p TRANSLATE="ADD_BLOCK_TOR"></p></div><div ng-show="settings.blockTOR" class="level-complete-animation flex-center flex-column"><div class="flex-center flex-column"><div class="level-complete flex-center flex-justify"><i class="ti-check bright-green"></i></div></div><p translate="NICELY_DONE" class="bright-green em-300"></p></div><completed-level ng-show="settings.blockTOR" content="BLOCK_TOR_TOOLTIP" img="img/badge-blockTOR-dc07f3985af39fd2f7922feaf0edc8ebf7cb5188.png" message="TOR_BLOCKED"></completed-level></a><div ng-show="display.action == \'blocktor\'" class="badge-panel visible-xs-block"><div ng-show="display.action == \'blocktor\'" class="flex-center"><p TRANSLATE="BLOCK_TOR_EXPLAIN" class="flex-1"></p><div class="mll pll block-tor-actions"><tor button-class="button-success"></tor></div></div></div></li></ul><div ng-show="display.action == \'blocktor\'" class="badge-panel hidden-xs"><div ng-show="display.action == \'blocktor\'" class="flex-center"><p TRANSLATE="BLOCK_TOR_EXPLAIN" class="flex-1"></p><div class="mll pll block-tor-actions"><tor button-class="button-success"></tor></div></div></div></section></div>'),$templateCache.put("partials/send.jade",'<div data-preflight-tag="Send" class="modal-header flex-column bc-modal-header"><div class="flex-center"><img src="img/arrow-up-a8fb227ee2ff94dc09758f4589259526f0d05137.png"><h3 ng-show="!confirmationStep &amp;&amp; !advanced" translate="SEND_BITCOIN"></h3><h3 ng-show="advanced &amp;&amp; !confirmationStep" translate="ADVANCED_SEND"></h3><h3 ng-show="confirmationStep" translate="CONFIRM"></h3></div><h5 ng-show="!confirmationStep &amp;&amp; !advanced" translate="SEND_STEP_1"></h5><h5 ng-show="confirmationStep" translate="SEND_STEP_2"></h5><h5 ng-show="advanced &amp;&amp; !confirmationStep" translate="SEND_STEP_1_ADVANCED"></h5><p class="step"><span translate="STEP"></span> <span>{{ confirmationStep ? 2 : 1 }}</span> <span translate="OF_2"></span></p></div><div id="send" ng-class="{ \'advanced-container\': advanced &amp;&amp; !confirmationStep, \'confirmation\': confirmationStep, \'sm\': numberOfActiveAccountsAndLegacyAddresses() &lt;= 1 }" class="modal-body fade"><div class="alert-in-app"><alerts context="alerts"></alerts></div><div ng-hide="confirmationStep" ng-class="{ \'advanced\': advanced }"><form role="form" name="sendForm" autocomplete="off" novalidate class="pos-rel ph-form"><div ng-show="numberOfActiveAccountsAndLegacyAddresses() &gt; 1" class="form-group row flex-justify"><label class="pts"><span translate="FROM"></span>:</label><div ng-class="{\'has-error\': (sendForm.from.$invalid &amp;&amp; sendForm.destinations0.$touched) || (sendForm.priv.$invalid &amp;&amp; sendForm.priv.$touched) }" class="flex-1"><p ng-hide="originsLoaded" class="form-control-static"><img src="img/spinner-806ea8a06eb29c46cd9526449bae2fe4f5bb3f32.gif"></p><ui-select ng-model="transaction.from" name="from" ng-show="originsLoaded" ng-change="checkForSameDestination(); setPaymentFrom()" tagging required class="send-from-dropdown"><ui-select-match placeholder="{{\'SEARCH\' | translate}}..."><label-origin origin="$select.selected" ng-class="{\'state-danger-text\': $select.selected.balance === 0}"></label-origin></ui-select-match><ui-select-choices repeat="origin in origins | filter:{label:$select.search} | limitTo:originLimit" group-by="\'type\'" ui-disable-choice="::hasZeroBalance(origin)"><span ng-class="::{aaa:hasZeroBalance(origin)}" in-view="$last &amp;&amp; origin.type===\'Imported Addresses\' &amp;&amp; increaseLimit()"><label-origin origin="::origin" highlight="$select.search"></label-origin></span></ui-select-choices></ui-select><div ng-show="transaction.from.isWatchOnly" class="input-group pbm"><input name="priv" placeholder="{{ \'ENTER_PRIV\' | translate }}..." ng-model="transaction.priv" ng-required="transaction.from.isWatchOnly" is-valid="!transaction.from.isWatchOnly || isValidPrivateKey(transaction.priv)" class="form-control"><div class="input-group-btn"><qr-scan on-scan="setPrivateKey" class="form-control"></qr-scan></div></div><span ng-show="sendForm.from.$invalid &amp;&amp; sendForm.destinations0.$touched" translate="MUST_SELECT_ORIGIN" class="help-block"> </span><span ng-show="sendForm.priv.$invalid &amp;&amp; sendForm.priv.$touched" translate="INVALID_PRIV" class="help-block inprv"></span></div></div><div class="form-group flex-justify bc-modal-fade mvl advanced-recipient row"><label class="pts"><span translate="TO"></span>:</label><div ng-class="{rel: advanced, mbl: advanced}"><div ng-class="{\'advanced-recipient-row\': advanced}" ng-repeat="item in transaction.destinations track by $index" class="flex-column"><p ng-hide="originsLoaded" class="form-control-static"><img src="img/spinner-806ea8a06eb29c46cd9526449bae2fe4f5bb3f32.gif"></p><div ng-show="originsLoaded" ng-class="{\'has-error\': sendForm[\'destinations\' + $index].$invalid &amp;&amp; sendForm[\'destinations\' + $index].$touched &amp;&amp; transaction.destinations[$index].address !== \'\'}"><destination-input name="{{ \'destinations\' + $index }}" ng-model="transaction.destinations[$index]" ng-model-options="{ updateOn: \'blur\' }" ng-change="checkForSameDestination()" ng-paste="handlePaste($event, $index)" on-payment-request="applyPaymentRequest(request, $index)" ignore="transaction.from" required></destination-input></div><div class="has-error"><span translate="BITCOIN_ADDRESS_INVALID" ng-show="sendForm[\'destinations\' + $index].$error.isValidAddress &amp;&amp; sendForm[\'destinations\' + $index].$touched &amp;&amp; transaction.destinations[$index].address !== \'\'" class="help-block type-sm"></span><span translate="SAME_DESTINATION" ng-show="sendForm[\'destinations\' + $index].$error.isNotEqual" class="help-block type-sm"></span></div><div ng-class="{\'has-error\': hasAmountError($index)}" class="flex-center recipient-currency mtl"><div class="mrl flex-1"><div class="flex-center border-bottom"><span class="mrm">{{ btcCurrency.code }}:</span><input type="number" ng-model="transaction.amounts[$index]" name="{{\'amounts\' + $index}}" tabindex="1" transform-currency="btcCurrency" placeholder="0" min="1" max="2100000000000000" ng-change="setPaymentAmount()" required class="form-control no-border"></div></div><i class="ti-arrows-horizontal h4 aaa prm"></i><div class="flex-1"><div class="flex-center border-bottom"><span class="mrm">{{ fiatCurrency.code }}:</span><input type="number" ng-model="transaction.amounts[$index]" name="{{\'amountsFiat\' + $index}}" tabindex="1" transform-currency="fiatCurrency" placeholder="0" min="1" max="2100000000000000" ng-change="setPaymentAmount()" required class="form-control no-border"></div></div></div><a ng-click="removeDestination($index)" ng-hide="$first &amp;&amp; $last" class="mlm button-danger type-sm button-sm remove"><i class="ti-close type-xs"></i></a></div><div class="has-error mbm"><span ng-click="useAll()" ng-class="{\'pointer\': transaction.destinations.length === 1}" ng-show="transaction.maxAvailable != null &amp;&amp; getTransactionTotal() &gt; transaction.maxAvailable &amp;&amp; !failedToLoadUnspent" class="help-block"><span translate="USE_TOTAL" class="type-sm"></span>:&nbsp;<span class="type-sm">{{ transaction.maxAvailable | convert:\'btc\' }}</span></span><span ng-show="failedToLoadUnspent" ng-click="reopenModal()" class="help-block"><span translate="ERR_FETCH_UNSPENT_RETRY" class="type-sm pointer"></span></span></div><a ng-click="addDestination()" ng-show="advanced" class="flex-center flex-justify add"><i class="ti-plus white"></i></a></div></div><div class="flex-row flex-justify form-group note mvl row"><label class="mbn"><span translate="DESCRIPTION:"></span><helper-button content="SEND_BITOIN_STEP2B"></helper-button></label><div class="flex-1"><textarea rows="4" ng-model="transaction.note" name="note" ng-maxlength="255" placeholder="{{\'NOTE_PLACEHOLDER\' | translate}}" class="pas"></textarea><div class="has-error"><span translate="ERR_NOTE_LENGTH" ng-show="sendForm.note.$error.maxlength &amp;&amp; sendForm.note.$touched" class="help-block type-sm"></span></div></div></div><div ng-class="{\'has-error\': transaction.blockIdx &gt; 6 || (sendForm.fee.$invalid &amp;&amp; sendForm.fee.$dirty)}" ng-show="advanced" class="flex-row flex-center flex-justify form-group row bc-modal-fade mtl fee"><label class="mbn"><span translate="TX_FEE"></span>:<helper-button content="TX_FEE_HELP"></helper-button></label><div class="miners-fee-selection"><div class="fee-custom"><div class="flex-1"><div class="flex-center border-bottom"><span class="mrm">{{ btcCurrency.code }}:</span><input type="number" name="fee" tabindex="1" ng-model="transaction.fee" min="546" step="any" ng-change="setPaymentFee()" required transform-currency="settings.btcCurrency" placeholder="Enter your fee here" class="form-control no-border"></div></div></div></div></div><span translate="ENTER_VALID_AMOUNT" ng-show="sendForm.fee.$invalid &amp;&amp; sendForm.fee.$dirty &amp;&amp; advanced" class="type-sm help-block state-danger-text"></span><span ng-show="!sendForm.$invalid &amp;&amp; amountsAreValid() &amp;&amp; advanced" class="type-sm help-block blue"><span ng-show="transaction.blockIdx &lt;= 6 &amp;&amp; transaction.blockIdx &gt;= 1"><span translate="ESTIMATED_TX_TIME" translate-values="{ confirmationTime: transaction.blockIdx*10, blockQueue: transaction.blockIdx }"></span> <ng-pluralize count="transaction.blockIdx" ng-init="block=\'BLOCK\'; blocks=\'BLOCKS\'" when="{\'1\': \'{{block | translate}}\', \'other\': \'{{blocks | translate}}\' }"></ng-pluralize><span>).</span></span><span ng-show="transaction.blockIdx &gt; 6" translate="SMALL_FEE_WARNING" class="has-error"></span></span></form></div><div ng-show="confirmationStep" class="overview"><div class="flex-column"><div class="flex-row"><span ng-show="transaction.note.length" class="mbl"><span class="type-h5 ti-notepad mrs"></span><span class="type-lbl">{{ transaction.note }}</span></span></div><div class="flex-column"><div class="flex-column"><span translate="TO" class="type-lbl mbs underline"></span><div ng-repeat="address in getToLabels() track by $index" class="mls mbs flex-row flex-center center"><span class="account mvn width-50-mobile width-50 em-400">{{ address.label || address.address }}</span><div class="width-50 width-50-mobile flex-between"><span ng-class="{success: address.type !== \'External\'}"><span ng-class="{fade: address.type === \'External\'}">+ </span><span>{{transaction.amounts[$index] | toBitCurrency:btcCurrency:false}}</span></span><span ng-class="{success: address.type !== \'External\'}"><span ng-show="address.type !== \'External\'">+ </span><fiat btc="transaction.amounts[$index]" class="mrml"></fiat></span></div></div><div class="mls mbs flex-row flex-center center flex-between pos-rel"><span translate="TX_FEE_REQUIRED" class="aaa account width-50-mobile width-50"></span><div class="width-50 width-50-mobile flex-between"><span class="aaa center"> <span class="fade">+ </span><span>{{ transaction.fee | toBitCurrency:btcCurrency:false}}</span></span><span class="aaa center"><fiat btc="transaction.fee" class="mrml"></fiat></span></div><helper-button content="DYK_TX_FEES"></helper-button></div></div><div class="mvm flex-justify flex-1 flex-center split-rule"></div><span translate="FROM" class="type-lbl mbs underline"></span><div class="mls flex-row flex-center center flex-between"><span class="account width-50-mobile width-50 mvn em-400 long-input">{{ transaction.from.label || transaction.from.address }}</span><div class="width-50 width-50-mobile flex-between"><span class="flex-start security-red">- {{getTransactionTotal(true) | toBitCurrency:btcCurrency:false}}</span><span class="security-red">-<fiat btc="getTransactionTotal(true)" class="mrml"></fiat></span></div></div></div></div></div></div><div class="modal-footer flex-between flex-center pal"><div class="flex-center"><a ng-hide="advanced || confirmationStep" ng-click="advancedSend()" translate="ADVANCED_SEND" class="dark-grey"></a><a ng-show="advanced &amp;&amp; !confirmationStep" ng-click="regularSend()" translate="REGULAR_SEND" class="dark-grey"></a></div><div class="flex-center flex-end send-actions"><button ng-click="close()" translate="CANCEL" ng-hide="confirmationStep" class="button-muted mrm"></button><button ng-click="backToForm()" translate="BACK" ng-show="confirmationStep" class="button-muted mrm"></button><button ng-show="advanced &amp;&amp; !confirmationStep" translate="RESET_FORM" ng-click="resetSendForm()" class="button-muted bc-modal-fade mrm"></button><button ladda-translate="NEXT_STEP" ui-ladda="building" ng-click="goToConfirmation()" tabindex="1" ng-disabled="sendForm.$invalid || failedToLoadUnspent || !amountsAreValid()" data-style="expand-left" ng-hide="confirmationStep" class="button-primary"></button><button ladda-translate="SEND" ui-ladda="sending" ng-click="send()" data-style="expand-left" ng-show="confirmationStep" class="button-success"></button></div></div>'),$templateCache.put("partials/settings/accounts.jade",'<div data-preflight-tag="AccountsSearch" class="filter-bar flex-end flex-center flex-start-tablet"><div class="filter-search input-group"><input type="text" placeholder="{{::\'SEARCH\' | translate}}" ng-model="searchText" ng-model-options="{debounce:250}" class="form-control"><i class="ti-search"></i></div></div><div data-preflight-tag="Accounts" class="row account-settings"><div class="col-xs-12"><table ng-if="status.isLoggedIn" class="accounts-container width-100"><tr ng-repeat="account in accounts() | filter:{label: searchText}" class="responsive width-100"><td class="col-md-3"><span ng-bind-html="account.label | escapeHtml | highlight:searchText" ng-class="{\'o-3\': account.archived}" class="type-md em-500 mrm"></span><span translate="DEFAULT" ng-show="!account.archived &amp;&amp; isDefault(account)" class="label label-primary btn-xs"></span><span translate="ARCHIVED" ng-show="account.archived" class="label label-default btn-xs mrm"></span></td><td class="col-md-3 center"><span ng-show="!account.archived &amp;&amp; account.balance != null" class="display-inline-block right-align"><span class="display-block em-500">{{ account.balance | toBitCurrency:settings.btcCurrency }}</span><fiat btc="account.balance"></fiat></span></td><td class="col-md-3 right-align"><span ui-sref="wallet.common.settings.accounts_addresses({account: account.index})" translate="MANAGE_ADDRESSES" ng-show="!account.archived" class="pointer blue"></span><span translate="UNARCHIVE" ng-click="unarchive(account)" ng-show="account.archived" class="pointer blue">")</span></td></tr><tr ng-click="newAccount()" class="width-100 pointer"><td class="col-md-3"><i class="ti-plus blue mrm"></i><span translate="ADD_WALLET"></span></td><td class="col-md-3"></td><td class="col-md-3"></td></tr></table><div class="flex-between flex-center mbl mvvl"><div><span translate="IMPORTED_ADDRESSES" class="type-md em-500"></span> <i class="ti-alert security-red hidden-xs"></i> <span translate="NOT_BACKED_BY_RECOVERY" class="security-red hidden-xs"></span></div><div class="flex-center flex-row"><button translate="TRANSFER_ALL" ng-show="activeSpendableAddresses().length &gt; 0" ng-click="openTransferAll()" class="button-primary mrl hidden-sm hidden-xs"></button><button translate="VERIFY_MESSAGE" ng-click="openVerifyMessage()" class="button-default"></button></div></div><div class="row"><div class="col-xs-12"><table ng-controller="SettingsImportedAddressesCtrl" gradual-render class="accounts-container addresses responsive width-100"><tr ng-click="importAddress()" class="width-100 pointer"><td class="col-md-3"><i class="ti-plus blue mrm"></i><span translate="IMPORT_ADDRESS"></span></td><td class="col-md-3"></td><td class="col-md-3"></td></tr><tr imported-address="address" search-text="searchText" ng-repeat="address in legacyAddresses() | filter:{archived: false} | addressOrNameMatch:searchText | limitTo:$render.limit track by $index" in-view="$last &amp;&amp; $render.next()"></tr></table></div></div><div ng-controller="SettingsImportedAddressesCtrl" class="mtvl ptl"><div class="flex-between flex-center mtl"><span translate="ARCHIVED_ADDRESSES" class="type-md em-500"></span><span translate="{{display.archived ? \'HIDE\' : \'SHOW\'}}" ng-click="toggleDisplayArchived()" class="pointer blue"></span></div><p translate="ARCHIVED_ADDRESSES_EXPLAIN" ng-show="display.archived" class="mtl hidden-xs"></p><div ng-show="display.archived" class="row"><div class="col-xs-12 table-container"><table ng-controller="SettingsImportedAddressesCtrl" class="accounts-container addresses responsive width-100"><tr class="hidden"><td class="col-md-3"></td><td class="col-md-3"></td><td class="col-md-3"></td></tr><tr ng-repeat="address in legacyAddresses() | filter:{archived: true} | addressOrNameMatch:searchText"><td class="col-md-3"><span ng-bind-html="address.address | escapeHtml | highlight:searchText"></span><span translate="WATCH_ONLY" ng-show="address.isWatchOnly" class="label label-default btn-xs"></span><span ng-bind-html="address.label | escapeHtml | highlight:searchText" ng-hide="status.edit || !address.label" class="prm oflow"></span></td><td class="col-md-3"></td><td class="col-md-3 right-align"><span uib-dropdown on-toggle="toggled(open)"><a href uib-dropdown-toggle id="more-dropdown" translate="More Options"> </a><ul uib-dropdown-menu aria-labelledby="more-dropdown" class="dropdown-menu dropdown-menu-right"><li><a translate="UNARCHIVE" ng-click="unarchive(address)"></a></li><li><a translate="DELETE" ng-click="delete(address)"></a></li></ul></span></td></tr></table></div></div></div></div></div><div class="row spacing"></div><div class="row spacing"></div><div class="row"><div class="col-xs-12"><a ui-sref="wallet.common.settings.address_book" translate="MANAGE_ADDRESS_BOOK" ng-show="addressBookPresent" class="button-default"></a></div></div>'),
$templateCache.put("partials/settings/address-book.jade",'<div class="row"><div class="col-xs-12 mbl"><a ng-click="back()" class="flex-center text em-400 blue"><i class="ti-arrow-left mrm"></i><span translate="BACK"></span></a></div></div><div class="row"><div class="col-xs-12 col-md-6"></div><div class="col-xs-12 col-md-6"><div class="flex-1 mrl filter-search-alt width-100 pos-rel"><input type="text" ng-model="searchText"><i class="ti-search pos-abs"></i></div></div></div><h2 translate="ADDRESS_BOOK"></h2><div class="row"><div class="col-xs-12"><table class="responsive width-100 account-container"><tr><th translate="ADDRESS"></th><th translate="LABEL"></th><th></th></tr><tr address-book-entry="address" search-text="searchText" ng-repeat="address in addressBook() | addressOrNameMatch:searchText"></tr></table></div></div>'),$templateCache.put("partials/settings/addresses.jade",'<div data-preflight-tag="AccountsSearch" class="filter-bar flex-between flex-center"><a ng-click="back()" class="flex-center text em-400 black"><i class="ti-arrow-left mrm"></i></a><div class="filter-search input-group"><input type="text" placeholder="{{::\'SEARCH\' | translate}}" ng-model="searchText" class="form-control"><i class="ti-search"></i></div></div><div data-preflight-tag="AccountAddresses" class="row ptvl"><div class="col-xs-12 table-container"><div class="flex-between flex-center mvl pvm"><span class="type-md em-500">{{account.label}}<span translate="DEFAULT" ng-show="!account.archived &amp;&amp; isDefault(account)" class="label label-primary btn-xs mlm"></span><span translate="ARCHIVED" ng-show="account.archived" class="label label-default btn-xs mlm"></span></span><span uib-dropdown on-toggle="toggled(open)"><a href uib-dropdown-toggle id="more-dropdown" translate="More Options" class="pbl"></a><ul uib-dropdown-menu aria-labelledby="more-dropdown" class="dropdown-menu dropdown-menu-right"><li><a translate="EDIT_NAME" ng-click="editAccount(account)"></a></li><li><a translate="MAKE_DEFAULT" ng-click="makeDefault(account)" ng-hide="account.archived || isDefault(account)"></a></li><li><a translate="ARCHIVE" ng-click="archive(account)" ng-hide="account.archived || isDefault(account)"></a></li><li><a translate="UNARCHIVE" ng-click="unarchive(account)" ng-show="account.archived"></a></li><li><a translate="REVEAL_XPUB" ng-click="revealXpub(account)" ng-hide="account.archived"></a></li></ul></span></div><div translate="UNUSED_ADDRESSES" class="type-lbl em-500"></div><p translate="UNUSED_ADDRESSES_COPY" class="em-300 mvm pbm"></p><table class="accounts-container addresses responsive width-100"><tr ng-click="createAddress()" class="width-100 pointer"><td class="col-md-6"><i class="ti-plus blue mrm"></i><span translate="ADD_NEXT_ADDRESS"></span></td><td class="col-md-6"></td></tr><tr account="account" ng-repeat="address in paymentRequests | filter:searchText | orderBy:\'-index\' track by address.index" hd-address="address" search-text="searchText" remove="removeAddressLabel(address.index, paymentRequests.indexOf(address))"></tr></table></div></div><div class="flex-between flex-center mvl"><div translate="PAST_ADDRESSES" class="type-lbl em-500"></div><a translate="{{showPast ? \'HIDE\' : \'SHOW\'}}" ng-click="toggleShowPast()" ng-class="{active:showPast}"></a></div><div ng-if="showPast" class="flex-row flex-between"><p translate="PAST_ADDRESSES_COPY" class="em-300 mvm pbm"></p><uib-pagination ng-model="page" ng-show="totalUsed &gt; pageLength" ng-change="setAddresses(page)" total-items="totalUsed" items-per-page="pageLength" max-size="5" boundary-links="true" class="pagination-sm"></uib-pagination></div><div ng-if="showPast" ng-init="setAddresses(page)"><div class="row"><div class="col-xs-12 table-container"><table class="accounts-container addresses responsive width-100"><tr class="short hidden-xs hidden-sm"><td translate="ADDRESS" class="col-md-6 em-500"></td><td class="col-md-6 em-500"><div class="flex-between flex-row"><span translate="LABEL"></span><div><span translate="CURRENT_BALANCE"></span><helper-button content="CURRENT_BALANCE_HELP" placement="left" class="mrn"></helper-button></div></div></td></tr><tr account="account" ng-repeat="address in usedAddresses | orderBy:\'-index\' track by address.index" hd-address="address" remove="removeAddressLabel(address.index, usedAddresses.indexOf(address), true)" past-address="true"></tr></table></div></div></div>'),$templateCache.put("partials/settings/change-email.jade",'<form role="form" name="form" novalidate ng-submit="form.$valid &amp;&amp; changeEmail()"><div ng-class="{\'has-error\': form.$invalid &amp;&amp; form.$dirty, \'has-warning\': isProblemProvider(fields.email)}" class="form-group"><label translate="EMAIL_ADDRESS" class="control-label"></label><div><input type="email" name="email" ng-model="fields.email" required maxlength="255" focus-when="active" class="form-control"><span class="help-block"><span translate="NOT_VALID_EMAIL_ADDRESS" ng-show="form.$invalid &amp;&amp; form.$dirty"></span><span translate="MAIL_PROVIDER_WARN" ng-show="isProblemProvider(fields.email)"></span></span></div></div><div class="form-group mbn has-error pull-right right-align"><button ng-click="deactivate()" translate="CANCEL" ng-hide="busy" type="button" class="button-muted"></button><button ui-ladda="status.waiting" ng-disabled="form.$invalid" ladda-translate="CHANGE" data-style="expand-left" type="submit" class="button-success"></button></div></form>'),$templateCache.put("partials/settings/change-ip-whitelist.jade",'<form role="form" name="form" ng-submit="form.$valid &amp;&amp; setIPWhitelist()" novalidate><div ng-class="{\'has-error\': errors.ipWhitelist}" class="form-group"><label translate="IP_WHITELIST" class="control-label"></label><input type="text" name="ipWhitelist" ng-model="fields.ipWhitelist" is-valid="isWhitelistValid()" maxlength="255" focus-when="active" class="form-control"><span ng-show="form.ipWhitelist.$invalid &amp;&amp; form.ipWhitelist.$touched" class="help-block"><span translate="{{errors.ipWhitelist}}"></span></span></div><div class="form-group mbn has-error pull-right right-align"><button type="button" ng-click="deactivate()" translate="CANCEL" ng-hide="busy" class="button-muted"></button><button type="submit" ui-ladda="status.waiting" ng-disabled="form.$invalid" ladda-translate="CHANGE" data-style="expand-left" class="button-success"></button></div></form>'),$templateCache.put("partials/settings/change-logout.jade",'<form role="form" name="form" novalidate ng-submit="form.$valid &amp;&amp; setLogoutTime()"><div ng-class="{\'has-error\': form.$invalid &amp;&amp; form.$dirty}" class="form-group"><label translate="AUTO_LOGOUT" class="control-label"></label><div><input type="number" name="logoutTime" ng-model="fields.logoutTime" min="1" max="1440" required focus-when="active" class="form-control"><span ng-show="form.$invalid" class="help-block"><span ng-show="form.logoutTime.$error.min" translate="LOGOUT_GREATER_THAN_1"></span><span ng-show="form.logoutTime.$error.max" translate="LOGOUT_LESS_THAN_1440"></span></span></div></div><div class="form-group mbn has-error pull-right right-align"><button ng-click="deactivate()" translate="CANCEL" ng-hide="busy" type="button" class="button-muted"></button><button ui-ladda="status.waiting" ng-disabled="form.$invalid" ladda-translate="CHANGE" data-style="expand-left" type="submit" class="button-success"></button></div></form>'),$templateCache.put("partials/settings/change-password-hint.jade",'<form role="form" name="form" novalidate ng-submit="changePasswordHint()"><div class="form-group"><label translate="PASSWORD_HINT" class="control-label"></label><div><input type="text" name="passwordHint" ng-model="fields.passwordHint" maxlength="255" focus-when="active" class="form-control"><span ng-show="form.passwordHint.$touched" class="help-block"><span>{{ errors.passwordHint }}</span></span></div></div><div class="form-group mbn has-error pull-right right-align"><button ng-click="deactivate()" translate="CANCEL" ng-hide="busy" type="button" class="button-muted"></button><button ui-ladda="status.waiting" ng-disabled="form.$invalid" ladda-translate="CHANGE" data-style="expand-left" type="submit" class="button-success"></button></div></form>'),$templateCache.put("partials/settings/change-password.jade",'<form role="form" name="form" novalidate data-preflight-tag="ChangePassword"><div ng-class="{\'has-error\': form.currentPassword.$invalid &amp;&amp; form.currentPassword.$touched &amp;&amp; form.currentPassword.$dirty, \'has-success\': form.currentPassword.$valid}" class="form-group"><label translate="CURRENT_PASSWORD" class="control-label"></label><div><input type="password" name="currentPassword" ng-model="fields.currentPassword" is-valid="isCorrectMainPassword(fields.currentPassword)" required focus-when="active" class="form-control"><span translate="INCORRECT" ng-show="form.currentPassword.$invalid &amp;&amp; form.currentPassword.$touched &amp;&amp; form.currentPassword.$dirty" class="help-block"></span></div></div><div ng-class="{\'has-error\': form.password.$invalid &amp;&amp; form.password.$touched &amp;&amp; form.password.$dirty, \'has-success\': form.password.$valid}" class="form-group"><label translate="NEW_PASSWORD" class="control-label"></label><div><input type="password" name="password" ng-model="fields.password" ng-change="fields.confirmation = \'\'" min-entropy="25" ng-maxlength="255" is-valid="fields.password != uid &amp;&amp; !isUserEmail(fields.password) &amp;&amp; !isPasswordHint(fields.password) &amp;&amp; !isCorrectMainPassword(fields.password)" required class="form-control"><password-entropy password="fields.password" class="help-block"></password-entropy><span ng-show="form.password.$touched &amp;&amp; form.password.$dirty"><span translate="TOO_WEAK" ng-show="form.password.$error.minEntropy &amp;&amp; !form.password.$error.isValid" class="help-block"></span><span translate="TOO_LONG" ng-show="form.password.$error.maxlength" class="help-block"></span><span translate="CANT_USE_GUID" ng-show="form.password.$error.isValid &amp;&amp; fields.password == uid" class="help-block"></span><span translate="CANT_USE_EMAIL" ng-show="form.password.$error.isValid &amp;&amp; isUserEmail(fields.password)" class="help-block"></span><span translate="CANT_USE_HINT" ng-show="form.password.$error.isValid &amp;&amp; isPasswordHint(fields.password)" class="help-block"></span><span translate="CANT_USE_CURRENT" ng-show="form.password.$error.isValid &amp;&amp; isCorrectMainPassword(fields.password)" class="help-block"></span></span></div></div><div ng-class="{\'has-error\': form.confirmation.$invalid &amp;&amp; form.confirmation.$touched, \'has-success\': form.confirmation.$valid}" class="form-group"><label translate="CONFIRM_PASSWORD" class="control-label"></label><div><input on-enter="change()" type="password" name="confirmation" ng-model="fields.confirmation" is-valid="fields.confirmation == fields.password" required class="form-control"><span translate="NO_MATCH" ng-show="form.confirmation.$error.isValid &amp;&amp; form.confirmation.$touched" class="help-block"></span></div></div><div class="form-group mbn has-error pull-right right-align"><span class="help-block">{{ errors.unsuccessful | translate }}</span><button ng-click="deactivate()" translate="CANCEL" class="button-muted mrm"></button><button ui-ladda="status.waiting" ng-click="change()" ng-disabled="form.$invalid" ladda-translate="CHANGE" data-style="expand-left" class="button-success"></button></div></form>'),$templateCache.put("partials/settings/change-pbkdf2.jade",'<form role="form" name="form" novalidate ng-submit="form.$valid &amp;&amp; setPbkdf2()"><div ng-class="{\'has-error\': form.$invalid &amp;&amp; form.$dirty}" class="form-group"><label translate="PBKDF2_ITERATIONS" class="control-label"></label><div><input type="number" name="pbkdf2" ng-model="fields.pbkdf2" required min="2" max="20000" maxlength="255" focus-when="active" class="form-control"><span ng-show="form.$invalid" class="help-block"><span ng-show="form.pbkdf2.$error.min" translate="PBKDF2_GREATER_THAN_1"></span><span ng-show="form.pbkdf2.$error.max" translate="PBKDF2_LESS_THAN_20000"></span></span></div></div><div class="form-group mbn has-error pull-right right-align"><button ng-click="deactivate()" translate="CANCEL" ng-hide="busy" type="button" class="button-muted"></button><button ui-ladda="status.waiting" ng-disabled="form.$invalid" ladda-translate="CHANGE" data-style="expand-left" type="submit" class="button-success"></button></div></form>'),$templateCache.put("partials/settings/import-address.jade",'<div data-preflight-tag="ImportAddress" class="modal-header"><h3 translate="IMPORT_BITCOIN_ADDRESS" ng-show="step &lt; 2 || address.isWatchOnly || address.balance == 0 || address.balance == null"></h3><h3 translate="IMPORT_BITCOIN_ADDRESS_SWEEP" ng-show="step &gt;= 2 &amp;&amp; !address.isWatchOnly &amp;&amp; address.balance &gt; 0"></h3></div><div class="modal-body"><div class="alert-in-app"><alerts context="alerts"></alerts></div><div ng-show="step==1"><form role="form" name="importForm" novalidate><p translate="IMPORT_BITCOIN_ADDRESS_EXPLAIN"></p><div ng-class="{\'has-error\': importForm.privateKey.$invalid &amp;&amp; fields.addressOrPrivateKey != \'\' }" class="form-group"><label for="address" class="control-label"></label><input ng-model="fields.addressOrPrivateKey" ng-disabled="BIP38" name="privateKey" is-valid="isValidAddressOrPrivateKey(fields.addressOrPrivateKey)" ng-change="importForm.privateKey.$setValidity(\'present\', true); importForm.privateKey.$setValidity(\'check\', true);" on-enter="importForm.$valid &amp;&amp; import()" required autocomplete="off" autofocus class="form-control"><span class="help-block"><span translate="INPUT_NOT_RECOGNIZED" ng-show="importForm.privateKey.$error.isValid &amp;&amp; fields.addressOrPrivateKey != \'\'"></span><span ng-show="importForm.privateKey.$error.check" translate="CHECK_PRIVATE_KEY"></span><span ng-show="importForm.privateKey.$error.present"><span translate="ALREADY_IN_WALLET"></span></span></span></div><div ng-class="{\'has-error\': importForm.bipPassphrase.$invalid &amp;&amp; importForm.bipPassphrase.$dirty}" ng-show="BIP38" class="form-group"><label class="control-label">Password for private key</label><input type="password" name="bipPassphrase" ng-model="fields.bip38passphrase" ng-required="BIP38" ng-change="importForm.bipPassphrase.$setValidity(\'wrong\', true)" on-enter="importForm.$valid &amp;&amp; import()" class="form-control"><div ng-show="importForm.bipPassphrase.$dirty"><span translate="INCORRECT_PASSWORD" ng-show="importForm.bipPassphrase.$error.wrong" class="help-block"> </span></div></div><p ng-show="BIP38 &amp;&amp; status.busy" translate="TAKES_A_WHILE"></p></form></div><div ng-show="step==2"><p translate="PRIVATE_KEY_VALID" ng-hide="address.isWatchOnly"></p><p><span translate="ADDRESS_VALID" ng-show="address.isWatchOnly"></span><span translate="ADDRESS_FOR_PRIVATE_KEY" ng-hide="address.isWatchOnly" class="colon"></span><b>&nbsp;{{::address.address}}</b></p><p><span translate="BALANCE_FOR_ADDRESS" class="colon"></span><b ng-show="address.balance != null">&nbsp;{{ address.balance | toBitCurrency:settings.btcCurrency }}</b><span ng-show="address.balance != null" class="fiat plm"><fiat btc="address.balance"></fiat></span><img ng-show="address.balance == null" src="img/spinner-806ea8a06eb29c46cd9526449bae2fe4f5bb3f32.gif"></p></div></div><div class="modal-footer pal flex-end"><button ng-click="close()" translate="CANCEL" ng-show="step == 1 &amp;&amp; !status.busy" class="button-muted mrm"></button><span ng-if="step == 1"><qr-scan on-scan="onAddressScan"></qr-scan><button ui-ladda="status.busy" ng-click="import()" ng-disabled="importForm.$invalid" ladda-translate="IMPORT" data-style="expand-left" class="btn button-primary"></button></span><button ng-show="step == 2" ng-click="close()" translate="CLOSE" class="button-muted"></button><button ng-show="step == 2 &amp;&amp; !address.isWatchOnly &amp;&amp; address.balance &gt; 0" ng-click="goToTransfer()" translate="TRANSFER" class="btn button-primary"></button><span ng-if="step == 3"><button ui-ladda="status.sweeping" ng-click="transfer()" data-style="expand-left" ladda-translate="TRANSFER" class="btn button-primary"></button></span></div>'),$templateCache.put("partials/settings/imported-addresses.jade",'<div class="row"><div class="col-xs-12"><table ng-controller="SettingsImportedAddressesCtrl" gradual-render class="accounts-container addresses responsive width-100"><tr ng-click="importAddress()" class="width-100 pointer"><td class="col-md-3"><i class="ti-plus blue mrm"></i><span translate="IMPORT_ADDRESS"></span></td><td class="col-md-3"></td><td class="col-md-3"></td></tr><tr imported-address="address" search-text="searchText" ng-repeat="address in legacyAddresses() | filter:{archived: false} | addressOrNameMatch:searchText | limitTo:$render.limit track by $index" in-view="$last &amp;&amp; $render.next()"></tr></table></div></div><div ng-controller="SettingsImportedAddressesCtrl" class="mtvl ptl"><div class="flex-between flex-center mtl"><span translate="ARCHIVED_ADDRESSES" class="type-md em-500"></span><span translate="{{display.archived ? \'HIDE\' : \'SHOW\'}}" ng-click="toggleDisplayArchived()" class="pointer blue"></span></div><p translate="ARCHIVED_ADDRESSES_EXPLAIN" ng-show="display.archived" class="mtl hidden-xs"></p><div ng-show="display.archived" class="row"><div class="col-xs-12 table-container"><table ng-controller="SettingsImportedAddressesCtrl" class="accounts-container addresses responsive width-100"><tr class="hidden"><td class="col-md-3"></td><td class="col-md-3"></td><td class="col-md-3"></td></tr><tr ng-repeat="address in legacyAddresses() | filter:{archived: true} | addressOrNameMatch:searchText"><td class="col-md-3"><span ng-bind-html="address.address | escapeHtml | highlight:searchText"></span><span translate="WATCH_ONLY" ng-show="address.isWatchOnly" class="label label-default btn-xs"></span><span ng-bind-html="address.label | escapeHtml | highlight:searchText" ng-hide="status.edit || !address.label" class="prm oflow"></span></td><td class="col-md-3"></td><td class="col-md-3 right-align"><span uib-dropdown on-toggle="toggled(open)"><a href uib-dropdown-toggle id="more-dropdown" translate="More Options"> </a><ul uib-dropdown-menu aria-labelledby="more-dropdown" class="dropdown-menu dropdown-menu-right"><li><a translate="UNARCHIVE" ng-click="unarchive(address)"></a></li><li><a translate="DELETE" ng-click="delete(address)"></a></li></ul></span></td></tr></table></div></div></div>'),$templateCache.put("partials/settings/info.jade",'<h5 translate="WALLET_INFO_EXPLAIN" class="well em-400 type-h5 hidden-xs"></h5><div role="form" name="form" novalidate class="clearfix"> <div data-preflight-tag="WalletId" class="form-group mbn border-bottom clearfix pvl"><div class="col-sm-12 col-md-6"><label translate="UID" class="em-400 type-h5"></label><p class="text em-300 hidden-xs"><span translate="UID_EXPLAIN"></span><span> </span><span translate="UID_EXPLAIN_WARN" class="security-red"></span></p></div><div class="col-sm-12 col-md-6 setting-result flex-column"><label ng-bind="guid" class="em-400 type-h5"></label></div></div><div ng-if="alias" data-preflight-tag="WalletAlias" class="form-group mbn border-bottom clearfix pvl"><div class="col-sm-12 col-md-6"><label translate="ALIAS" class="em-400 type-h5"></label><p translate="ALIAS_EXPLAIN" class="text em-300 hidden-xs"></p></div><div class="col-sm-12 col-md-6 setting-result"><p ng-bind="alias" class="em-400 type-h5 mbm"></p><button ng-click="removeAlias()" ladda-translate="REMOVE" ui-ladda="loading.alias" ng-disabled="loading.alias" data-style="expand-right" class="button-primary"></button></div></div><div data-preflight-tag="PairingCode" class="form-group mbn border-bottom clearfix pvl"><div class="col-sm-12 col-md-6"><label translate="PAIRING_CODE" class="em-400 type-h5"></label><p class="text em-300 hidden-xs"><span translate="PAIRING_CODE_EXPLAIN"></span> <span translate="DOWNLOAD_THE"></span> <a translate="IOS_APP_HERE" href="https://itunes.apple.com/us/app/blockchain-bitcoin-wallet/id493253309" target="_blank" rel="noopener noreferrer"></a> <span translate="AND_THE"> </span> <a translate="ANDROID_APP_HERE" href="https://play.google.com/store/apps/details?id=piuk.blockchain.android" target="_blank" rel="noopener noreferrer"></a><span>.</span></p></div><div class="col-sm-12 col-md-6 setting-result"><button ng-click="showPairingCode()" ng-hide="pairingCode" ladda-translate="SHOW_PAIRING_CODE" ui-ladda="loading.code" ng-disabled="loading.code" data-style="expand-right" class="button-primary"></button><button ng-click="hidePairingCode()" ng-show="pairingCode" translate="HIDE_PAIRING_CODE" class="button-primary"></button><div class="qr ptl mtl"><span ng-show="pairingCode"><qr text="pairingCode" size="180" image="true"></qr></span></div></div></div></div>'),$templateCache.put("partials/settings/manage-second-password.jade",'<form role="form" name="form" novalidate data-preflight-tag="ChangeSecondPassword"><div ng-class="{ \'has-error\': form.password.$invalid &amp;&amp; form.password.$touched, \'has-success\': form.password.$valid }" class="form-group"><label translate="SECOND_PASSWORD" class="control-label"></label><div><input type="password" name="password" ng-model="fields.password" ng-change="fields.confirmation = \'\'" minlength="4" is-valid="!isPasswordHint(fields.password) &amp;&amp; !isMainPassword(fields.password)" required focus-when="active &amp;&amp; !settings.secondPassword" class="form-control"><span ng-show="form.password.$touched" class="help-block"><span translate="TOO_SHORT" ng-show="form.password.$error.minlength"></span><span translate="CANT_USE_HINT" ng-show="form.password.$error.isValid &amp;&amp; isPasswordHint(fields.password)"></span><span translate="CANT_USE_MAIN" ng-show="form.password.$error.isValid &amp;&amp; isMainPassword(fields.password)"></span></span></div></div><div ng-hide="settings.secondPassword" ng-class="{ \'has-error\': form.confirmation.$invalid &amp;&amp; form.confirmation.$touched, \'has-success\': form.confirmation.$valid }" class="form-group"><label translate="CONFIRM_PASSWORD" class="control-label"></label><div><input type="password" name="confirmation" ng-model="fields.confirmation" is-valid="fields.confirmation === fields.password &amp;&amp; !settings.secondPassword" on-enter="setPassword()" required class="form-control"><span ng-show="form.confirmation.$touched" class="help-block"><span translate="NO_MATCH" ng-show="form.confirmation.$error.isValid"></span></span></div></div></form><div class="form-group mbn has-error pull-right right-align"><button ng-click="deactivate()" translate="CANCEL" ng-hide="status.waiting" class="button-muted"></button><button ng-hide="settings.secondPassword" ui-ladda="status.waiting" ng-click="setPassword()" ng-disabled="form.$invalid" ladda-translate="SET_PASSWORD" data-style="expand-left" class="button-success"></button><button ng-show="settings.secondPassword" ui-ladda="status.waiting" ng-disabled="form.password.$invalid" ng-click="removeSecondPassword()" ladda-translate="REMOVE_SECOND_PASSWORD" data-style="expand-left" class="button-danger"></button></div>'),$templateCache.put("partials/settings/preferences.jade",'<h5 translate="PREFERENCES_EXPLAIN" class="well em-400 type-h5 hidden-xs"></h5><div ng-if="status.isLoggedIn" class="clearfix"><div ng-controller="ChangeEmailCtrl" data-preflight-tag="ChangeEmail" class="form-group mbn border-bottom clearfix pvl phm"><div settings-form><div class="col-sm-12 col-md-6"><div class="flex-center mbm"><label translate="EMAIL_ADDRESS" class="em-400 type-h5 mbn mrm"></label><span translate="UNVERIFIED" ng-show="!user.isEmailVerified" class="label label-warning"></span><span translate="VERIFIED" ng-show="user.isEmailVerified" class="label label-success"></span></div><p translate="EMAIL_ADDRESS_EXPLAIN" class="text em-300 hidden-xs"></p><p translate="CHANGE_EMAIL_NOT_EXCHANGE" ng-show="userHasExchangeAcct &amp;&amp; active" class="text em-400 hidden-xs security-red"></p></div><div ng-hide="active" class="col-sm-12 col-md-6 setting-result"><p class="em-400 type-h5 mbm">{{ user.email }}</p><a ng-click="activate()" translate="CHANGE" class="button-primary display-inline-block"></a></div><div ng-show="active" class="col-sm-12 col-md-6 flex-column"><form role="form" name="form" novalidate ng-submit="form.$valid &amp;&amp; changeEmail()"><div ng-class="{\'has-error\': form.$invalid &amp;&amp; form.$dirty, \'has-warning\': isProblemProvider(fields.email)}" class="form-group"><label translate="EMAIL_ADDRESS" class="control-label"></label><div><input type="email" name="email" ng-model="fields.email" required maxlength="255" focus-when="active" class="form-control"><span class="help-block"><span translate="NOT_VALID_EMAIL_ADDRESS" ng-show="form.$invalid &amp;&amp; form.$dirty"></span><span translate="MAIL_PROVIDER_WARN" ng-show="isProblemProvider(fields.email)"></span></span></div></div><div class="form-group mbn has-error pull-right right-align"><button ng-click="deactivate()" translate="CANCEL" ng-hide="busy" type="button" class="button-muted"></button><button ui-ladda="status.waiting" ng-disabled="form.$invalid" ladda-translate="CHANGE" data-style="expand-left" type="submit" class="button-success"></button></div></form><div class="right-align mtm"><resend-email-confirmation ng-hide="user.isEmailVerified" class="mtl"></resend-email-confirmation></div></div></div></div><div data-preflight-tag="ChangeMobile" class="form-group mbn border-bottom clearfix pvl phm"><div class="col-sm-12 col-md-6"><div class="flex-center mbm"><label translate="MOBILE_NUMBER" class="em-400 type-h5 mbn mrm"></label><span translate="UNVERIFIED" ng-show="!user.isMobileVerified" class="label label-warning"></span><span translate="VERIFIED" ng-show="user.isMobileVerified" class="label label-success"></span></div><p translate="MOBILE_NUMBER_EXPLAIN" class="text em-300 hidden-xs">   </p></div><div class="col-sm-12 col-md-6 setting-result"><div ng-show="mobileNumber.step == 0"><p ng-hide="user.mobileNumber.length &lt; 5" class="em-400 type-h5 mbm">{{ formattedMobileNumber }}</p><a ng-click="mobileNumber.step = 1" translate="CHANGE" class="button-primary display-inline-block"></a></div><configure-mobile-number on-success="mobileNumber.step = 2" on-cancel="mobileNumber.step = 0" ng-show="mobileNumber.step == 1"></configure-mobile-number><verify-mobile-number on-success="mobileNumber.step = 0" ng-show="user.mobileNumber.length &gt; 4 &amp;&amp; !user.isMobileVerified &amp;&amp; mobileNumber.step != 1"></verify-mobile-number></div></div><div data-preflight-tag="ChangeLanguage" class="form-group mbn border-bottom clearfix pvl phm"><div class="col-sm-12 col-md-6"><label translate="LANGUAGE" class="em-400 type-h5"></label><p translate="LANGUAGE_EXPLAIN" class="text em-300 hidden-xs">  </p></div><div class="col-sm-6 col-md-3"></div><div class="col-sm-6 col-md-3 setting-result"><async-select selected="settings.language" range="languages" display-prop="name" on-change="changeLanguage"></async-select></div></div><div data-preflight-tag="ChangeCurrency" class="form-group mbn border-bottom clearfix pvl phm"><div class="col-sm-12 col-md-6"><label translate="CURRENCY" class="em-400 type-h5"></label><p translate="CURRENCY_EXPLAIN" class="text em-300 hidden-xs">   </p></div><div class="col-sm-6 col-md-3"></div><div class="col-sm-6 col-md-3 setting-result"><async-select selected="settings.currency" range="currencies" display-prop="name" display-optional="code" on-change="changeCurrency"></async-select></div></div><div data-preflight-tag="ChangeBitcoinCurrency" class="form-group mbn border-bottom clearfix pvl phm"><div class="col-sm-12 col-md-6"><label translate="BITCOIN_CURRENCY" class="em-400 type-h5"></label><p translate="BITCOIN_CURRENCY_EXPLAIN" class="text em-300 hidden-xs"></p></div><div class="col-sm-6 col-md-3"></div><div class="col-sm-6 col-md-3 setting-result"><async-select selected="settings.btcCurrency" range="btcCurrencies" display-prop="code" display-optional="btcValue" on-change="changeBTCCurrency"></async-select></div></div><div data-preflight-tag="NotificationSettings" class="form-group mbn border-bottom clearfix pvl phm"><div class="col-sm-12 col-md-6"><label translate="NOTIFICATIONS" class="em-400 type-h5"></label><p translate="NOTIFICATIONS_EXPLAIN" class="text em-300 hidden-xs">   </p></div><div class="col-sm-6 col-md-3"></div><div class="col-sm-6 col-md-3 setting-result"><label translate="RECEIVE_BY" class="em-400 type-h5 colon"></label><br><div class="flex-column flex-end display-inline-block mbl"><label class="flex-between flex-center"><input type="checkbox" ng-model="notifications.email" ng-checked="user.isEmailVerified &amp;&amp; notifications.email" ng-change="updateNotificationsType()" ng-disabled="!user.isEmailVerified"><span translate="EMAIL" uib-tooltip="{{::\'VERIFY_EMAIL_FIRST\'|translate}}" tooltip-enable="!user.isEmailVerified" tooltip-placement="left" class="mlm"></span></label><label class="flex-between flex-center"><input type="checkbox" ng-model="notifications.sms" ng-checked="user.isMobileVerified &amp;&amp; notifications.sms" ng-change="updateNotificationsType()" ng-disabled="!user.isMobileVerified"><span translate="SMS" uib-tooltip="{{::\'VERIFY_MOBILE_FIRST\'|translate}}" tooltip-enable="!user.isMobileVerified" tooltip-placement="left" class="mlm"></span></label></div></div></div><div ng-show="browserCanHandleBitcoinLinks" data-preflight-tag="HandleLinks" class="form-group mbn border-bottom clearfix pvl phm"><div class="col-sm-12 col-md-6"><label translate="HANDLE_BITCOIN_LINKS" class="em-400 type-h5"></label><p translate="HANDLE_BITCOIN_LINKS_EXPLAIN" class="text em-300 hidden-xs">   </p></div><div class="col-sm-6 col-md-3"></div><div class="col-sm-6 col-md-3 setting-result"><a ng-click="setHandleBitcoinLinks()" translate="SET_HANDLE_BITCOIN_LINKS" ng-hide="settings.handleBitcoinLinks" class="button-primary"></a><p translate="HANDLE_BITCOIN_LINKS_STATUS_UNKNOWN" class="settingtext mtl"></p></div></div><div ng-controller="ChangeLogoutTimeCtrl" data-preflight-tag="ChangeLogoutTime" class="form-group mbn border-bottom clearfix pvl phm"><div settings-form><div class="col-sm-12 col-md-6"><label translate="AUTO_LOGOUT" class="type-h5 em-400"></label><p translate="AUTO_LOGOUT_EXPLAIN" class="em-300 text hidden-sm hidden-xs"> </p></div><div ng-hide="active" class="col-sm-12 col-md-6 setting-result"><p class="em-400 type-h5 mbm">{{ settings.logoutTimeMinutes }} minutes</p><a ng-click="activate()" translate="CHANGE" class="button-primary display-inline-block"></a></div><div ng-show="active" class="col-sm-12 col-md-6"><form role="form" name="form" novalidate ng-submit="form.$valid &amp;&amp; setLogoutTime()"><div ng-class="{\'has-error\': form.$invalid &amp;&amp; form.$dirty}" class="form-group"><label translate="AUTO_LOGOUT" class="control-label"></label><div><input type="number" name="logoutTime" ng-model="fields.logoutTime" min="1" max="1440" required focus-when="active" class="form-control"><span ng-show="form.$invalid" class="help-block"><span ng-show="form.logoutTime.$error.min" translate="LOGOUT_GREATER_THAN_1"></span><span ng-show="form.logoutTime.$error.max" translate="LOGOUT_LESS_THAN_1440"></span></span></div></div><div class="form-group mbn has-error pull-right right-align"><button ng-click="deactivate()" translate="CANCEL" ng-hide="busy" type="button" class="button-muted"></button><button ui-ladda="status.waiting" ng-disabled="form.$invalid" ladda-translate="CHANGE" data-style="expand-left" type="submit" class="button-success"></button></div></form></div></div></div><div data-preflight-tag="ChangeTheme" class="form-group mbn border-bottom clearfix pvl phm"><div class="col-sm-12 col-md-6"><label translate="Themes" class="em-400 type-h5"></label><p translate="Try out different themes for the wallet." class="text em-300 line-height hidden-xs"></p></div><div class="col-sm-6 col-md-3"></div><div class="col-sm-6 col-md-3 setting-result"><async-select selected="settings.theme" range="themes" display-prop="display-name" on-change="changeTheme" class="capitalize"></async-select></div></div></div>'),
$templateCache.put("partials/settings/security.jade",'<h5 translate="SECURITY_BASIC_EXPLAIN" class="well type-h5 em-400 hidden-xs"></h5><div class="clearfix"><div data-preflight-tag="BackupPhrase" class="form-group mbn border-bottom clearfix pvl phm"><div class="col-sm-12 col-md-6"><div class="flex-center flex-between-mobile mbm"><label translate="WALLET_RECOVERY_PHRASE" class="type-h5 em-400 mbn"></label><span translate="UNCONFIRMED" ng-hide="status.didConfirmRecoveryPhrase " class="label label-warning"></span><span translate="VERIFIED" ng-show="status.didConfirmRecoveryPhrase" class="label label-success"></span></div><p translate="RECOVERY_PHRASE_EXPLAIN" class="text em-300 hidden-xs hidden-sm">   </p></div><div class="col-sm-12 col-md-6 setting-result"><confirm-recovery-phrase></confirm-recovery-phrase></div></div><div ng-controller="ChangePasswordCtrl" data-preflight-tag="ChangePassword" class="form-group mbn border-bottom clearfix pvl phm"><div settings-form><div class="col-sm-12 col-md-6"><div class="flex-center flex-between-mobile mbm"><label translate="WALLET_PASSWORD" class="em-400 type-h5 mbn mrm"></label><span translate="PASSWORD_SET" class="label label-success"></span></div><p translate="WALLET_PASSWORD_EXPLAIN" class="text em-300 hidden-xs"></p></div><div ng-hide="active" class="col-sm-12 col-md-6 setting-result mtm"><a ng-click="activate()" translate="CHANGE" class="button-primary display-inline-block"></a></div><div ng-show="active" class="col-sm-12 col-md-6"><form role="form" name="form" novalidate data-preflight-tag="ChangePassword"><div ng-class="{\'has-error\': form.currentPassword.$invalid &amp;&amp; form.currentPassword.$touched &amp;&amp; form.currentPassword.$dirty, \'has-success\': form.currentPassword.$valid}" class="form-group"><label translate="CURRENT_PASSWORD" class="control-label"></label><div><input type="password" name="currentPassword" ng-model="fields.currentPassword" is-valid="isCorrectMainPassword(fields.currentPassword)" required focus-when="active" class="form-control"><span translate="INCORRECT" ng-show="form.currentPassword.$invalid &amp;&amp; form.currentPassword.$touched &amp;&amp; form.currentPassword.$dirty" class="help-block"></span></div></div><div ng-class="{\'has-error\': form.password.$invalid &amp;&amp; form.password.$touched &amp;&amp; form.password.$dirty, \'has-success\': form.password.$valid}" class="form-group"><label translate="NEW_PASSWORD" class="control-label"></label><div><input type="password" name="password" ng-model="fields.password" ng-change="fields.confirmation = \'\'" min-entropy="25" ng-maxlength="255" is-valid="fields.password != uid &amp;&amp; !isUserEmail(fields.password) &amp;&amp; !isPasswordHint(fields.password) &amp;&amp; !isCorrectMainPassword(fields.password)" required class="form-control"><password-entropy password="fields.password" class="help-block"></password-entropy><span ng-show="form.password.$touched &amp;&amp; form.password.$dirty"><span translate="TOO_WEAK" ng-show="form.password.$error.minEntropy &amp;&amp; !form.password.$error.isValid" class="help-block"></span><span translate="TOO_LONG" ng-show="form.password.$error.maxlength" class="help-block"></span><span translate="CANT_USE_GUID" ng-show="form.password.$error.isValid &amp;&amp; fields.password == uid" class="help-block"></span><span translate="CANT_USE_EMAIL" ng-show="form.password.$error.isValid &amp;&amp; isUserEmail(fields.password)" class="help-block"></span><span translate="CANT_USE_HINT" ng-show="form.password.$error.isValid &amp;&amp; isPasswordHint(fields.password)" class="help-block"></span><span translate="CANT_USE_CURRENT" ng-show="form.password.$error.isValid &amp;&amp; isCorrectMainPassword(fields.password)" class="help-block"></span></span></div></div><div ng-class="{\'has-error\': form.confirmation.$invalid &amp;&amp; form.confirmation.$touched, \'has-success\': form.confirmation.$valid}" class="form-group"><label translate="CONFIRM_PASSWORD" class="control-label"></label><div><input on-enter="change()" type="password" name="confirmation" ng-model="fields.confirmation" is-valid="fields.confirmation == fields.password" required class="form-control"><span translate="NO_MATCH" ng-show="form.confirmation.$error.isValid &amp;&amp; form.confirmation.$touched" class="help-block"></span></div></div><div class="form-group mbn has-error pull-right right-align"><span class="help-block">{{ errors.unsuccessful | translate }}</span><button ng-click="deactivate()" translate="CANCEL" class="button-muted mrm"></button><button ui-ladda="status.waiting" ng-click="change()" ng-disabled="form.$invalid" ladda-translate="CHANGE" data-style="expand-left" class="button-success"></button></div></form></div></div></div><div ng-class="{\'has-error\':errors.passwordHint}" ng-controller="ChangePasswordHintCtrl" data-preflight-tag="ChangePasswordHint" class="form-group mbn border-bottom clearfix pvl phm"><div settings-form><div class="col-sm-12 col-md-6"><div class="flex-center flex-between-mobile mbm"><label translate="PASSWORD_HINT" class="em-400 type-h5 mbn mrm"></label><span translate="NOT_STORED" ng-show="!user.passwordHint" class="label label-warning"></span><span translate="HINT_STORED" ng-show="user.passwordHint" class="label label-success"></span></div><p translate="PASSWORD_HINT_EXPLAIN" class="text em-300 hidden-xs">   </p></div><div ng-hide="active" class="col-sm-12 col-md-6 setting-result"><p class="em-400 type-h5 mbm">{{ user.passwordHint }}</p><a ng-click="activate()" translate="CHANGE" class="button-primary display-inline-block"></a></div><div ng-show="active" class="col-sm-12 col-md-6"><form role="form" name="form" novalidate ng-submit="changePasswordHint()"><div class="form-group"><label translate="PASSWORD_HINT" class="control-label"></label><div><input type="text" name="passwordHint" ng-model="fields.passwordHint" maxlength="255" focus-when="active" class="form-control"><span ng-show="form.passwordHint.$touched" class="help-block"><span>{{ errors.passwordHint }}</span></span></div></div><div class="form-group mbn has-error pull-right right-align"><button ng-click="deactivate()" translate="CANCEL" ng-hide="busy" type="button" class="button-muted"></button><button ui-ladda="status.waiting" ng-disabled="form.$invalid" ladda-translate="CHANGE" data-style="expand-left" type="submit" class="button-success"></button></div></form></div></div></div><div ng-controller="ManageSecondPasswordCtrl" data-preflight-tag="ManageSecondPassword" class="form-group mbn border-bottom clearfix pvl phm"><div settings-form><div class="col-sm-12 col-md-6"><div class="flex-center flex-between-mobile mbm"><label translate="WALLET_SECOND_PASSWORD" class="type-h5 em-400 mbn"></label><span ng-hide="settings.secondPassword" translate="DISABLED" class="label label-warning">   </span><span translate="SECOND_PASSWORD_SET" ng-show="settings.secondPassword" class="label label-success"></span></div><p translate="WALLET_SECOND_PASSWORD_EXPLAIN" ng-hide="userHasExchangeAcct" class="em-300 text hidden-xs">   </p><p translate="WALLET_SECOND_PASSWORD_DISABLED_EXPLAIN" ng-show="userHasExchangeAcct" class="em-300 text hidden-xs security-red"></p></div><div ng-hide="active || removing" class="col-sm-12 col-md-6 setting-result"><button ng-click="activate()" translate="SET_SECOND_PASSWORD" ng-show="!settings.secondPassword" ng-disabled="userHasExchangeAcct" class="button-primary display-inline-block"></button><button ng-click="activate()" translate="REMOVE_SECOND_PASSWORD" ng-show="settings.secondPassword" class="button-danger display-inline-block mlm"></button></div><div ng-show="active" class="col-sm-12 col-md-6"><form role="form" name="form" novalidate data-preflight-tag="ChangeSecondPassword"><div ng-class="{ \'has-error\': form.password.$invalid &amp;&amp; form.password.$touched, \'has-success\': form.password.$valid }" class="form-group"><label translate="SECOND_PASSWORD" class="control-label"></label><div><input type="password" name="password" ng-model="fields.password" ng-change="fields.confirmation = \'\'" minlength="4" is-valid="!isPasswordHint(fields.password) &amp;&amp; !isMainPassword(fields.password)" required focus-when="active &amp;&amp; !settings.secondPassword" class="form-control"><span ng-show="form.password.$touched" class="help-block"><span translate="TOO_SHORT" ng-show="form.password.$error.minlength"></span><span translate="CANT_USE_HINT" ng-show="form.password.$error.isValid &amp;&amp; isPasswordHint(fields.password)"></span><span translate="CANT_USE_MAIN" ng-show="form.password.$error.isValid &amp;&amp; isMainPassword(fields.password)"></span></span></div></div><div ng-hide="settings.secondPassword" ng-class="{ \'has-error\': form.confirmation.$invalid &amp;&amp; form.confirmation.$touched, \'has-success\': form.confirmation.$valid }" class="form-group"><label translate="CONFIRM_PASSWORD" class="control-label"></label><div><input type="password" name="confirmation" ng-model="fields.confirmation" is-valid="fields.confirmation === fields.password &amp;&amp; !settings.secondPassword" on-enter="setPassword()" required class="form-control"><span ng-show="form.confirmation.$touched" class="help-block"><span translate="NO_MATCH" ng-show="form.confirmation.$error.isValid"></span></span></div></div></form><div class="form-group mbn has-error pull-right right-align"><button ng-click="deactivate()" translate="CANCEL" ng-hide="status.waiting" class="button-muted"></button><button ng-hide="settings.secondPassword" ui-ladda="status.waiting" ng-click="setPassword()" ng-disabled="form.$invalid" ladda-translate="SET_PASSWORD" data-style="expand-left" class="button-success"></button><button ng-show="settings.secondPassword" ui-ladda="status.waiting" ng-disabled="form.password.$invalid" ng-click="removeSecondPassword()" ladda-translate="REMOVE_SECOND_PASSWORD" data-style="expand-left" class="button-danger"></button></div></div></div></div><div data-preflight-tag="ManageTwoFactor" class="form-group mbn border-bottom clearfix pvl phm"><div class="col-sm-12 col-md-6"><div class="flex-center flex-between-mobile mbm"><label translate="TWO_STEP_VERIFICATION" class="em-400 type-h5 mbn mrm"></label><span translate="DISABLED" ng-show="!settings.needs2FA" class="label label-warning"></span><span translate="ENABLED" ng-show="settings.needs2FA" class="label label-success"></span></div><p translate="TWO_STEP_EXPLAIN" class="text em-300 hidden-xs">   </p></div><div class="col-sm-12 col-md-6 setting-result"><a ng-click="changeTwoFactor()" translate="CONFIGURE_2FA" ng-hide="settings.needs2FA" class="button-primary display-inline-block"></a><a ng-click="changeTwoFactor()" translate="DISABLE" ng-show="settings.needs2FA" class="button-primary display-inline-block"></a></div></div><div data-preflight-tag="RememberTwoFactor" class="form-group mbn border-bottom clearfix pvl phm"><div class="col-sm-12 col-md-6"><div class="flex-center flex-between-mobile mbm"><label translate="REMEMBER_2FA" class="type-h5 em-400 mbn"></label><span ng-hide="settings.rememberTwoFactor" translate="DISABLED" class="label label-warning"></span><span ng-show="settings.rememberTwoFactor" translate="ENABLED" class="label label-success"></span></div><p translate="REMEMBER_2FA_EXPLAIN" class="em-300 text hidden-xs hidden-sm">   </p></div><div class="col-sm-12 col-md-6 setting-result"><a ng-click="enableRememberTwoFactor()" ladda-translate="ENABLE" ng-hide="settings.rememberTwoFactor" ui-ladda="processToggleRememberTwoFactor" data-style="expand-right" class="button-primary display-inline-block"></a><a ng-click="disableRememberTwoFactor()" ladda-translate="DISABLE" ng-show="settings.rememberTwoFactor" ui-ladda="processToggleRememberTwoFactor" data-style="expand-right" class="button-primary display-inline-block"></a></div></div></div><div class="mtl"><button translate="ADVANCED_SETTINGS" ng-click="toggleAdvanced()" ng-class="{active : display.advanced}" class="button-default"></button></div><h5 ng-show="display.advanced" class="well type-h5 em-400 hidden-xs"><span translate="SECURITY_ADVANCED_EXPLAIN"></span></h5><div ng-show="display.advanced" class="clearfix"><div data-preflight-tag="ManageLogging" class="form-group mbn border-bottom clearfix pvl phm"><div class="col-sm-12 col-md-6"><div class="flex-center flex-between-mobile mbm"><label translate="LOGGING" class="type-h5 em-400 mbn"></label><span ng-hide="settings.loggingLevel" translate="DISABLED" class="label label-warning"></span><span ng-show="settings.loggingLevel" translate="ENABLED" class="label label-success"></span></div><p translate="LOGGING_EXPLAIN" class="em-300 text hidden-xs hidden-sm">   </p></div><div class="col-sm-12 col-md-6"><setting-toggle value="settings.loggingLevel" toggle="toggleLogging()" enable-title="ENABLE" disable-title="DISABLE"></setting-toggle></div></div><div data-preflight-tag="WhitelistRestrict" class="form-group mbn border-bottom clearfix pvl phm"><div class="col-sm-12 col-md-6"><div class="flex-center flex-between-mobile mbm"><label translate="IP_WHITELIST_RESTRICT" class="type-h5 em-400 mbn"></label><span ng-hide="settings.restrictToWhitelist" translate="DISABLED" class="label label-warning"></span><span ng-show="settings.restrictToWhitelist" translate="ENABLED" class="label label-success"></span></div><p translate="IP_WHITELIST_RESTRICT_EXPLAIN" class="em-300 text hidden-xs hidden-sm">   </p></div><div class="col-sm-12 col-md-6 setting-result"><ip-whitelist-restrict></ip-whitelist-restrict></div></div><div ng-class="{\'has-error\': errors.ipWhitelist}" ng-controller="ChangeIpWhitelistCtrl" data-preflight-tag="ChangeIPWhitelist" class="form-group mbn border-bottom clearfix pvl phm"><div settings-form><div class="col-sm-12 col-md-6"><label translate="IP_WHITELIST" class="type-h5 em-400"></label><p translate="IP_WHITELIST_EXPLAIN" class="em-300 text hidden-xs hidden-sm">   </p></div><div ng-hide="active" class="col-sm-12 col-md-6 setting-result"><p class="em-400 type-h5 mbm">{{ settings.ipWhitelist }}</p><a ng-click="activate()" translate="CHANGE" class="button-primary display-inline-block"></a></div><div ng-show="active" class="col-sm-12 col-md-6"><form role="form" name="form" ng-submit="form.$valid &amp;&amp; setIPWhitelist()" novalidate><div ng-class="{\'has-error\': errors.ipWhitelist}" class="form-group"><label translate="IP_WHITELIST" class="control-label"></label><input type="text" name="ipWhitelist" ng-model="fields.ipWhitelist" is-valid="isWhitelistValid()" maxlength="255" focus-when="active" class="form-control"><span ng-show="form.ipWhitelist.$invalid &amp;&amp; form.ipWhitelist.$touched" class="help-block"><span translate="{{errors.ipWhitelist}}"></span></span></div><div class="form-group mbn has-error pull-right right-align"><button type="button" ng-click="deactivate()" translate="CANCEL" ng-hide="busy" class="button-muted"></button><button type="submit" ui-ladda="status.waiting" ng-disabled="form.$invalid" ladda-translate="CHANGE" data-style="expand-left" class="button-success"></button></div></form></div></div></div><div data-preflight-tag="BlockTOR" class="form-group mbn border-bottom clearfix pvl phm"><div class="col-sm-12 col-md-6"><div class="flex-center flex-between-mobile mbm"><label translate="BLOCK_TOR" class="type-h5 em-400"></label><span ng-show="settings.blockTOR" translate="BLOCKED" class="label label-success"></span><span ng-hide="settings.blockTOR" translate="ALLOWED" class="label label-warning"></span></div><p translate="BLOCK_TOR_EXPLAIN" class="em-300 text hidden-xs hidden-sm">   </p></div><div class="col-sm-12 col-md-6 setting-result"><tor></tor></div></div><div ng-class="{\'has-error\':errors.pbkdf2}" ng-controller="ChangePbkdf2Ctrl" data-preflight-tag="ChangePbkdf2" class="form-group mbn border-bottom clearfix pvl phm"><div settings-form><div class="col-sm-12 col-md-6"><label translate="PBKDF2_ITERATIONS" class="type-h5 em-400"></label><p translate="PBKDF2_ITERATIONS_EXPLAIN" class="em-300 text hidden-xs hidden-sm"></p></div><div ng-hide="active" class="col-sm-12 col-md-6 setting-result"><p class="em-400 type-h5 mbm">{{ settings.pbkdf2 }}</p><a ng-click="activate()" translate="CHANGE" class="button-primary display-inline-block"></a></div><div ng-show="active" class="col-sm-12 col-md-6"><form role="form" name="form" novalidate ng-submit="form.$valid &amp;&amp; setPbkdf2()"><div ng-class="{\'has-error\': form.$invalid &amp;&amp; form.$dirty}" class="form-group"><label translate="PBKDF2_ITERATIONS" class="control-label"></label><div><input type="number" name="pbkdf2" ng-model="fields.pbkdf2" required min="2" max="20000" maxlength="255" focus-when="active" class="form-control"><span ng-show="form.$invalid" class="help-block"><span ng-show="form.pbkdf2.$error.min" translate="PBKDF2_GREATER_THAN_1"></span><span ng-show="form.pbkdf2.$error.max" translate="PBKDF2_LESS_THAN_20000"></span></span></div></div><div class="form-group mbn has-error pull-right right-align"><button ng-click="deactivate()" translate="CANCEL" ng-hide="busy" type="button" class="button-muted"></button><button ui-ladda="status.waiting" ng-disabled="form.$invalid" ladda-translate="CHANGE" data-style="expand-left" type="submit" class="button-success"></button></div></form></div></div></div><div data-preflight-tag="ApiAccess" class="form-group mbn border-bottom clearfix pvl phm"><div class="col-sm-12 col-md-6"><div class="flex-center flex-between-mobile mbm"><label translate="API_ACCESS" class="type-h5 em-400 mbn"></label></div><p translate="API_ACCESS_SUPPORT" class="em-300 text">   </p></div><div class="col-sm-12 col-md-6"></div></div></div>'),$templateCache.put("partials/settings/settings.jade",'<div ui-view="settings" ng-show="status.isLoggedIn" class="settings"></div>'),$templateCache.put("partials/settings/show-private-key.jade",'<div data-preflight-tag="ShowPrivateKey" class="modal-header"><h3 translate="YOUR_PRIVATE_KEY"></h3></div><div class="modal-body"><div ng-hide="accessAllowed"><p translate="PRIVATE_KEY_WARNING"></p></div><div ng-show="accessAllowed"><div class="row"><div class="col-sm-4 col-md-3"><qr text="privKeys[format]" size="120" correction-level="\'M\'" image="true"></qr></div><div class="col-sm-12 col-md-8"><p><label translate="ADDRESS"></label><span>: {{ address }}</span></p><p><label translate="BALANCE"></label><span>: {{ balance | convert }}</span></p><p><label translate="YOUR_PRIVATE_KEY"> </label><span>: {{ privKeys[format] }}</span></p><div class="flex-row flex-center"><label class="prs"><span translate="PK_FORMAT"></span>:</label><div class="flex-2"><ui-select ng-model="$parent.format"><ui-select-match placeholder="{{\'SEARCH\' | translate}}..."><span>{{ $select.selected }}</span></ui-select-match><ui-select-choices repeat="fmt in formats"><span>{{ fmt }}</span></ui-select-choices></ui-select></div></div></div></div></div></div><div class="modal-footer"><button ng-click="close()" translate="CLOSE" class="button-default mrm"></button><button ng-hide="accessAllowed" ng-click="tryContinue()" translate="CONTINUE" class="button-primary"></button></div>'),$templateCache.put("partials/settings/sign-message.jade",'<div data-preflight-tag="SignMessage" class="modal-header"><div class="flex-center pam"><h3 translate="SIGN_MESSAGE" class="man mrm"></h3><helper-button content="SIGN_MESSAGE_EXPLAIN"></helper-button></div></div><div id="sign-msg" ng-class="{signature: signature}" class="modal-body fade"><form role="form" name="signMessageForm" autocomplete="off" novalidate class="ph-form"><div class="form-group row pbm flex-justify flex-center"><label translate="ADDRESS" class="control-label mbn"></label><span class="type-lbl">:</span><div class="flex-1 type-lbl">{{ address.address }}</div></div><div class="form-group row pbm flex-row flex-justify note"><label translate="MESSAGE" class="control-label"></label><span class="type-lbl">:</span><textarea rows="3" ng-model="message" ng-disabled="signature" required placeholder="{{ \'THANKS_FOR_ACCEPTING\' | translate }}" class="form-control"></textarea></div><div ng-show="signature" class="form-group flex-row"><label translate="SIGNATURE" class="control-label"></label><span class="type-lbl">:</span><p single-click-select class="form-control-static bitcoin-address"> <button class="clipboard btn btn-default"></button><span>{{ signature }}</span></p></div></form></div><div class="modal-footer"><div ng-hide="signature"><button translate="CLOSE" ng-click="$dismiss()" class="button-muted mrm"></button><button translate="SIGN" ng-click="sign()" ng-disabled="signMessageForm.$invalid" class="btn button-primary"></button></div><div ng-show="signature"><button translate="RESET_FORM" ng-click="reset()" class="button-muted mrm"></button><button translate="DONE" ng-click="$close()" class="btn button-primary"></button></div></div>'),$templateCache.put("partials/settings/transfer.jade",'<div data-preflight-tag="Transfer" class="modal-header"><h3 translate="TRANSFER" ng-show="addresses.length === 1"></h3><h3 translate="TRANSFER_ALL" ng-show="addresses.length &gt; 1"></h3></div><uib-progressbar value="ncomplete" max="ntotal" ng-show="addresses.length &gt; 1" animate="true" class="modal-progress"></uib-progressbar><div id="transfer-all" ng-class="{expanded : expand}" class="modal-body fade"><form role="form" name="transferForm" novalidate class="form-horizontal"><div class="form-group"><span class="type-lbl col-sm-3 control-label colon"><span ng-show="combinedBalance &gt; totalAmount + totalFees &amp;&amp; !status.loading" uib-tooltip="{{::\'SWEEP_LOW_BALANCE_WARN\'|translate}}" tooltip-append-to-body="true" tooltip-placement="left" class="security-red mrs ti-alert"></span><span translate="FROM"></span></span><div ng-show="addresses.length === 1" class="col-sm-5"><p class="form-control-static type-lbl">{{ addresses[0].address }}</p></div><div ng-show="addresses.length &gt; 1" class="col-sm-7"><div ng-click="expand=!expand" class="flex-row flex-between flex-center pointer"><span class="form-control-static type-lbl"><span>{{ addresses.length }}&nbsp;</span><span translate="IMPORTED_ADDRESSES"></span></span><a ng-class="\'ti-angle-double-\' + (expand ? \'up\' : \'down\')"></a></div><div ng-show="expand" class="flex-column flex-align-end"><ul class="address-container"><li ng-repeat="address in addresses track by $index"><span>{{ address.address }} ({{ address.balance | convert }})</span></li></ul></div></div></div><div class="form-group"><span translate="TO" class="type-lbl col-sm-3 control-label colon"></span><div class="col-sm-7"><ui-select ng-model="$parent.selectedAccount"><ui-select-match><label-origin origin="$select.selected"></label-origin></ui-select-match><ui-select-choices repeat="account in accounts() | filter:{archived: false, label: $select.search}"> <label-origin origin="account" highlight="$select.search"></label-origin></ui-select-choices></ui-select></div></div><div class="form-group"><span translate="AMOUNT" class="type-lbl col-sm-3 control-label colon"></span><div class="col-sm-5"><p class="form-control-static type-lbl"><img ng-show="status.loading" src="img/spinner-806ea8a06eb29c46cd9526449bae2fe4f5bb3f32.gif"><span ng-hide="status.loading"><span class="em-500">{{ totalAmount | convert }}</span>&emsp;<span class="em-300">({{ totalAmount | convert:\'secondary\' }})</span></span></p></div></div><div class="form-group"><span translate="FEES" class="type-lbl col-sm-3 control-label colon"></span><div class="col-sm-5"><p class="form-control-static type-lbl"><img ng-show="status.loading" src="img/spinner-806ea8a06eb29c46cd9526449bae2fe4f5bb3f32.gif"><span ng-hide="status.loading"><span class="em-500">{{ totalFees | convert }}</span>&emsp;<span class="em-300">({{ totalFees | convert:\'secondary\' }})</span></span></p></div></div></form></div><div class="modal-footer pal flex-end"><button translate="CANCEL" ng-click="status.sweeping ? status.cancelled = true : $dismiss()" class="button-muted mrm"></button><button ladda-translate="TRANSFER" ng-click="transfer()" ui-ladda="status.sweeping" ng-disabled="status.loading || totalAmount === 0" data-style="expand-left" class="btn button-primary"></button></div>'),$templateCache.put("partials/settings/two-factor.jade",'<div data-preflight-tag="Change2FA" class="modal-header"><div class="flex-center"><img src="img/2FA-2282ebdfc7ac8ed4ec0cfbf039da9e5c7b67fa72.png" class="mrm two-fa-image"><h3 translate="ENABLE_TWO_STEP" ng-hide="isStep(\'disable\')" class="mvn"></h3><h3 translate="DISABLE_TWO_STEP" ng-show="isStep(\'disable\')" class="mvn"></h3><helper-button content="TWO_STEP_EXPLAIN"></helper-button></div></div><div class="modal-body two-factor-modal"><div class="alert-in-app"><alerts context="alerts"></alerts></div><div ng-show="isStep(\'disable\')" class="flex-center flex-column"><i class="ti-na font-4 security-red"></i><p translate="CONFIRM_DISABLE_2FA"></p></div><div ng-show="isStep(\'enable\')" class="bc-carousel no-arrows"><uib-carousel no-wrap="true" interval="0" active="active"><uib-slide index="0"><div ng-click="authWithApp()" class="flex-column pointer"><i class="ti-lock font-4"></i><a translate="USE_AUTH_YUBIKEY"></a></div></uib-slide><uib-slide index="1"><div ng-click="authWithPhone()" class="flex-column pointer"><i class="ti-mobile font-4"></i><a translate="USE_MOBILE"></a></div></uib-slide></uib-carousel></div><div ng-show="isStep(\'configure_mobile\')" class="pal"><configure-mobile-number on-success="mobileNumber.step = 2" on-cancel="goToStep(\'enable\')" ng-show="mobileNumber.step == 1"></configure-mobile-number><verify-mobile-number on-success="mobileNumber.step = 0" ng-show="mobileNumber.step == 2"></verify-mobile-number></div><div ng-show="isStep(\'pair\')" class="row clearfix pal"><div class="col-xs-6 flex-justify flex"><a ng-click="pairWith = \'authenticator\'" ng-class="{\'basic-grey\' : pairWith == \'yubiKey\'}">Google Authenticator</a></div><div class="col-xs-6 flex-justify flex"><a ng-click="pairWith = \'yubiKey\'" ng-class="{\'basic-grey\' : pairWith == \'authenticator\'}">YubiKey</a></div><div ng-show="pairWith == \'authenticator\'" class="col-xs-12 mtl flex-center flex-justify"><img ng-hide="settings.googleAuthenticatorSecret" src="img/spinner-806ea8a06eb29c46cd9526449bae2fe4f5bb3f32.gif"><div ng-if="settings.googleAuthenticatorSecret" ng-class="{\'has-error\': errors.authenticatorCode}" class="flex-column flex-center"><qr text="settings.googleAuthenticatorSecret" size="100" image="true" class="pal"></qr><div class="flex-column flex-center"><p translate="SCAN_QR_CODE_GA" class="width-75 left"></p><input type="text" ng-model="fields.authenticatorCode" class="form-control width-75"></div></div></div><div ng-show="pairWith == \'yubiKey\'" class="col-xs-12 mtl"><div ng-class="{\'has-error\': errors.yubiKeyCode}" class="flex-center flex-column pal"><p translate="PAIR_YUBIKEY" class="mbm"></p><input type="text" ng-model="fields.yubiKeyCode" class="form-control"></div></div></div><div ng-show="isStep(\'success\')" class="flex-center flex-column"><i ng-show="settings.twoFactorMethod == 1 || settings.twoFactorMethod == 4" class="ti-lock font-4 success"></i><i ng-show="settings.twoFactorMethod == 5" class="ti-mobile font-4 success"></i><p translate="2FA_SUCCESS"></p></div><div ng-show="isStep(\'loading\')" class="flex-center flex-column"><img src="img/spinner-806ea8a06eb29c46cd9526449bae2fe4f5bb3f32.gif"></div><div ng-show="isStep(\'error\')"><p translate="2FA_ERROR"></p></div></div><div class="modal-footer pal flex-center flex-between"><div class="flex-start"><button ng-show="isStep(\'configure_mobile\') || isStep(\'pair\')" ng-click="goToStep(\'enable\')" translate="CANCEL" class="button-muted"></button></div><div class="flex-end"><button ng-click="mobileNumber.step = 1; goToStep(\'configure_mobile\')" ng-show="mobileNumber.step === 2 &amp;&amp; isStep(\'configure_mobile\')" class="button-muted">Change Mobile Number</button><button ng-click="close()" translate="CLOSE" class="button-muted mrm"></button><button ui-ladda="status.loading" data-style="expand-left" ng-show="isStep(\'pair\')" ng-disabled="!validateCode(pairWith)" ng-click="pairWithApp(pairWith)" ladda-translate="ENABLE_2FA" class="button-success"></button><button translate="DISABLE" ng-click="disableTwoFactor(); close()" ng-show="isStep(\'disable\')" class="button-danger"></button></div></div>'),$templateCache.put("partials/settings/verify-message.jade",'<div data-preflight-tag="VerifyMessage" class="modal-header"><div class="flex-center pam"><h3 translate="VERIFY_MESSAGE" class="man mrm"></h3><helper-button content="VERIFY_MESSAGE_EXPLAIN"></helper-button></div></div><div id="sign-msg" class="modal-body fade"><div class="alert-in-app"><alerts context="alerts"></alerts></div><form role="form" name="verifyMessageForm" autocomplete="off" novalidate class="ph-form"><div ng-class="{\'has-error\': verifyMessageForm.address.$invalid &amp;&amp; verifyMessageForm.address.$touched}" class="form-group row pbm flex-justify flex-center"><label translate="ADDRESS" class="control-label mbn colon"></label><div class="flex-1"><input ng-model="address" name="address" is-valid="isBitcoinAddress(address)" required class="form-control"></div></div><div ng-class="{\'has-error\': verifyMessageForm.message.$invalid &amp;&amp; verifyMessageForm.message.$touched}" class="form-group row pbm flex-row flex-justify note"><label translate="MESSAGE" class="control-label colon"></label><textarea rows="3" ng-model="message" name="message" required class="form-control"></textarea></div><div ng-class="{\'has-error\': verifyMessageForm.signature.$invalid &amp;&amp; verifyMessageForm.signature.$touched}" class="form-group row pbm flex-row flex-justify note"><label translate="SIGNATURE" class="control-label colon"></label><textarea rows="3" ng-model="signature" name="signature" is-valid="isBase64(signature)" required class="form-control"></textarea></div><div ng-show="verified != null" class="pull-right type-h4 flex-center"><span translate="{{ verified ? \'MSG_VERIFIED\' : \'MSG_NOT_VERIFIED\' }}" class="mrm"></span><span ng-class="{ \'ti-check success\': verified, \'ti-close security-red\': !verified }" class="type-h4"></span></div></form></div><div class="modal-footer"><button translate="CLOSE" ng-click="$dismiss()" ng-hide="verified != null" class="button-muted mrm"></button><button translate="VERIFY" ng-click="verify()" ng-disabled="verifyMessageForm.$invalid" ng-hide="verified != null" class="btn button-primary"></button><button translate="DONE" ng-click="$dismiss()" ng-show="verified != null" class="btn button-primary"></button></div>'),$templateCache.put("partials/sfox/buy.jade",'<div class="flex-justify mtl"><div class="flex-column flex-center width-30 mtl"><i class="mb-35 ti-shopping-cart flip type-yuge blue mbs mrs"></i><span class="f-20 em-500 mb-15">You can now buy Bitcoin!</span><button ng-click="$close()" class="btn button-primary width-60 mtm">Get Bitcoin!</button></div></div>'),$templateCache.put("partials/sfox/checkout.jade",'<div class="buy-sell mbvl"><div ng-hide="signupCompleted" class="flex-row flex-column-tablet"><div class="width-50 border mrl pal flex-column flex-between flex-center"><span class="type-h4 width-100">Just a few steps away!</span><div class="mvl flex-column flex-center blue type-h4"><i ng-class="stepDescription().i" class="type-lrg"></i><span translate="{{stepDescription().text}}"></span></div><button ng-click="openSfoxSignup()" class="btn button-primary full">Continue</button></div><div class="flex-column width-50 mlvl mtml"><div translate="SIMPLE_SECURE_SEAMLESS" class="f-24 blue em-500 lh1"></div><div translate="BUY_SIMPLE_STEPS" class="f-16 mtm basic-grey"></div></div></div><div ng-show="signupCompleted" class="flex-column"><div class="flex-row flex-between"><span class="f-20 em-500">Buy Bitcoin</span><div class="sfox-logo"><span translate="POWERED_BY" class="mrs type-sm"></span><a href="https://www.sfox.com/" target="_blank" rel="noopener noreferrer"><img src="img/sfox-logo-7ad6ac7721304a50e4f1c992942df4f6d250ae40.png" class="mbs"></a></div></div><form name="checkoutForm" novalidate autocomplete="off" class="width-50 border mt-15 pt-30 pb-30 pl-15 pr-15 bc-form"><fieldset><div class="group mts"><div class="item"><div class="flex-between flex-baseline mbs"><span class="f-16 em-500 colon">Enter Amount</span><span><div ng-show="quote &amp;&amp; !state.loadFailed" class="flex-row flex-center"><span>1 {{ bitcoin.code }} = ${{ quote.rate }}</span><helper-button content="EXCHANGE_RATE_HELPER"></helper-button></div><div ng-show="state.loadFailed" class="state-danger-text"><i class="ti-alert"></i><span class="mls">Failed to load exchange data</span></div></span></div><div class="flex-center"><div class="flex-1 flex-center border"><input type="number" name="fiat" ng-model="state.fiat" ng-max="max" ng-min="min" ng-focus="state.baseCurr = dollars" ng-disabled="locked" step="1" transform-currency="dollars" required class="form-control no-border"><span class="mhm">{{dollars.code}}</span></div><i class="ti-arrows-horizontal h4 aaa phm"></i><div class="flex-1 flex-center border"><input type="number" name="btc" ng-model="state.btc" ng-max="max" ng-min="min" ng-focus="state.baseCurr = bitcoin" ng-disabled="locked" step="0.01" transform-currency="bitcoin" required class="form-control no-border"><span class="mhm">{{bitcoin.code}}</span></div></div><div class="text mts"><span ng-class="{\'state-danger-text\':checkoutForm.$error.max}" class="f-12">Your daily buy limit is ${{ format(fromSatoshi(max, dollars), dollars, false) }}</span></div></div></div><div class="group mtl"><div class="item"><div class="mbm"><span class="f-16 em-500 colon">Order Summary</span></div><div class="border flex-column bg-light-blue"><div ng-show="hasMultipleAccounts"><div class="flex-between flex-center form-control bg-light-blue no-border"><span class="colon">Send To</span><span>{{ btcAccount.label }}</span></div><div class="border-bottom-thick mhm"></div></div><div class="flex-between flex-center form-control bg-light-blue no-border"><span class="colon">BTC Order</span><span>{{ format(fromSatoshi(state.btc || 0, bitcoin), bitcoin, true) }}</span></div><div class="border-bottom-thick mhm"></div><div class="flex-between flex-center form-control bg-light-blue no-border"><span class="colon">Payment Method</span><span class="capitalize">{{ account.accountType }} ({{ account.accountNumber }})</span></div><div class="border-bottom-thick mhm"></div><div class="flex-between flex-center form-control bg-light-blue no-border em-500"><span class="colon">Total Cost</span><span>{{ format(fromSatoshi(state.total || 0, dollars), dollars, true) }}</span></div></div></div></div><div class="group mtl"><button ng-hide="enabled" ng-click="enableBuy()" ng-disabled="locked || checkoutForm.$invalid || !quote || state.loadFailed" class="btn button-primary full">Buy Bitcoin</button><button ng-show="enabled" ng-click="buy()" class="btn button-success full">Confirm Purchase</button></div></fieldset></form></div><div ng-show="trades.length" class="flex-column mtl"><h4 translate="ORDER_HISTORY" class="type-h4"></h4><table class="width-100"><tr class="border bg-light-blue"><th translate="STATUS" class="phml pvs"></th><th translate="DATE" class="phml pvs"></th><th class="phml right-align pvs">BTC</th><th translate="TOTAL" class="phml right-align pvs"></th></tr><tr ng-repeat="trade in trades | orderBy:\'createdAt\':true" trade="trade" buy="inspectTrade" usa="true"></tr></table></div></div>'),
$templateCache.put("partials/sfox/create.jade",'<div class="flex-row flex-column-mobile"><div class="width-40"><div class="width-80"><div ng-show="viewing(\'summary\')"><h4 translate="Create SFOX Account" class="f-20 em-500 mvn mb-10"></h4><span translate="Please confirm your email and phone number to create your SFOX exchange account." class="f-16"></span></div><div ng-show="viewing(\'email\')"><h4 translate="Verify Email Address" class="f-20 em-500 mvn mb-10"></h4><span ng-hide="state.sentEmailCode" translate="Please verify your preferred email to associate with your SFOX exchange account." class="f-16"></span><span ng-show="state.sentEmailCode" translate="We just sent a verification code to your email address. Please enter the verification code to create your SFOX exchange account." class="f-16"></span></div><div ng-show="viewing(\'mobile\')"><h4 translate="Verify Phone Number" class="f-20 em-500 mvn mb-10"></h4><span ng-hide="state.sentMobileCode" translate="Please add your phone number to create your SFOX exchange account." class="f-16"></span><span ng-show="state.sentMobileCode" translate="We just sent a verification code to your phone. Please enter the verification code to continue creating your SFOX exchange account." class="f-16"></span></div></div></div><div ng-show="viewing(\'summary\')" class="width-60 flex-justify"><form name="accountForm" ng-submit="createAccount()" novalidate autocomplete="off" class="bc-form width-80"><fieldset ng-disabled="locked"><div class="group pb-30"><div class="item"><label>Email Address</label><input ng-model="state.email" name="email" disabled></div><div ng-show="accountForm.email.$error.registered"><div class="help"><span class="state-danger-text">Sorry, this email is already registered with SFOX.</span></div><div class="help flex-end"><span ng-click="view(\'email\')" class="blue pointer">Change Email</span></div></div></div><div class="group pb-40"><div class="item"><label>Phone Number</label><input ng-model="state.mobile" name="mobile" disabled></div></div><div class="group pb-30"><div class="item check"><input id="terms" type="checkbox" ng-model="state.terms" name="terms" required><label for="terms">I accept Blockchain\'s <a href="https://www.blockchain.com/assets/pdf/Blockchain_BuySellAlphaAgreement.pdf" translate="Alpha Agreement" target="_blank" rel="noopener noreferrer" class="black em-500"></a>, SFOX’s <a href="https://www.sfox.com/terms.html" translate="TERMS_OF_SERVICE" target="_blank" rel="noopener noreferrer" class="black em-500"></a> and SFOX\'s <a href="https://www.sfox.com/privacy.html" translate="PRIVACY" target="_blank" rel="noopener noreferrer" class="black em-500"></a>.</label></div></div><div class="group"><button type="submit" ng-disabled="accountForm.$invalid" class="btn button-primary full">Continue</button></div></fieldset></form></div><div ng-show="viewing(\'email\')" class="width-60 flex-justify"><form name="emailForm" ng-submit="verifyEmail(); emailForm.$setUntouched()" novalidate autocomplete="off" class="bc-form width-60"><fieldset ng-disabled="locked"><div class="group"><div class="item"><label>Confirm email:</label><input ng-model="state.email" ng-change="state.sentEmailCode = false" name="email" type="email" required></div></div><div ng-hide="state.sentEmailCode"><div class="group pt-25"><button type="button" ng-click="changeEmail()" ng-disabled="emailForm.email.$invalid || (state.verified &amp;&amp; state.email === user.email)" class="btn button-primary full pb-15">Send Verification Email</button><a ng-show="state.verified" ng-click="setState()" class="f-14 display-block center pt-15">Go Back</a></div></div><div ng-show="state.sentEmailCode"><div class="group pt-30"><div class="item"><label>Enter verification code sent to your email:</label><input ng-model="state.emailCode" name="emailCode" required></div></div><div class="group pt-25"><button type="submit" ng-disabled="emailForm.$invalid" class="btn button-primary full">Continue</button></div></div></fieldset></form></div><div ng-show="viewing(\'mobile\')" class="width-60 flex-justify"><form name="mobileForm" ng-submit="verifyMobile(); mobileForm.$setUntouched()" novalidate autocomplete="off" class="bc-form width-60"><fieldset ng-disabled="locked"><div class="group"><div class="item"><label>Add phone number:</label><bc-phone-number ng-model="state.mobile" ng-change="state.sentMobileCode = false" name="mobile" default-country="us" preferred-countries="us ca gb au" required></bc-phone-number></div></div><div ng-hide="state.sentMobileCode"><div class="group pt-25"><button type="button" ng-click="changeMobile()" ng-disabled="mobileForm.mobile.$invalid || (state.verified &amp;&amp; state.mobile === format(user.mobileNumber))" class="btn button-primary full pb-15">Text Verification Code</button><a ng-show="state.verified" ng-click="setState()" class="f-14 display-block center pt-15">Go Back</a></div></div><div ng-show="state.sentMobileCode"><div class="group pt-30"><div class="item"><label>Enter verification code sent to your mobile phone:</label><input ng-model="state.mobileCode" name="mobileCode" required></div></div><div class="group pt-25"><button type="submit" ng-disabled="mobileForm.$invalid" class="btn button-primary full">Continue</button></div></div></fieldset></form></div></div>'),$templateCache.put("partials/sfox/link.jade",'<div ng-show="!state.accounts.length" class="flex-row flex-column-mobile"><div class="width-40"><div class="width-80"><h4 translate="Link Bank Account" class="f-20 em-500 mvn mb-10"></h4><span translate="You can either securely sign in through your bank or enter your bank routing and account numbers." class="f-16"></span></div></div><div class="width-50"><button disabled class="btn button-primary full">Sign In To Your Bank Account</button><div class="mvvl"><span translate="OR" class="or-horizontal flex-justify"></span></div><form name="bankAccountForm" ng-submit="link()" novalidate autocomplete="off" class="bc-form"><fieldset ng-disabled="locked"><div class="group full mb-30"><div class="item"><label>Routing Number<button ng-click="openBankHelper()" type="button" tabindex="-1" class="helper"><span>?</span></button></label><input ng-model="fields.routingNumber" name="routingNumber" ng-change="clearInlineErrors(bankAccountForm, \'routingNumber\')" required><span ng-hide="bankAccountForm.routingNumber.$error.value" translate="Required field" class="error"></span></div><div ng-show="bankAccountForm.routingNumber.$error.value" class="help"><span class="state-danger-text">Invalid routing number.</span></div></div><div class="group full mb-30"><div class="item"><label>Account Number<button ng-click="openBankHelper()" type="button" tabindex="-1" class="helper"><span>?</span></button></label><input ng-model="fields.accountNumber" name="accountNumber" ng-change="clearInlineErrors(bankAccountForm, \'accountNumber\')" required><span ng-hide="bankAccountForm.accountNumber.$error.value" translate="Required field" class="error"></span></div><div ng-show="bankAccountForm.accountNumber.$error.value" class="help"><span class="state-danger-text">Invalid account number.</span></div></div><div class="group full mbl mb-30"><label>Account Type</label><ui-select ng-model="fields.type" tagging><ui-select-match placeholder="{{\'SEARCH\' | translate}}..."> <span class="capitalize">{{ $select.selected }}</span></ui-select-match><ui-select-choices repeat="type in types"><span ng-bind-html="type | highlight: $select.search" class="capitalize"></span></ui-select-choices></ui-select></div><div class="group full"><button type="submit" ng-disabled="bankAccountForm.$invalid" class="btn button-primary full">Add Account</button></div></fieldset></form></div></div><div ng-show="state.accounts.length &amp;&amp; !state.readyToVerify" class="flex-row mtl"><div class="width-40"><div class="width-80"><h4 translate="Verify Bank Account" class="f-20 em-500 mvn mb-10"></h4><span translate="To protect against fraud, SFOX will send and withdraw 2 small deposits to your bank account. These amounts will appear in your account in 1-2 days. You will need to enter these amounts to verify your bank account." class="f-16"></span></div></div><div class="width-50"><img src="img/bank-statement-b88cb551a426c838a63f29744aeb8e60c45e7e96.jpg" class="width-100"><p translate="Deposits will appear in your account as \'SFOX\' in 1-2 days" class="type-h5 em-300 mts mbl"></p><button ng-click="state.readyToVerify = true" class="btn button-primary full">Verify Now</button><a ng-click="$close()" class="display-block center mtl">Finish Later</a></div></div><div ng-show="state.accounts.length &amp;&amp; state.readyToVerify" class="flex-row mtl"><div class="width-40"><div class="width-80"><div class="flex-row"><h4 translate="Verify Bank Account" class="f-20 em-500 mvn mb-10"></h4><button ng-click="openDepositHelper()" type="button" tabindex="-1" class="helper"><span>?</span></button></div><span translate="SFOX sent 2 small deposits to your bank account. Enter these amounts in any order to verify your account." class="f-16"></span></div></div><div class="width-50"><form name="verifyBankAccountForm" ng-submit="verify()" novalidate autocomplete="off" class="bc-form"><fieldset ng-disabled="locked"><div class="group full mb-30"><div class="item"><label>Deposit 1</label><input ng-model="fields.deposit1" name="deposit1" ng-change="clearInlineErrors(verifyBankAccountForm, \'deposit1\', \'deposit2\')" type="number" min="0.01" step="0.01" required><span ng-hide="verifyBankAccountForm.deposit1.$error.value" translate="Required field" class="error"></span></div></div><div class="group full mb-30"><div class="item"><label>Deposit 2</label><input ng-model="fields.deposit2" name="deposit2" ng-change="clearInlineErrors(verifyBankAccountForm, \'deposit1\', \'deposit2\')" type="number" min="0.01" step="0.01" required><span ng-hide="verifyBankAccountForm.deposit1.$error.value" translate="Required field" class="error"></span></div><div ng-show="verifyBankAccountForm.deposit1.$error.value" class="help"><span class="state-danger-text">Deposits incorrect. Please try again.</span></div></div><div class="group full"><button type="submit" ng-disabled="verifyBankAccountForm.$invalid" class="btn button-primary full">Verify</button><a ng-click="$close()" class="display-block center mtl">Finish Later</a></div></fieldset></form></div></div>'),$templateCache.put("partials/sfox/signup-steps.jade",'<div class="flex-row height-100 pt-70 pb-40 pl-40 pr-40"><div class="flex-row flex-column-mobile center-mobile width-100-mobile width-100"><div class="width-40"><div class="width-80"><span translate="Complete the following steps to buy your first Bitcoin!" class="f-20 em-500"></span></div></div><div class="width-60 flex-row flex-baseline flex-between-mobile center"><div ng-class="{blue: vm.onStep(\'create\')}" ng-click="buySellDebug &amp;&amp; vm.goTo(\'create\')" class="width-25 flex-column flex-center"><i class="type-lrg ti-user"></i><span translate="Create Account" class="mt-5"></span></div><div class="flex-justify"><i class="ti-arrow-right type-h4"></i></div><div ng-class="{blue: vm.onStep(\'verify\')}" ng-click="buySellDebug &amp;&amp; vm.goTo(\'verify\')" class="width-25 flex-column flex-center"><i class="type-lrg ti-id-badge"></i><span translate="Verify Identity" class="mt-5"></span></div><div class="flex-justify"><i class="ti-arrow-right type-h4"></i></div><div ng-class="{blue: vm.onStep(\'link\')}" ng-click="buySellDebug &amp;&amp; vm.goTo(\'link\')" class="width-25 flex-column flex-center"><i class="type-lrg ti-credit-card bank"></i><span translate="Link Payment" class="mt-5"></span></div><div class="flex-justify"><i class="ti-arrow-right type-h4"></i></div><div ng-class="{blue: vm.onStep(\'buy\')}" ng-click="buySellDebug &amp;&amp; vm.goTo(\'buy\')" class="width-25 flex-column flex-center"><i class="type-lrg ti-shopping-cart flip mrs"></i><span translate="Buy Bitcoin" class="mt-5"></span></div></div></div><div class="close-modal"><i ng-click="$close()" class="ti-close pointer"></i></div></div>'),$templateCache.put("partials/sfox/signup.jade",'<div class="sfox-signup"><div class="signup-steps border-bottom-light"><div ng-include="\'partials/sfox/signup-steps.jade\'"></div></div><div class="pl-40 pr-40 pt-40 pb-25"><div ng-show="vm.onStep(\'create\')" ng-include="\'partials/sfox/create.jade\'" ng-controller="SfoxCreateAccountController"></div><div ng-show="vm.onStep(\'verify\')" ng-include="\'partials/sfox/verify.jade\'" ng-controller="SfoxVerifyController"></div><div ng-show="vm.onStep(\'link\')" ng-include="\'partials/sfox/link.jade\'" ng-controller="SfoxLinkController"></div><div ng-show="vm.onStep(\'buy\')" ng-include="\'partials/sfox/buy.jade\'"></div></div></div>'),$templateCache.put("partials/sfox/verify.jade",'<div ng-show="state.idType === \'ssn\'" class="flex-row flex-column-mobile"><div class="width-40"><div class="width-80"><h4 translate="Verify Identity" class="f-20 em-500 mvn mb-10"></h4><div class="mbl"><span translate="Strong verification procedures help reduce fraud and money laundering activites. As part of your registration, SFOX will need the following information from you to verify your identity." class="f-16"></span></div><div class="mbl"><span translate="You may also be asked to upload identification documents." class="f-16"></span></div><div ng-show="buySellDebug" class="mbl"><div class="type-h4 mbs underline"><i class="mrs ti-search"></i><span>QA</span></div><ul class="pll"><li ng-click="SFOXAddressForm()" class="type-lbl mbm pointer blue">Autofill Address Form</li><li class="mbm"><ui-select ng-model="state.addr2" name="doc" required><ui-select-match placeholder="Test Document Uploads">{{$select.selected}}</ui-select-match><ui-select-choices repeat="doc in SFOXDebugDocs">{{doc}}</ui-select-choices></ui-select></li></ul></div></div></div><div class="width-60"><form name="verifyForm" ng-submit="verify()" novalidate autocomplete="off" class="bc-form"><fieldset ng-disabled="locked"><div class="group inline pb-30"><div class="item width-33"><label>First Name</label><input ng-model="state.first" name="first" required><span translate="Required field" class="error"></span></div><div class="item width-33"><label>Middle Name</label><input ng-model="state.middle" name="middle"></div><div class="item width-33"><label>Last Name</label><input ng-model="state.last" name="last" required><span translate="Required field" class="error"></span></div></div><div class="group inline pb-30"><div class="item width-33"><label>Social Security Number</label><input ng-model="state.ssn" name="ssn" placeholder="___-___-____" format-input="xxx-xx-xxxx" required><span translate="Required field" class="error"></span></div><div class="item width-33"><label>Date of Birth</label><input ng-model="state.dob" name="dob" placeholder="mm/dd/yyyy" format-input="xx/xx/xxxx" is-valid="isBeforeNow(state.dob)" required><span translate="Required field" class="error"></span></div><div class="item width-33"></div></div><div class="group pb-20"><div class="item full"><label>Address Line 1</label><input ng-model="state.addr1" name="addr1" placeholder="Street address, P.O. box, etc." required><span translate="Required field" class="error"></span></div></div><div class="group pb-20"><div class="item full"><label>Address Line 2</label><input ng-model="state.addr2" name="addr2" placeholder="Apartment, unit, floor, etc."></div></div><div class="group inline pb-30"><div class="item width-33"><label>City</label><input ng-model="state.city" name="city" required><span translate="Required field" class="error"></span></div><div class="item width-33"><label>State</label><select ng-model="state.state" name="state" ng-options="s as s[\'Name\'] for s in states" tabindex="" required></select><span translate="Required field" class="error"></span></div><div class="item width-33"><label>Zipcode</label><input ng-model="state.zipcode" name="zipcode" format-input="xxxxx" required><span translate="Required field" class="error"></span></div></div><div class="group"><button type="submit" ng-disabled="verifyForm.$invalid" class="btn button-primary full">Continue</button></div></fieldset></form></div></div><div ng-show="state.idType === \'id\' || state.idType === \'address\'" class="flex-row flex-start flex-column-mobile"><div class="width-40"><div class="width-80"><h4 translate="{{state.idType + \'_ID\'}}.TITLE" class="f-20 em-500 mvn mb-10"></h4><div class="mbl"><span translate="{{state.idType + \'_ID\'}}.COPY" class="f-16"></span></div><ul class="mbl pln pl-20 f-16"><li class="pb-5"><span translate="{{state.idType + \'_ID\'}}.OPTION1"></span></li><li class="pb-5"><span translate="{{state.idType + \'_ID\'}}.OPTION2"></span></li><li class="pb-5"><span translate="{{state.idType + \'_ID\'}}.OPTION3"></span></li><li class="pb-5"><span translate="{{state.idType + \'_ID\'}}.OPTION4"></span></li></ul><div class="mbl"><span translate="{{state.idType + \'_ID\'}}.COPY_2" ng-show="state.idType === \'id\'" class="f-16"></span></div><div ng-show="buySellDebug" class="mbl"><div class="type-h4 mbs underline"><i class="mrs ti-search"></i><span>QA</span></div><div class="flex-row flex-center lh1"><input type="checkbox" id="verify-doc" ng-model="state.verifyDoc" class="mrs"><label for="verify-doc" class="em-400 type-lbl mls">Check this box if you want this doc to be approved right away.</label></div></div></div></div><div class="width-60"><label translate="{{state.idType + \'_ID\'}}.UPLOAD_TITLE" class="f-14"></label><div ngf-drop ngf-select ng-model="state.file" ngf-drag-over-class="\'dragover\'" ngf-pattern="\'image/*\'" class="file-upload"><span ng-hide="state.file" class="type-h5 em-300 mtvl">Drag and Drop Document (PDF, JPG, or PNG)</span><span ng-show="state.file" class="type-h5 em-300 mtvl"><b>{{state.file.name}}</b> successfully uploaded!</span><img src="img/document-b0bd523ce3c282cb3d05df15a64827252716695c.png" ng-hide="state.file" class="width-20 mobile-width-40"><img ngf-src="state.file" ng-show="state.file" class="width-40 mobile-width-40"><span ng-hide="state.file" class="type-h5 em-300 mbvl">Or\n <span class="blue pointer em-400">Select Document</span></span><span ng-show="state.file" class="type-h5 em-300 mbvl">Document will be sent to SFOX for review.</span></div><div ngf-no-file-drop>File Drag/Drop is not supported for this browser</div><button ng-click="upload()" ng-disabled="!state.file || locked" class="mtl btn button-primary full">Submit</button><a ng-click="state.file = null" ng-show="state.file" class="display-block center mtl">Change Document</a></div></div>'),$templateCache.put("partials/signup.jade",'<div data-preflight-tag="CreateWallet"><header><hgroup><div class="flex-between flex-center flex-wrap"><h2 translate="CREATE_A_WALLET" class="em-300 mtn"></h2><span class="register mbm"><span translate="OR"></span> <a ui-sref="public.login-uid" class="em-300"><span translate="LOGIN"></span></a></span></div><p translate="CREATE_FREE_WALLET" class="em-300"></p></hgroup></header></div><form role="form" name="signupForm" ng-submit="signup()" autocomplete="off" novalidate class="form-horizontal"><browser-detection result="browser"></browser-detection><fieldset ng-disabled="browser.disabled || working"><div ng-class="{\'has-error\': signupForm.email.$invalid &amp;&amp; signupForm.email.$touched}" class="form-group"><label translate="EMAIL"></label><div><input name="email" type="email" ng-model="fields.email" required focus-when="!fields.email.length" class="form-control"><span class="help-block"><div ng-show="signupForm.email.$touched"><p ng-show="signupForm.email.$error.required" translate="EMAIL_ADDRESS_REQUIRED"></p><p ng-show="signupForm.email.$error.email" translate="EMAIL_ADDRESS_INVALID"></p></div></span></div></div><div ng-class="{\'has-error\': signupForm.password.$invalid &amp;&amp; signupForm.password.$touched}" class="form-group"><label translate="NEW_PASSWORD"></label><div><input name="password" type="password" ng-model="fields.password" ng-maxlength="255" min-entropy="25" focus-when="fields.emailIsFromState" ng-change="fields.confirmation = \'\'" required class="form-control"><password-entropy password="fields.password" class="help-block"></password-entropy><span class="help-block"><div ng-show="signupForm.password.$touched"><p ng-show="signupForm.password.$error.minEntropy &amp;&amp; fields.password != undefined" translate="TOO_WEAK"></p><p ng-show="signupForm.password.$error.maxlength" translate="TOO_LONG"></p></div></span></div></div><div ng-class="{\'has-error\': signupForm.confirmation.$invalid &amp;&amp; signupForm.confirmation.$touched}" class="form-group"><label translate="CONFIRM_PASSWORD"></label><div><input name="confirmation" type="password" ng-model="fields.confirmation" is-valid="fields.confirmation == fields.password" required class="form-control"><span class="help-block"><div ng-show="signupForm.confirmation.$touched"><p ng-show="signupForm.confirmation.$error.isValid" translate="NO_MATCH"></p></div></span></div></div><div class="flex-center flex-end mtm mbl"><input id="agreement_accept" name="agreement" type="checkbox" ng-model="fields.acceptedAgreement" required class="pull-right"><label translate="ACCEPT_TOS" class="em-300 mbn mls right-align"></label></div><div class="flex-center flex-end mbl"><button type="submit" data-style="expand-left" ng-disabled="signupForm.$invalid || !currency_guess" ladda-translate="CONTINUE" ui-ladda="working" class="button-primary"></button></div></fieldset></form>'),$templateCache.put("partials/subscribe-modal.jade",'<div><div class="modal-body flex-column width-100"><div class="ptl pll prl"><span translate="SUBSCRIBE_TITLE" class="type-h4 em-500 flex-start"></span><p translate="SUBSCRIBE_BODY" class="em-300 ptm"></p><!-- Begin MailChimp Signup Form--><form action="//blockchain.us14.list-manage.com/subscribe/post?u=d74ffe6e610e00dc5772900bd&amp;amp;id=d0482eba05" method="post" ng-submit="subscribe()" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" target="_blank" novalidate class="validate"><div class="form-group"><label for="mce-EMAIL">Email Address</label><input type="email" value="" name="EMAIL" ng-model="fields.email" class="form-control"></div><div class="form-group flex-justify"><label translate="COUNTRY"></label><div class="flex-1"><ui-select ng-model="fields.countryCode" tagging><ui-select-match placeholder="{{\'SEARCH\' | translate}}..."> <span>{{ $select.selected[\'Name\'] }}</span></ui-select-match><ui-select-choices repeat="country[\'Code\'] as country in countries.countryCodes | filter:$select.search:checkStartsWith"><span ng-bind-html="country[\'Name\'] | highlight: $select.search"></span></ui-select-choices></ui-select></div></div><div class="form-group hide"><label for="mce-COUNTRY">Country </label><input type="text" value="{{fields.country}}" name="COUNTRY" class="form-control"></div><div ng-show="fields.countryCode === \'US\'" class="form-group flex-justify"><label translate="STATE"></label><div class="flex-1"><ui-select ng-model="fields.stateCode" tagging><ui-select-match placeholder="{{\'SEARCH\' | translate}}..."> <span>{{ $select.selected[\'Name\'] }}</span></ui-select-match><ui-select-choices repeat="state[\'Code\'] as state in states.stateCodes | filter:$select.search:checkStartsWith"><span ng-bind-html="state[\'Name\'] | highlight: $select.search"></span></ui-select-choices></ui-select></div></div><div class="form-group hide"><label for="mce-STATE">State </label><input type="text" value="{{fields.state}}" name="STATE" class="form-control"></div><div id="mce-responses" class="clear"><div id="mce-error-response" style="display:none" class="response"></div><div id="mce-success-response" style="display:none" class="response"></div></div><!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups--><div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_d74ffe6e610e00dc5772900bd_d0482eba05" tabindex="-1" value=""></div><div class="flex-end border-top ptl"><a translate="NO_THANKS" ng-click="$close();" class="button button-muted mrm"></a><button translate="SUBSCRIBE_BUTTON" type="submit" value="Subscribe" name="subscribe" ng-disabled="!fields.email.length" class="button button-primary"></button></div></form></div></div></div>'),$templateCache.put("partials/support.jade",'<div class="modal-header flex-column bc-modal-header"><h3 translate="CONTACT_SUPPORT"></h3><h5 translate="HERE_TO_HELP"></h5></div><div class="modal-body"><div class="flex-row flex-around"><div class="bc-empty-state flex-justify flex-center flex-column"><i class="blue ti-help"></i><div class="flex flex-justify ptl"><a href="https://support.blockchain.com/hc/en-us/categories/201149143-My-Wallet-Guide" target="_blank" rel="noopener noreferrer" class="button-primary">FAQ</a></div></div><div class="bc-empty-state flex-justify flex-center flex-column"><i class="blue bc-icon-helpdesk"></i><div class="flex flex-justify ptl"><a href="https://blockchain.zendesk.com/" target="_blank" translate="VISIT_SUPPORT" rel="noopener noreferrer" class="button-primary"></a></div></div></div></div><div class="modal-footer"><button ng-click="$dismiss()" translate="CLOSE" class="button-muted mrm"></button></div>'),$templateCache.put("partials/survey-modal.jade",'<div class="modal-header bg-blue white"><h4 translate="BEFORE_LEAVE"></h4></div><div class="modal-body"><p translate="SURVEY_ASK" class="em-300"></p><p translate="VALUE_FEEDBACK" class="em-300"></p><div class="flex-row flex-end"><button ng-click="$close()" translate="NO_THANKS" class="btn button-default"></button><a ng-click="$close()" translate="TAKE_SURVEY" target="_blank" href="https://blockchain.co1.qualtrics.com/SE/?SID=SV_7PupfD2KjBeazC5" class="btn button-primary mlm"></a></div></div>'),$templateCache.put("partials/top.jade",'<div ng-show="status.isLoggedIn" class="flex-center flex-between height-100 width-100-mobile"><div class="flex-column flex-center-mobile width-100-mobile"><div class="flex-baseline heavy hidden-xs"><h1 class="my-wallet mtn">Be your own bank.<span class="reg pos-rel">&reg;</span></h1></div><div class="visible-xs mbl"><div ng-click="toggleDisplayCurrency()" ng-show="status.didUpgradeToHd" class="heavy pointer flex-column flex-align-end right-align pointer center-mobile"><span ng-show="getTotal() == null"><h3><img ng-show="balance == null" src="img/spinner-806ea8a06eb29c46cd9526449bae2fe4f5bb3f32.gif"></h3></span><span ng-show="getTotal() != null"><span ng-hide="isBitCurrency(settings.displayCurrency)"><h1 class="mvn em-600 pos-rel"><fiat btc="getTotal()"></fiat></h1></span><span ng-show="isBitCurrency(settings.displayCurrency)"><h1 class="mvn em-600 pos-rel">{{ getTotal() | toBitCurrency:settings.btcCurrency }}</h1></span><p class="mvn type-h4 em-300 align-offset pos-rel"><fiat btc="getTotal()" ng-show="isBitCurrency(settings.displayCurrency)"></fiat><span ng-hide="isBitCurrency(settings.displayCurrency)"><span>{{ getTotal() | toBitCurrency:settings.btcCurrency }}</span></span></p></span></div></div><div class="flex flex-center-mobile"><button ng-click="send()" class="btn button-default button-short-wide type-h5 mrm"><i class="mrs media-middle bc-icon-send"></i><span translate="SEND" class="em-300"></span></button><div class="btn-group"><button ng-click="request()" class="btn button-default button-short-wide type-h5 pos-rel"><i class="mrs media-middle bc-icon-receive"></i><span translate="REQUEST" class="em-300"></span></button><button ng-if="browserCanExecCommand" on-click-copy="nextAddress()" ng-mouseleave="resetCopy()" class="btn button-default button-short type-h5"><i ng-class="copied ? \'ti-check\' : \'ti-clipboard\'" class="mhs"></i></button></div></div></div><div class="hidden-xs"><div ng-click="toggleDisplayCurrency()" ng-show="status.didUpgradeToHd" class="heavy pointer flex-column flex-align-end right-align pointer center-mobile"><span ng-show="getTotal() == null"><h3><img ng-show="balance == null" src="img/spinner-806ea8a06eb29c46cd9526449bae2fe4f5bb3f32.gif"></h3></span><span ng-show="getTotal() != null"><span ng-hide="isBitCurrency(settings.displayCurrency)"><h1 class="mvn em-600 pos-rel"><fiat btc="getTotal()"></fiat></h1></span><span ng-show="isBitCurrency(settings.displayCurrency)"><h1 class="mvn em-600 pos-rel">{{ getTotal() | toBitCurrency:settings.btcCurrency }}</h1></span><p class="mvn type-h4 em-300 align-offset pos-rel"><fiat btc="getTotal()" ng-show="isBitCurrency(settings.displayCurrency)"></fiat><span ng-hide="isBitCurrency(settings.displayCurrency)"><span>{{ getTotal() | toBitCurrency:settings.btcCurrency }}</span></span></p></span></div></div></div>'),$templateCache.put("partials/trade-modal.jade",'<div id="buy" data-preflight-tag="TradeModal"><div class="modal-body fade flex-center flex-justify"><div class="width-100 pam"><div data-preflight-tag="TradeSummary"><span translate="{{formattedTrade.namespace}}.TITLE" translate-values="formattedTrade.values" class="type-h5 em-500 flex-start pts capitalize {{formattedTrade.class}}"></span><p translate="{{formattedTrade.namespace}}.BODY" translate-values="formattedTrade.values" class="em-300 ptm"></p><div ng-if="formattedTrade.tx"><label translate="{{isKYC || needsKyc() ? \'DETAILS\' : \'ORDER_DETAILS\'}}" class="em-500 flex-start pts mtl"></label><ul class="em-300 bg-light-blue"><li ng-repeat="(prop, val) in formattedTrade.tx track by $index" ng-if="val" ng-class="{\'border-top\': $first}" class="pam border-right border-left border-bottom-light flex-between"><span translate="{{prop}}" class="em-400 colon"></span><span ng-bind="val" class="em-400 right-align"></span></li></ul></div></div><div class="flex-1 flex-end ptm"><button ng-click="$close()" translate="CLOSE" class="button-primary width-20"></button></div></div></div></div>'),$templateCache.put("partials/trade-summary.jade",'<div data-preflight-tag="TradeSummary"><span translate="{{formattedTrade.namespace}}.TITLE" translate-values="formattedTrade.values" class="type-h5 em-500 flex-start pts capitalize {{formattedTrade.class}}"></span><p translate="{{formattedTrade.namespace}}.BODY" translate-values="formattedTrade.values" class="em-300 ptm"></p><div ng-if="formattedTrade.tx"><label translate="{{isKYC || needsKyc() ? \'DETAILS\' : \'ORDER_DETAILS\'}}" class="em-500 flex-start pts mtl"></label><ul class="em-300 bg-light-blue"><li ng-repeat="(prop, val) in formattedTrade.tx track by $index" ng-if="val" ng-class="{\'border-top\': $first}" class="pam border-right border-left border-bottom-light flex-between"><span translate="{{prop}}" class="em-400 colon"></span><span ng-bind="val" class="em-400 right-align"></span></li></ul></div></div>'),$templateCache.put("partials/transactions.jade",'<div ng-if="status.isLoggedIn" class="transactions"><div data-preflight-tag="TxsOptions" ng-class="{open: isFilterOpen}" class="filter-bar flex-center"><div translate="FILTER" ng-hide="isFilterOpen" ng-click="toggleFilter()" class="hidden-md hidden-lg pointer blue right-align width-100"></div><div translate="HIDE" ng-show="isFilterOpen" ng-click="toggleFilter()" class="hidden-md hidden-lg pointer blue right-align width-100 mvl"></div><div ng-class="{hide: !isFilterOpen}" class="hidden-md hidden-lg"><ui-select ng-show="accounts.length &gt; 1" ng-model="filterBy.account" name="accounts" tagging class="mbl"><ui-select-match><label-origin origin="$select.selected"></label-origin></ui-select-match><ui-select-choices repeat="account in accounts | filter:{label:$select.search} | limitTo:accountLimit" group-by="\'type\'"><span in-view="$last &amp;&amp; account.type===\'Imported Addresses\' &amp;&amp; increaseLimit()"><label-origin origin="::account" highlight="$select.search"></label-origin></span></ui-select-choices></ui-select><ui-select ng-model="filterBy.type" name="filters" tagging class="mbl"><ui-select-match><span>{{$select.selected | translate}}</span></ui-select-match><ui-select-choices repeat="filter in filterTypes"><span>{{ filter | translate }}</span></ui-select-choices></ui-select><div class="filter-search input-group width-100"><input type="text" placeholder="{{::\'SEARCH\' | translate}}" ng-model="$parent.searchText" ng-model-options="{ debounce: 250 }" class="form-control width-100"><i class="ti-search"></i></div></div><div class="flex-between width-100 hidden-xs hidden-sm"><div class="flex-row flex-center"><ui-select ng-show="accounts.length &gt; 1" ng-model="filterBy.account" name="accounts" tagging class="mrl"><ui-select-match><label-origin origin="$select.selected"></label-origin></ui-select-match><ui-select-choices repeat="account in accounts | filter:{label:$select.search} | limitTo:accountLimit" group-by="\'type\'"><span in-view="$last &amp;&amp; account.type===\'Imported Addresses\' &amp;&amp; increaseLimit()"><label-origin origin="::account" highlight="$select.search"></label-origin></span></ui-select-choices></ui-select><div class="filter-buttons"><a ng-repeat="f in filterTypes track by f" ng-click="setFilterType($index)" ng-class="{\'active\': isFilterType($index)}" translate="{{::f}}" class="black em-500 em-alt"></a></div></div><div class="flex-center"><a ng-click="exportHistory()" class="black mhl em-500 em-alt hidden-xs hidden-sm"><i class="ti-export"></i></a><div class="filter-search input-group"><input type="text" placeholder="{{::\'SEARCH\' | translate}}" ng-model="$parent.searchText" ng-model-options="{ debounce: 250 }" class="form-control"><i class="ti-search"></i></div></div></div></div><div data-preflight-tag="TxsFeed" class="transaction-feed"><div ng-hide="loading || getTotal(account) &gt; 0 || filteredTransactions.length &gt; 0 || selectedaccount == \'imported\'" class="flex-center flex-justify flex-column mtvl"><div class="flex-column mbl border-bottom black"><div class="flex-center flex-justify"><i class="ti-layout-list-post h3 mrm"></i><h3 translate="NO_TRANSACTIONS_YET" class="em-100"></h3></div><p translate="DESCRIBE_TRANSACTIONS" class="em-400"></p></div><h3 translate="HIT_RECEIVE" ng-click="request()" class="em-100 center-align mid-grey emptystate"></h3><h3 translate="HIT_SEND" ng-click="send()" class="em-100 center-align mid-grey emptystate"></h3></div><div ng-show="!loading &amp;&amp; filteredTransactions.length == 0 &amp;&amp; getTotal(account) &gt; 0 " class="flex-center flex-justify flex-column mtl"><i class="ti-search h1 mrm"></i><h3 translate="SORRY_ZERO_TXS" class="em-100 mbl"></h3><p translate="PLEASE_TRY_AGAIN" ng-click="supportModal()" class="em-400"></p></div><div ng-repeat="tx in transactions | filter:transactionFilter | limitTo:txLimit as filteredTransactions track by tx.hash" ng-init="tx.toggled = false" class="transaction"><div ng-click="tx.toggled = !tx.toggled" class="tx-toggle pointer hidden-xs"><i ng-show="!tx.toggled" class="ti-arrow-circle-right h4 aaa"></i><i ng-show="tx.toggled" class="ti-arrow-circle-down h4 aaa"></i></div><div class="tx-details mll mvm"><span> <transaction-description transaction="tx" highlight="searchText" ng-if="canDisplayDescriptions" account="account"></transaction-description></span></div></div><div class="row"><div class="col-xs-5"></div><div class="col-xs-2"><p align="center" ng-hide="loading || allTxsLoaded || filteredTransactions.length == 0"><a in-view="nextPage()" ng-click="nextPage()"></a></p></div></div><div ng-show="loading" class="row mtm loading"><div class="col-xs-5"></div><div class="col-xs-2"><img src="img/spinner-806ea8a06eb29c46cd9526449bae2fe4f5bb3f32.gif"></div></div></div></div>'),
$templateCache.put("partials/upgrade.jade",'<div class="alert-in-app"><uib-alert type="danger" close="insist = false" ng-show="insist"><span translate="NEED_SECOND_PASSWORD_FOR_UPGRADE"></span></uib-alert></div><div data-preflight-tag="Upgrade" class="modal-header flex-center upgrade-header"><h3 translate="UPGRADE_WALLET"></h3></div><div class="modal-body"><div class="bc-carousel upgrade"><uib-carousel no-wrap="true" interval="3000" active="active"><uib-slide index="0"><li translate="UPGRADE_NEW_DESIGN" class="type-h4"></li><div><img src="img/new-design-d95ff989145fc943d1b4d431ac52aa00a994e212.jpg" class="logo"></div></uib-slide><uib-slide index="1"><li translate="UPGRADE_SECURITY_CENTER" class="type-h4"></li><div><img src="img/security-upgrade-870079f15f46802cb22cc1bcecfb0ad42cafc0e0.jpg" class="logo"></div></uib-slide><uib-slide index="2"><li translate="UPGRADE_BACKUP" class="type-h4"></li><div><img src="img/backup-d6944fd07c074f86b086b2b44a1c409f96d22cd4.jpg" class="logo"></div></uib-slide><uib-slide index="3"><li translate="UPGRADE_FUND_MANAGEMENT" class="type-h4"></li><div><img src="img/fund-management-0a5bad5e5b3e6ce167132bec37e7917ad1096b6d.jpg" class="logo"></div></uib-slide></uib-carousel></div></div><div class="modal-footer pal flex-end"><button ui-ladda="busy" ng-click="upgrade()" ng-disabled="waiting" ladda-translate="CONTINUE" data-style="expand-left" class="button-success"></button></div>'),$templateCache.put("partials/verify-email.jade",'<header><hgroup><div class="flex-between flex-center flex-wrap"><h2 translate="VERIFYING_EMAIL" class="em-300 mtn"></h2></div></hgroup><div ng-show="state === \'pending\' || state ===\'error\'"><hgroup ng-show="state === \'pending\'"><img src="img/spinner-806ea8a06eb29c46cd9526449bae2fe4f5bb3f32.gif"></hgroup><hgroup ng-show="state === \'error\'"><p class="em-300">{{ error }}</p></hgroup></div><div ng-show="state === \'success\'" class="flex-center flex-justify flex-column"><div class="level-complete flex-center flex-justify"><i class="ti-check bright-green"></i></div><h4 translate="SUCCESS" class="em-300 mtl"></h4><p translate="EMAIL_VERIFIED_SUCCESS" class="em-300"></p></div></header>'),$templateCache.put("partials/wallet-navigation.jade",'<div ng-if="status.isLoggedIn" class="left-navigation flex-column flex-between"><ul class="aside flex-1-0"><li ui-sref-active="current" ng-click="hideMenu()" class="header"><a ui-sref="wallet.common.home"><i class="ti-home"></i><span translate="HOME"></span></a></li><li ui-sref-active="current" class="scroll-parent header"><a ui-sref="wallet.common.transactions"><i class="ti-layout-list-post"></i><span translate="MY_TRANSACTIONS"></span></a></li><!-- Don\'t forget to update controllers/buySell.controller.js--><li ui-sref-active="current" ng-show="canBuy || userHasAccount" class="header"><pulse-cta active-when="shouldShowBuyCta()" on-dismiss="setBuyCtaDismissed()" message-text="BUY_BITCOIN_ALERT" button-text="BUY_BITCOIN" route="wallet.common.buy-sell" color="green"></pulse-cta><a ui-sref="wallet.common.buy-sell"><i class="ti-direction-alt"></i><span translate="BUY_BITCOIN"></span></a></li><li ui-sref-active="current" ng-click="hideMenu()" class="header mbm"><pulse-cta active-when="shouldShowSecurityWarning()" on-dismiss="setSecurityWarningDismissed()" message-text="{{getSecurityWarningMessage()}}" button-text="SECURE_WALLET" route="wallet.common.security-center" color="red"></pulse-cta><a ui-sref="wallet.common.security-center"><i ng-show="security.level &lt;= 2" class="bc-icon-security security-red"></i><i ng-show="security.level &gt; 2 &amp;&amp; security.level &lt; 6" class="bc-icon-security security-yellow"></i><i ng-show="security.level == 6" class="bc-icon-security security-green"></i><span translate="SECURITY_CENTER"></span><div ng-hide="security.level == 6" class="progress-bar-wrapper mlm flex-1"><div ng-class="\'level-\' + security.level" class="bar"></div></div></a></li><li ui-sref-active="current" class="scroll-parent header mbm"><a ui-sref="wallet.common.settings"><i class="ti-settings"></i><span translate="SETTINGS"></span></a><ul ng-show="showOrHide(\'settings\')" ng-click="hideMenu()" class="scroll-settings aside-list pas"><li ui-sref-active="active" class="mts mbm"><a ui-sref="wallet.common.settings.info" class="pas"><span translate="WALLET_INFO"></span></a></li><li ui-sref-active="active" class="mvm"><a ui-sref="wallet.common.settings.preferences" class="pas"><span translate="PREFERENCES"></span></a></li><li ui-sref-active="active" class="mvm"><a ui-sref="wallet.common.settings.security" class="pas"><span translate="SECURITY"></span></a></li><li ng-class="{active: accountsRoute()}" class="mvm"><a ui-sref="wallet.common.settings.accounts_index" class="pas"><span translate="MENU_ACCOUNTS_AND_ADDRESSES"></span></a></li></ul></li><li ui-sref-active="current" ng-click="hideMenu()" class="header"><a ui-sref="wallet.common.faq"><i class="ti-help-alt"></i><span translate="FAQ"></span></a></li></ul><ul class="aside wallet-footer"><li class="header adverts mbm"><span translate="SPONSORS"></span><adverts></adverts></li><li class="terms-policy"><ul class="flex-center aside em-300 type-sm"><li class="pointer mrm"><a href="https://blockchain.info/Resources/TermsofServicePolicy.pdf" translate="TOS" target="_blank" rel="noopener noreferrer" class="text-color"></a></li><li class="mrm type-xs"><i class="ti-control-record"></i></li><li class="pointer mrm"><a href="https://www.blockchain.com/assets/pdf/Blockchain_PrivacyPolicy.pdf" translate="PRIVACY" target="_blank" rel="noopener noreferrer" class="text-color"></a></li><li class="mrm type-xs"><i class="ti-control-record"></i></li><li class="pointer"><a href="https://www.blockchain.com/about" translate="ABOUT" target="_blank" rel="noopener noreferrer" class="text-color"></a></li></ul></li></ul></div>'),$templateCache.put("partials/wallet.jade",'<div role="navigation" ui-view="navigation" class="wallet-top-navigation navbar navbar-inverse mbn"></div><div class="alert-in-app"><alerts></alerts></div><div ui-view="common" class="wallet-container"></div>'),$templateCache.put("templates/activity-feed.jade",'<div class="col-md-6 col-sm-12 col-xs-12 pos-rel pln col-home"><div ng-if="status.isLoggedIn" class="activity-feed"><h5 translate="MOST_RECENT_ACTIVITY" class="mtn em-400 type-h5 mbl af-header"></h5><ul class="af pln"><li ng-class="{ \'af-fade\' : $last &amp;&amp; activities.length &gt;= 8 }" ng-repeat="activity in activities | limitTo: 8" class="af-item flex-align-start"><div class="af-marker"><i ng-class="activity.icon"></i></div><div class="af-info flex-center width-100 width-100-mobile"><p translate="{{::activity.title}}" class="h5 af-type flex-1 mvn"></p><p class="af-date mlm flex-1 hidden-xs mvn">{{::activity.time | date:\'mediumDate\'}}</p><div class="af-log flex-center flex-3 flex-end"><p ng-class="::activity.labelClass" translate="{{::activity.message}}" class="mvn right-align"></p><span ng-show="activity.type == 0" class="pls"><fiat-or-btc btc="activity.amount"></fiat-or-btc></span></div></div></li><!--psuedo empty-state--><li ng-hide="loading || activities.length &gt; 7" class="af-item flex-align-start"><div class="af-marker"><i class="ti-wallet"></i></div><div class="af-info flex-center width-100 width-100-mobile"><p translate="ACTIVITY_1" class="mvn h5 af-type"></p><p class="mvn af-date mll flex-1"></p><p translate="ACTIVITY_1_DESC" class="mvn af-log flex-2 right-align"></p></div></li><li ng-hide="loading || activities.length &gt; 6" class="af-item flex-align-start"><div class="af-marker"><i class="ti-settings"></i></div><div class="af-info flex-center width-100 width-100-mobile"><p translate="SETTINGS" class="mvn h5 af-type"></p><p class="mvn af-date mll flex-1"></p><p translate="ACTIVITY_2_DESC" class="mvn af-log flex-2 right-align"></p></div></li><li ng-hide="loading || activities.length &gt; 5" class="af-item flex-align-start"><div class="af-marker"><i class="ti-settings"></i></div><div class="af-info flex-center width-100 width-100-mobile"><p translate="SETTINGS" class="mvn h5 af-type"></p><p class="mvn af-date mll flex-1"> </p><p translate="ACTIVITY_3_DESC" class="mvn af-log flex-2 right-align"></p></div></li></ul><div ng-hide="loading || activities.length &gt; 0" class="flex-center flex-justify flex-column af-empty-state pal"><h2 translate="ACTIVITY_EMPTY" class="em-400 center-align shadow mbm"></h2><h5 translate="{{canBuy ? \'CAN_BUY_ACTIVITY_EMPTY_MSG\' : \'ACTIVITY_EMPTY_MSG\'}}" class="flex-0 em-300 center-align"></h5><button ng-show="canBuy" ui-sref="wallet.common.buy-sell" translate="BUY_BITCOIN" class="button-primary mtl"></button><button ng-hide="canBuy" ng-click="request()" translate="RECEIVE_BTC" class="button-primary mtl"></button></div><div ng-show="loading" class="flex-center flex-justify flex-column width-100 width-100-mobile"><img src="img/spinner-806ea8a06eb29c46cd9526449bae2fe4f5bb3f32.gif"></div></div></div>'),$templateCache.put("templates/address-book-entry.jade",'<tr><td class="shrink"><span ng-bind-html="address.address | escapeHtml | highlight:searchText"></span></td><td class="expand"><span ng-bind-html="address.label | escapeHtml | highlight:searchText" ng-hide="status.edit" class="prm"></span><div ng-class="{\'has-error\': errors.label}" ng-show="status.edit" class="form-group"><div class="col-sm-12"><bc-async-input inline ng-model="address.label" on-save="changeLabel" on-cancel="cancelEdit" is-required editing><span ng-show="errors.label" class="help-block">{{::errors.label}}</span></bc-async-input></div></div></td><td class="shrink"><a ng-click="delete()"><i class="ti-trash prm"></i></a></td></tr>'),$templateCache.put("templates/adverts.jade",'<ul ng-show="ads &amp;&amp; ads.length &gt; 0" class="aside-list pln pas mtm"><li ng-repeat="ad in ads" class="ad"><a ng-click="visit(ad)" class="flex-between flex-center right-align mbs"><button ng-click="visit(ad)" ng-class="[ ad.button_class ]" class="pan btn ad-btn"><img ng-src="{{ ad.image }}" class="width-100 ad-btn-image"></button><span ng-class="[ ad.button_class ]" class="adtext lh1 mls">{{ ad.title }}</span></a></li></ul>'),$templateCache.put("templates/amount.jade","<div ng-class=\"{    'button-transfer': tx.txType === 'transfer',    'button-success'    : tx.txType === 'received',    'button-danger'       : tx.txType === 'sent',    'unconfirmed' : tx.confirmations &lt; 3   }\" ng-click=\"toggle()\" class=\"amountTotal em-400 amount\"><fiat btc=\"tx.amount\" ng-hide=\"isBitCurrency(settings.displayCurrency)\" abs></fiat><span ng-show=\"isBitCurrency(settings.displayCurrency)\">{{ absolute(tx.amount) | toBitCurrency:settings.btcCurrency }}</span></div>"),$templateCache.put("templates/async-select.jade",'<div><ui-select ng-model="selected" on-select="didSelect($item)"><ui-select-match><span>{{ displayItem($select.selected, false) }}</span><img src="img/spinner-806ea8a06eb29c46cd9526449bae2fe4f5bb3f32.gif" ng-show="changing" class="mll"></ui-select-match><ui-select-choices repeat="i in range | filter:$select.search track by $index"> <span ng-bind-html="displayItem(i, true) | highlight: $select.search"></span></ui-select-choices></ui-select></div>'),$templateCache.put("templates/bc-async-input.jade",'<div class="width-100"><div ng-hide="status.edit || inline"><h2 ng-if="!transform" class="status complete hidden-xs long-input">{{ ngModel }}<span ng-if="unit">&nbsp;{{ unit }}</span></h2><h2 ng-if="transform" class="status complete hidden-xs long-input">{{ ngModel | toBitCurrency:transform }}</h2><button ng-click="edit()" class="button-primary">{{ actionTitle }}</button></div><form role="form" name="bcAsyncForm" ng-submit="save()" novalidate><div ng-class="{\'has-error\': bcAsyncForm.$invalid &amp;&amp; bcAsyncForm.$dirty &amp;&amp; !bcAsyncForm.input.$error.required &amp;&amp; !bcAsyncForm.input.$error.isNotEqual}" ng-show="inline || status.edit" class="pvl"><div ng-if="!transform"><input focus-when="onFocus" ng-if="type == \'email\'" is-valid="validate()" is-not-equal="{{ ngModel }}" ng-required="isRequired" name="input" type="email" ng-model="form.newValue" maxlength="{{ maxLength }}" ng-focus="focus()" placeholder="{{ placeholder }}" ng-change="onChange()" class="form-control"><input focus-when="onFocus" ng-if="type != \'email\'" is-valid="validate()" is-not-equal="{{ ngModel }}" ng-required="isRequired" name="input" type="text" ng-model="form.newValue" maxlength="{{ maxLength }}" ng-focus="focus()" placeholder="{{ placeholder }}" ng-change="onChange()" class="form-control"></div><div ng-if="transform"><input transform-currency="transform" is-valid="validate()" is-not-equal="{{ ngModel }}" ng-required="isRequired" name="input" type="number" ng-model="form.newValue" ng-focus="focus()" placeholder="({{transform.code}})" ng-change="onChange()" class="form-control"></div><span class="help-block">{{ errorMessage }}</span><span ng-hide="inline &amp;&amp; !status.edit"><button type="submit" ng-disabled="bcAsyncForm.$invalid || bcAsyncForm.$pristine" ui-ladda="status.saving" data-style="expand-left" ladda-translate="{{button}}" ng-class="buttonClass" class="button-success"></button><button type="button" ng-click="cancel(); onChange()" translate="CANCEL" ng-hide="status.saving" class="button-muted btn-small mlm"></button></span></div></form></div>'),$templateCache.put("templates/blocket-loading.jade",'<div ng-hide="initialized" ng-class="{\'orbit\': orbiting, \'liftoff\': liftoff}" class="blocket-loading"><div><img ng-src="img/blocket-full-4847e61888d2d3c9f33f14840f92783d1c91dea2.png" class="full"><img ng-src="img/blocket-no-boosters-c3f2a027ddfdbbce8eba8fc5da84c65d89d14fbc.png"></div></div>'),$templateCache.put("templates/blocket-troposphere.jade",'<div class="blocket-troposphere width-100"><img ng-src="img/blocket-0e3347097571c021717e4ca7bf0d8c5c224a19bb.png" ng-show="status === \'burn_baby_burn\'"><img ng-src="img/blocket-sos-21806eca189d3f6639dd6d515aa75b86c2a612a6.png" ng-show="status === \'of_course_i_still_love_you\'" class="sos"><div class="flex-row flex-between"><div ng-repeat="i in getRange(3)" ng-class="{\'down\': status === \'burn_baby_burn\'}" class="clouds flex-column"><img ng-repeat="i in getRange(24)" ng-src="img/cloud-9a3ee6c9acf38b9b872d8ab4cdbde365ade05700.svg"></div></div></div>'),$templateCache.put("templates/buy-quick-start.jade",'<div class="quick-start"><span translate="BUY_BITCOIN" class="f-20 em-500"></span><div class="mt-15 pt-30 pb-30 pl-15 pr-15 phm border"><form name="fiatForm" ng-submit="!status.busy &amp;&amp; fiatForm.$valid &amp;&amp; triggerBuy()"><div><div class="flex-row flex-between"><div><label translate="ENTER_AMOUNT:" class="em-500"></label><helper-button ng-show="limits.card.min &amp;&amp; limits.card.max" content="MAX_MIN_HELPER" values="{cardMax: limits.card.max, min: limits.card.min, bankMax: limits.bank.max, symbol: currencySymbol.symbol}"></helper-button></div><div ng-show="exchangeRate.fiat"><span class="type-sm em-500">1 BTC = {{currencySymbol.symbol}}{{ exchangeRate.fiat }}</span><helper-button content="EXCHANGE_RATE_HELPER"></helper-button></div></div><div class="flex-row flex-between flex-center flex-column-tablet"><section class="input-group width-45"><input type="number" ng-model="transaction.fiat" name="fiat" tabindex="1" focus-when="status.ready" ng-change="updateLastInput(\'fiat\'); getExchangeRate();" ng-model-options="{debounce: 250}" placeholder="{{placeholder}}" min="{{limits.card.min}}" max="{{limits.bank.available &gt; limits.card.available ? limits.bank.available : limits.card.available}}" step="0.01" required class="form-control brdrn"><div uib-dropdown uib-keyboard-nav-style class="input-group-btn"><button type="button" uib-dropdown-toggle aria-haspopup="true" class="btn btn-default dropdown-toggle brdrn"><span>{{ transaction.currency.code }}</span><span class="caret"></span></button><ul role="menu" class="uib-dropdown-menu dropdown-menu currency-dropdown"><li ng-repeat="currency in currencies" role="menuitem" ng-click="changeCurrency({currency: currency}); getExchangeRate();" ng-class="{active: isCurrencySelected(currency)}"><a ng-click="$event.preventDefault()">{{ currency.code }}</a></li></ul></div></section><i class="ti-arrows-horizontal mhm type-h4 hidden-sm hidden-xs"></i><i class="ti-arrows-vertical mvs type-h4 visible-sm visible-xs"></i><section class="input-group width-45"><input type="number" ng-model="transaction.btc" name="btc" step="any" tabindex="1" min="0.00000001" ng-change="updateLastInput(\'btc\'); getExchangeRate();" ng-model-options="{debounce: 250}" placeholder="{{placeholder}}" required class="form-control brdrn"><div class="input-group-btn"><button class="btn btn-default brdrn disabled">BTC</button></div></section></div><div class="mts pos-rel"><span ng-show="fiatForm.fiat.$error.min" translate="BUY_AMT_LOW" class="pos-abs type-sm state-danger-text"></span><span ng-show="fiatForm.fiat.$error.max" translate="BUY_AMT_HIGH" class="pos-abs type-sm state-danger-text"></span></div></div><div class="flex-end mtvl pos-rel"><span class="coinify-logo coinify-logo-left"><span translate="POWERED_BY" class="mrs type-sm"></span><a href="https://www.coinify.com/" target="_blank" rel="noopener noreferrer"><img src="img/coinify-logo-fa0a52746e159ab426bbaa496ed54d0f34f24a3b.svg"><span uib-tooltip="{{\'PROCESSED_BY_EXCHANGE\' | translate}}" tooltip-append-to-body="true" class="pos-abs fade height-100 width-100"></span></a></span><button translate="Buy Bitcoin" type="submit" ng-disabled="!fiatForm.$valid || status.busy" class="button-primary"></button></div></form></div></div>'),$templateCache.put("templates/buy-steps.jade",'<div ng-hide="status.loading" ng-click="buy()" ng-class="{\'flex-justify\': exchangeAcct}" class="buy-steps flex-row flex-between flex-baseline center"><div ng-class="{blue: beforeStep(\'select-payment-medium\')}" ng-hide="exchangeAcct" class="width-25 flex-column flex-center"><i class="type-lrg ti-user"></i><span translate="ACCOUNT"></span></div><div ng-hide="exchangeAcct" class="flex-justify"><i class="ti-arrow-right type-h4"></i></div><div ng-class="{blue: afterStep(\'accept-terms\') &amp;&amp; beforeStep(\'isx\')}" class="width-25 flex-column flex-center"><i ng-class="{bank: (getMedium().inMedium === \'bank\' || medium === \'bank\') || isKYC}" class="type-lrg ti-credit-card"></i><span translate="METHOD"></span></div><div class="flex-justify"><i class="ti-arrow-right type-h4"></i></div><div ng-class="{blue: afterStep(\'summary\') &amp;&amp; beforeStep(\'trade-formatted\')}" class="width-25 flex-column flex-center"><i class="type-lrg ti-id-badge bank"></i><span translate="VERIFY_PAYMENT"></span></div><div class="flex-justify"><i class="ti-arrow-right type-h4"></i></div><div ng-class="{blue: onStep(\'trade-formatted\')}" class="width-25 flex-column flex-center"><i class="type-lrg ti-shopping-cart"></i><span translate="GET_BITCOIN"></span></div></div>'),$templateCache.put("templates/completed-level-tooltip.jade",'<div class="flex-column"><div class="border-bottom pbm"><i class="ti-check bright-green h3 mts"></i><p>{{::message|translate}}</p></div><p>{{::content|translate}}</p></div>'),$templateCache.put("templates/completed-level.jade",'<div uib-tooltip-template="tooltip.templateUrl" tooltip-placement="{{::tooltip.placement}}" class="level-complete-container"><div class="flex-justify flex-center"><img ng-src="{{::img}}"></div><p class="bright-green"><i class="ti-check prm"></i><span>{{::message|translate}}</span></p></div>'),$templateCache.put("templates/configure-mobile-number.jade",'<div ng-class="{\'offset-flag\': fullWidth}" class="edit-mobile"><p translate="ENABLE_2FA_ENTER_MOBILE"></p><form ng-class="{\'width-100 flex\' : fullWidth}" role="form" name="mobileForm" ng-submit="changeMobile()"><span ng-hide="status.disableChangeBecause2FA()"><bc-phone-number ng-model="fields.newMobile" default-country="{{ mobileDefaultCountry }}" preferred-countries="us ca gb au" ng-disabled="status.busy || status.disableChangeBecause2FA()" ng-class="{\'prl\' : fullWidth}" name="mobile"></bc-phone-number></span><span ng-show="status.disableChangeBecause2FA()" translate="MOBILE_NUMBER_CHANGE_DISABLED_BECAUSE_SMS_2FA" class="help-block"></span><br ng-if="!fullWidth"><div ng-class="{\'flex-1\': fullWidth, \'mll\': fullWidth}"><button type="submit" ui-ladda="status.busy" ng-disabled="mobileForm.mobile.$invalid || !numberChanged() || status.disableChangeBecause2FA()" ladda-translate="SAVE" class="button-success"></button><button type="button" ng-if="!fullWidth" ng-click="cancel()" translate="CANCEL" class="button-muted btn-small"></button></div></form></div>'),$templateCache.put("templates/confirm-recovery-phrase.jade",'<div class="mbl"><button type="button" ng-click="confirmRecoveryPhrase()" translate="CONFIRM_RECOVERY_PHRASE" class="button-primary"></button></div>'),$templateCache.put("templates/destination-input.jade",'<div class="destination-input"><ui-select ng-model="model" ng-model-options="{}" ng-show="selectOpen" on-select="setModel($select.selected)" ui-select-open="$parent.selectOpen" ui-select-on-close="$parent.selectOpen=false; focusInput()" tagging><ui-select-match placeholder="{{\'SEARCH\' | translate}}..."></ui-select-match><ui-select-choices repeat="d in destinations | filter:{label:$select.search} | limitTo:limit track by $index" group-by="\'type\'"><label-origin origin="::d" highlight="$select.search" in-view="$last &amp;&amp; isLast(d) &amp;&amp; incLimit()"></label-origin></ui-select-choices></ui-select><div ng-click="focus()" ng-hide="selectOpen" class="input-group"><button type="button" ng-hide="model.type === \'External\'" ng-click="clearModel(); focusInput();" class="form-control"><span class="pull-left"><label-origin origin="model" simple="true"></label-origin></span></button><input id="address-field" type="text" tabindex="1" autocomplete="off" placeholder="Paste or scan an address or select a destination" ng-model="model.address" ng-show="model.type === \'External\'" ng-blur="blur()" autofocus class="form-control"><div class="input-group-btn"><qr-scan on-scan="onAddressScan"></qr-scan><button type="button" ng-hide="dropdownHidden" ng-click="selectOpen=true" class="btn btn-default brdrn"><span class="caret"></span><span class="sr-only">Toggle Dropdown</span></button></div></div></div>'),$templateCache.put("templates/did-you-know.jade",'<div class="dyk"><div class="flex-between flex-center mbl"><h5 translate="DYK" class="mvn type-h5 em-400"></h5><div ng-class="dyk.type.toLowerCase()" class="hashtag em-400 em-alt flex-center"> \n{{ dyk.type | translate }}</div></div><div class="widget"><div class="flex-center mbm"><i ng-class="dyk.icon" class="title aaa"></i><p ng-class="dyk.type.toLowerCase()" class="h3 em-300 mll blue">{{ dyk.title | translate }}</p></div><p class="text em-300">{{ dyk.text | translate }}<span ng-if="dyk.state"><a ui-sref="{{ dyk.state }}" ng-hide="dyk.external" class="mls">{{ dyk.linkText | translate }}</a><a href="{{ dyk.state }}" target="_blank" ng-show="dyk.external" rel="noopener noreferrer" class="mls">{{ dyk.linkText | translate }}</a></span></p></div></div>'),$templateCache.put("templates/faq-question.jade",'<div translate-namespace="FAQ_QUESTIONS.{{q.name}}" class="faq-question"><div ng-click="onToggle()" class="question pointer flex-between em-500"><span translate=".Q"></span><i ng-class="q.displayed ? \'blue ti-angle-up\' : \'ti-angle-down\'"></i></div><div ng-if="q.displayed" class="answer text em-300 mts flex"><p class="em-300 mbn flex-2"><span translate=".A" translate-values="{{q.values}}" ui-sref="{{q.values.link}}" ng-click="q.values.click()"></span>&nbsp;<span ng-show="q.link" translate="{{q.link[0]}}" ui-sref="{{q.link[1]}}" class="pointer blue"></span></p><div class="flex-1"></div></div></div>'),$templateCache.put("templates/fiat-or-btc.jade",'<span><fiat btc="btc" ng-hide="isBitCurrency(currency)"></fiat><span ng-show="isBitCurrency(currency)">{{ btc | toBitCurrency:currency }}</span></span>'),$templateCache.put("templates/hd-address.jade",'<tr><td class="col-md-6"><a ng-href="{{::addressLink(address.address)}}" ng-bind-html="::address.address | escapeHtml | highlight:searchText" target="_blank" rel="noopener noreferrer"></a>&nbsp;<span translate="NO_TXS" ng-show="pastAddress &amp;&amp; address.ntxs === 0" class="security-yellow parens"></span></td><td class="col-md-6 address-label"><div ng-show="editing" class="flex-row flex-between"><bc-async-input inline ng-model="address.label" on-save="changeLabel" on-cancel="cancelEdit" is-required editing="editing" on-focus="editing"></bc-async-input></div><div ng-hide="editing" class="flex-row flex-between"><div ng-class="{\'width-100\': !pastAddress}" class="flex-between"><span ng-bind-html="address.label | escapeHtml | highlight:searchText" ng-show="address.label" class="flex-1 prm oflow"></span><span ng-class="{\'float-right\': address.label}"><a ng-click="editing = true"><i ng-show="address.label" class="ti-pencil prm"></i><span translate="ADD_A_LABEL" ng-hide="address.label" class="pointer aaa"></span></a><a ng-click="removeLabel()" ng-show="address.label"><i class="ti-trash prm"></i></a></span></div><div ng-if="pastAddress"><span ng-hide="address.balance == null">{{ address.balance | convert }}</span><img src="img/spinner-806ea8a06eb29c46cd9526449bae2fe4f5bb3f32.gif" ng-show="address.balance == null"></div></div></td></tr>'),$templateCache.put("templates/helper-button.jade",'<button type="button" uib-popover-template="helperText.templateUrl" popover-class="message-contextual" popover-append-to-body="{{!append}}" popover-trigger="outsideClick" popover-placement="{{::helperText.placement}}" popover-is-open="popoverIsOpen" ng-class="{active: popoverIsOpen}" ng-click="popoverIsOpen = !popoverIsOpen" class="helper"><span ng-show="!popoverIsOpen &amp;&amp; !warning">?</span><span ng-show="!popoverIsOpen &amp;&amp; warning">!</span><span ng-show="popoverIsOpen" class="close-helper"></span></button>'),$templateCache.put("templates/helper-popover.jade",'<div><p class="type-sm black">{{::content | translate:values}}<span ng-show="linktext != undefined">&nbsp;<a href="{{::link}}" target="_blank" rel="noopener noreferrer">{{::linktext | translate}}</a>.</span></p></div>'),$templateCache.put("templates/imported-address.jade",'<tr class="width-100"><td class="col-md-3"><a ng-bind-html="address.address | escapeHtml | highlight:searchText" ng-click="showAddress(address)"></a><span translate="WATCH_ONLY" ng-show="address.isWatchOnly" class="label label-default btn-xs"></span><div class="flex-row"><span ng-hide="address.label || status.edit" translate="ADD_A_LABEL" ng-click="status.edit=1" class="pointer aaa"></span><span ng-bind-html="address.label | escapeHtml | highlight:searchText" ng-hide="status.edit || !address.label" class="prm oflow"></span><div ng-class="{\'has-error\': errors.label}" ng-show="status.edit" class="form-group mbn"><div class="col-sm-12"><bc-async-input inline ng-model="address.label" on-save="changeLabel" on-cancel="cancelEdit" is-required editing="true" on-focus="status.edit"><span ng-show="errors.label" class="help-block">{{::errors.label}}  </span></bc-async-input></div></div><a ng-click="status.edit=1" ng-hide="status.edit || !address.label"><i class="ti-pencil prm"></i></a></div></td><td class="col-md-3 center"><span ng-show="address.balance != null" class="display-inline-block right-align"><span class="display-block em-500">{{ address.balance | toBitCurrency:settings.btcCurrency }}</span><fiat btc="address.balance"></fiat></span><img ng-show="address.balance == null" src="img/spinner-806ea8a06eb29c46cd9526449bae2fe4f5bb3f32.gif"></td><td class="col-md-3 right-align"><span uib-dropdown on-toggle="toggled(open)"><a href uib-dropdown-toggle id="more-dropdown" translate="More Options"> </a><ul uib-dropdown-menu aria-labelledby="more-dropdown" class="dropdown-menu dropdown-menu-right"><li><a translate="ARCHIVE" ng-click="archive(address)"></a></li><li><a translate="YOUR_PRIVATE_KEY" ng-hide="address.isWatchOnly" ng-click="showPrivKey()"></a></li><li><a ng-hide="address.balance == 0" translate="TRANSFER" ng-click="transfer()"></a></li><li><a translate="SIGN_MESSAGE" ng-hide="address.isWatchOnly" ng-click="signMessage()"></a></li><li><a ng-hide="address.balance == 0" translate="SPEND_IMPORTED_ADDRESS" ng-click="spend()"></a></li></ul></span></td></tr>'),$templateCache.put("templates/ip-whitelist-restrict.jade",'<div class="mtl"><a ng-click="enableIpWhitelistRestrict()" translate="ENABLE" ng-hide="settings.restrictToWhitelist" class="button-primary"></a><a ng-click="disableIpWhitelistRestrict()" translate="DISABLE" ng-show="settings.restrictToWhitelist" class="button-primary"></a></div>'),$templateCache.put("templates/kyc-status.jade",'<div ng-show="$ctrl.getState() &amp;&amp; $ctrl.level &lt; 2" class="kyc-status flex-row border pbl ptl"><div class="flex-1 pll mlm"><h1><i ng-class="$ctrl.getState().i" class="type-h4"></i></h1></div><div class="flex-4 flex-column flex-justify pll"><span translate="{{$ctrl.getState().ns}}.TITLE" class="type-h5 mbs mts"></span><span translate="{{$ctrl.getState().ns}}.BODY" translate-values="{ccmax: $ctrl.getCardMax()}" class="type-sm"></span></div><div class="flex-2 flex-center flex-end prl mrm"><span translate="{{$ctrl.getState().ns}}.LINK" ng-click="$ctrl.onTrigger()" class="blue underline pointer type-sm"></span></div></div>'),$templateCache.put("templates/label-origin.jade",'<span><span ng-show="$ctrl.origin" ng-bind-html="($ctrl.origin.label || $ctrl.origin.address) | escapeHtml | highlight:$ctrl.highlight"></span></span><span ng-hide="$ctrl.simple &amp;&amp; $ctrl.origin.type !== \'Accounts\'"><span ng-hide="$ctrl.origin.balance == null">&ensp;({{ $ctrl.origin.balance | convert }})&ensp;</span><span ng-show="$ctrl.origin.isWatchOnly" translate="WATCH_ONLY" class="label label-default"></span></span>'),$templateCache.put("templates/password-entropy.jade",'<div ng-show="password" class="progress"><div ng-class="barColor" role="progressbar" aria-valuenow="{{score}}" aria-valuemin="0" aria-valuemax="100" ng-style="{width:score+\'%\'}" class="progress-bar">{{strength}}</div></div>'),$templateCache.put("templates/pulse-cta.jade",'<div ng-show="active" class="message pointer"><div ng-click="revealMessage()" ng-class="color" class="message-beacon"></div><div ng-show="revealed" class="message-contextual pal"><p translate="{{messageText}}" class="mbl"></p><div class="flex-center flex-around"><a ng-click="dismissMessage()" translate="NO_THANKS" class="aaa"></a><a ng-click="dismissMessage()" ui-sref="{{route}}" translate="{{buttonText}}" class="button-success-alt"></a></div></div></div>'),$templateCache.put("templates/qr-scan-button.jade",'<button type="button" ng-disabled="!browserWithCamera" uib-popover-template="popoverTemplate" popover-trigger="outsideClick" popover-is-open="cameraOn" popover-append-to-body="true" popover-class="qr-popover" ng-click="loader(); cameraOn = true;" class="qr-scan-button btn btn-default"><img src="img/qr-code-798bc40c18586566f4d85d8c1387815565bb2da4.png" alt="QR" ng-hide="loading"><div ng-show="loading" class="ladda-button"><span class="ladda-spinner"><div class="spinner"></div></span></div></button>'),$templateCache.put("templates/qr-scan-popover.jade",'<div class="qr-scan-popover"><bc-qr-reader ng-hide="scanComplete" on-result="onCameraResult" on-error="onCameraError" active="cameraOn" camera-status="cameraOn"></bc-qr-reader><div ng-show="scanComplete" class="qr-result flex-justify flex-center"><div ng-show="scanSuccess" class="flex-center flex-column"><i class="ti-check bright-green"></i><span translate="SCAN_SUCCESS" class="bright-green"></span></div><div ng-hide="scanSuccess" class="flex-center flex-column"><i class="ti-close security-red"></i><span translate="SCAN_FAILED" class="security-red"></span></div></div></div>'),$templateCache.put("templates/quote-countdown.jade",'<div class="type-sm"><span ng-show="!count || expiredQuote" translate="PLACEHOLDER" class="fade"></span><span ng-show="count &amp;&amp; !expiredQuote" translate="RATE_GUARANTEED" translate-values="{count: count}"></span></div>'),$templateCache.put("templates/resend-email-confirmation.jade",'<span><a ng-click="resendEmailConfirmation()" translate="RESEND_EMAIL_VERIFICATION" ng-hide="status.done || status.loading"></a><span translate="EMAIL_CONFIRMATION_SENT" ng-show="status.done" class="label label-success"></span><img src="img/spinner-806ea8a06eb29c46cd9526449bae2fe4f5bb3f32.gif" ng-show="status.loading"></span>'),$templateCache.put("templates/setting-toggle.jade",'<div class="setting-result"><a ng-click="toggle()" translate="{{enableTitle}}" ng-hide="value" class="button-primary display-inline-block"></a><a ng-click="toggle()" translate="{{disableTitle}}" ng-show="value" class="button-primary display-inline-block"></a></div>'),
$templateCache.put("templates/tor.jade",'<div><a ng-click="enableBlockTOR()" translate="ENABLE_BLOCK_TOR" ng-hide="settings.blockTOR" ng-class="buttonClass" class="display-inline-block"></a><a ng-click="disableBlockTOR()" translate="DISABLE_BLOCK_TOR" ng-show="settings.blockTOR" ng-class="buttonClass" class="display-inline-block"></a></div>'),$templateCache.put("templates/trade.jade",'<tr class="border"><td class="type-lbl paml"><span ng-if="buySellDebug" uib-dropdown class="mrm"><i uib-dropdown-toggle class="ti-search pointer blue"></i><ul uib-dropdown-menu class="dropdown-menu"><li ng-click="logDetails(trade)" class="pointer pas">Log Trade Details</li><li ng-click="trade.fakeAchSuccess()" ng-show="pending" class="pointer pas">Fake ACH Success</li><li ng-click="trade.fakeAchFail()" ng-show="pending" class="pointer pas">Fake ACH Fail</li></ul></span><span ng-show="completed &amp;&amp; error" class="state mrl state-danger-text">{{ trade.state | translate }}</span><span ng-show="completed &amp;&amp; success &amp;&amp; trade.bitcoinReceived" class="state mrl success">Purchased</span><span ng-show="completed &amp;&amp; success &amp;&amp; !trade.bitcoinReceived" class="state italic mrl">Pending</span><span ng-show="pending" class="state italic mrl capitalize">{{ trade.state | translate }}</span><span ng-click="triggerBuy()" ng-show="trade.state === \'awaiting_transfer_in\'" class="type-sm blue underline pointer">Finish payment</span><span ng-click="triggerBuy()" ng-show="trade.state !== \'awaiting_transfer_in\'" class="type-sm blue underline pointer">View details</span></td><td class="type-lbl pvml"><span class="mrm">{{ trade.createdAt | date:dateFormat }}</span></td><td ng-hide="status.gettingQuote" class="type-lbl pvml right-align"><span ng-hide="!trade.quoteExpireTime || expiredQuote || !pending || trade.bankAccount"><span class="display-inline-block left-align"><quote-countdown trade-obj="trade" expired-quote="expiredQuote"></quote-countdown></span><span ng-if="buySellDebug"><br><span class="display-inline-block mlm"><i ng-click="trade.expireQuote()" class="ti-search">QA: Now</i></span><br></span></span><span ng-class="{italic: pending &amp;&amp; expiredQuote, \'tilda-before\': pending &amp;&amp; expiredQuote}" class="display-inline-block mlm">{{ pending && expiredQuote ? btcExpected / 100000000 : (trade.outAmount || trade.outAmountExpected) / 100000000 }} {{ trade.outCurrency }}</span></td><td class="type-lbl paml right-align"><span ng-hide="status.gettingQuote"><span class="em-600">{{ trade.sendAmount / 100 | format }} {{ trade.inCurrency }}</span><i ng-click="cancel(trade)" ng-show="canCancel" uib-tooltip="{{\'CLICK_TO_CANCEL\' | translate}}" class="ti-trash mls pointer state-danger-text"></i><i ng-hide="canCancel" class="ti-trash fade"></i></span></td><td ng-show="status.gettingQuote" class="type-lbl right-align paml"><img src="img/spinner-806ea8a06eb29c46cd9526449bae2fe4f5bb3f32.gif"></td></tr>'),$templateCache.put("templates/transaction-description.jade",'<div class="flex-column"><div class="flex-start flex-between"><div class="mrl width-20"><span class="timestamp type-sm basic-grey"><date>{{:: tx.time * 1000 | date:\'MMMM d \' + year + \' @ hh:mm a\' }}</date></span><div ng-click="tx.toggled = !tx.toggled" class="flex-center lh1 pointer"><span ng-class=":: txClass" translate="{{:: txDirection }}" class="action type-lbl em-500 prm"></span></div><span translate="WATCH_ONLY" ng-show=":: txWatchOnly" class="label label-default mts"></span><span ng-show="txMethod != null" class="label label-primary mts"><span translate="BOUGHT_VIA" translate-values="{exchange:exchange}" ng-show="txMethod === \'buy\'"></span><span translate="SOLD_VIA" translate-values="{exchange:exchange}" ng-show="txMethod === \'sell\'"></span></span></div><div class="flex-2 width-30 mrl hidden-sm hidden-xs destination em-400 basic-grey"><transaction-destinations transaction="tx" search="search"></transaction-destinations></div><div class="flex-2 width-30 hidden-sm hidden-xs"><transaction-note transaction="tx" account="account" search="search"></transaction-note></div><div class="flex-1 width-20 amount flex-end"><span> <amount transaction="tx"></amount></span></div></div><div ng-show="tx.toggled" class="hidden-md hidden-lg mtl mbs"><transaction-note transaction="tx" account="account"></transaction-note></div><div ng-show="tx.toggled" class="hidden-md hidden-lg flex-start flex-column mvm"><transaction-destinations transaction="tx" search="search"></transaction-destinations></div><div ng-if="tx.toggled" class="flex-start flex-between dark-grey"><div class="destination flex-align-self-end width-20"><transaction-status transaction="tx"></transaction-status></div><div ng-click="tx.toggled = !tx.toggled" class="flex-1 hidden-sm hidden-xs pointer"><div></div></div><div ng-click="tx.toggled = !tx.toggled" class="flex-1 hidden-sm hidden-xs pointer"><div></div></div><div class="flex-2 flex-column flex-align-end mtvl"><div ng-show="settings.currency.code === \'USD\' &amp;&amp; tx.confirmations &gt; 5" class="flex-row"><p translate="VALUE_AT_SEND" ng-show=":: tx.txType === \'sent\' || tx.txType === \'transfer\'" class="mbn"></p><p translate="VALUE_WHEN_RECEIVED" ng-show=":: tx.txType === \'received\'" class="mbn"></p>:&nbsp;<fiat btc=":: tx.amount" date=":: tx.time" abs class="em-600"></fiat></div><div ng-hide=":: tx.txType === \'received\'" class="flex-row fee"><helper-button content="{{ \'TX_FEE_EXPLAINATION\' | translate }}" append="true"></helper-button><p translate="TX_FEE" class="mbn"></p>:&nbsp;<fiat-or-btc btc=":: tx.fee" class="em-600"></fiat-or-btc></div></div></div></div>'),$templateCache.put("templates/transaction-destinations.jade",'<div ng-class="{\'flex-column-reverse\' : (transaction.txType === \'transfer\' || transaction.txType === \'received\')}"><div class="flex-row"><span ng-show=":: transaction.txType === \'transfer\' || transaction.txType === \'received\'">{{:: \'FROM\' | translate}}:</span><span ng-show=":: transaction.txType === \'sent\'">{{:: \'TO\' | translate}}:</span><span ng-show="txLabels.preview &amp;&amp; txLabels.primary.length &gt; 1 &amp;&amp; !transaction.toggled" ng-click="transaction.toggled = !transaction.toggled" class="mls pointer">{{ txLabels.preview }}</span><span ng-hide="txLabels.preview &amp;&amp; txLabels.primary.length &gt; 1 &amp;&amp; !transaction.toggled" class="dest-oflow"><span><div ng-repeat="address in txLabels.primary track by $index" class="flex-row"><span ng-bind-html="address.label | escapeHtml | highlight:search" class="mls"></span><span ng-show="txLabels.primary.length &gt; 1">&nbsp;(<fiat-or-btc btc="address.amount"></fiat-or-btc>)</span></div></span></span></div><div class="flex-row"><span ng-show=":: transaction.txType === \'transfer\' || transaction.txType === \'received\'">{{:: \'TO\' | translate}}:</span><span ng-show=":: transaction.txType === \'sent\'">{{:: \'FROM\' | translate}}:</span><span ng-show="txLabels.preview &amp;&amp; txLabels.secondary.length &gt; 1 &amp;&amp; !transaction.toggled" ng-click="transaction.toggled = !transaction.toggled" class="mls pointer">{{ txLabels.preview }}</span><span ng-hide="txLabels.preview &amp;&amp; txLabels.secondary.length &gt; 1 &amp;&amp; !transaction.toggled" class="dest-oflow"><span><div ng-repeat="address in txLabels.secondary track by $index" class="flex-row"><span ng-bind-html="address.label | escapeHtml | highlight:search" class="mls"></span><span ng-show="txLabels.secondary.length &gt; 1">&nbsp;(<fiat-or-btc btc="address.amount"></fiat-or-btc>)</span></div></span></span></div></div>'),$templateCache.put("templates/transaction-note.jade",'<div class="flex-column note em-300 width-80"><div class="flex-row flex-end flex-start-tablet"><div ng-hide="editNote" class="flex-row width-100"><div ng-show="label &amp;&amp; !transaction.note" class="tx-note aaa em-400 text-cursor">{{ label }}</div><div ng-hide="label &amp;&amp; !transaction.note" ng-bind-html="transaction.note | escapeHtml | highlight:search" class="tx-note basic-grey em-400 text-cursor"></div><a ng-show="label || transaction.note" ng-click="startEditNote()" class="edit mlm"><i class="ti-pencil"></i></a><a ng-click="startEditNote()" ng-hide="editNote || transaction.note || label" translate="ADD_A_DESCRIPTION" class="aaa em-400"> </a></div><a ng-click="cancelEditNote()" ng-show="editNote" class="cancel"><i class="ti-close"></i></a></div><div ng-show="editNote" ng-class="{\'pos-abs\': transaction.toggled}" class="flex-column input"><textarea on-enter="saveNote()" ng-model="transaction.draftNote" maxlength="255" placeholder="{{\'ADD_A_DESCRIPTION\' | translate}}" class="basic-grey em-400"></textarea><div class="flex-start mts"><span ng-click="saveNote()" translate="SAVE" ng-hide="transaction.note" class="label label-success pointer"></span><span ng-click="saveNote()" translate="UPDATE_NOTE" ng-show="transaction.note" class="label label-success pointer"></span><span ng-click="deleteNote()" ng-show="transaction.note" class="label label-danger pointer mls"><i class="ti-trash type-h4"></i></span></div></div></div>'),$templateCache.put("templates/transaction-status.jade",'<div ng-if="!complete" class="flex-column"><transaction-warning transaction="transaction"></transaction-warning><div class="flex-row flex-between"><i ng-click="verify()" uib-tooltip="{{\'VERIFY_ON_BCI\' | translate}}" tooltip-append-to-body="true" class="pointer ti-new-window blue"></i><helper-button content="{{ \'TRANSACTION_WILL_COMPLETE_IN\' | translate:{minutes: minutesRemaining } }}" ng-if="!frugalWarning" append="true"></helper-button><helper-button content="{{ \'TRANSACTION_FRUGAL\' | translate }}" ng-if="frugalWarning" append="true"></helper-button></div><uib-progressbar value="transaction.confirmations" max="3" class="mts"><span translate="PENDING" class="plm"></span><span>:</span><span class="pls">{{ transaction.confirmations }}</span><span>/3</span><span translate="CONFIRMATIONS" class="pls"></span></uib-progressbar></div><div ng-if="complete" class="success flex-column"><transaction-warning transaction="transaction"></transaction-warning><div ng-click="verify()" class="flex-row flex-center"><i uib-tooltip="{{\'VERIFY_ON_BCI\' | translate}}" tooltip-append-to-body="true" class="pointer ti-new-window blue mrs"></i><span translate="TRANSACTION_COMPLETE" class="mrs mbn em-400"></span><i class="ti-check em-600"></i></div></div>'),$templateCache.put("templates/transaction-warning.jade",'<span tooltip-placement="top-left" ng-show="tx.rbf || tx.double_spend" uib-tooltip="{{::message | translate }}" class="lh1 mrl tx-warning pos-abs"><i class="ti-alert security-red type-h4"></i></span>'),$templateCache.put("templates/transclude.jade","<div ng-transclude></div>"),$templateCache.put("templates/ui-ladda.jade",'<span><span translate="{{ laddaTranslate }}" class="ladda-label"></span><span class="ladda-spinner"><div class="spinner"></div></span></span>'),$templateCache.put("templates/verify-mobile-number.jade",'<div ng-class="fullWidth ? \'width-100 flex-center\' : \'flex-3\'" class="mtm"><form ng-class="{\'flex width-100\': fullWidth}" name="verifyMobileForm" role="form" ng-submit="verifyMobile(code)" novalidate><div class="flex-1"><p ng-class="fullWidth ? \'prl pbl\' : \'\'" translate="LINK_MOBILE_EXPLAIN"></p><div ng-class="{\'has-error\': errors.verify}" class="mvl"><input type="text" ng-model="code" ng-disabled="status.busy" class="form-control"><span class="help-block">{{ errors.verify }}</span><span class="help-block">{{ errors.retryFail }}</span></div></div><div ng-class="fullWidth ? \'mll pll\' : \'\'" class="flex-1"><span class="mrm"><a ng-click="retrySendCode()" ui-ladda="status.retrying" ladda-translate="RESEND" ng-hide="status.retrying || status.retrySuccess"></a><span translate="SENT" ng-show="status.retrySuccess" class="label label-success"></span><img src="img/spinner-806ea8a06eb29c46cd9526449bae2fe4f5bb3f32.gif" ng-show="status.retrying"></span><button type="submit" ui-ladda="status.busy" ng-disabled="!code || code.length &lt; 3" ladda-translate="VERIFY" data-style="expand-left" class="button-success"></button></div></form></div>'),$templateCache.put("templates/virtual-keyboard.jade",'<table class="virtual-keyboard"><tr ng-repeat="row in (caps ? keysUpperCase : keysLowerCase)"><td ng-repeat="key in row"><a ng-click="press(key)">{{ key }}</a></td></tr><tr><td colspan="5"><a ng-click="toggleCaps()">Shift</a></td><td colspan="4"><a ng-click="press(\' \')">Space</a></td></tr></table>'),$templateCache.put("templates/watch-only-address.jade",'<tr><td ng-bind-html="address.address | escapeHtml | highlight:searchText" class="shrink"></td><td class="expand address-label"><span ng-hide="status.edit" class="float-right"><a ng-click="status.edit=1"><i class="ti-pencil prm"></i></a></span><span ng-bind-html="address.label | escapeHtml | highlight:searchText" ng-hide="status.edit" class="prm"></span><div ng-class="{\'has-error\': errors.label}" ng-show="status.edit" class="form-group"><div class="col-sm-12"><bc-async-input inline ng-model="address.label" on-save="changeLabel" on-cancel="cancelEdit" is-required editing><span ng-show="errors.label" class="help-block">{{::errors.label}}  </span></bc-async-input></div></div></td><td class="shrink"><span ng-show="address.balance != null"><fiat-or-btc btc="address.balance"></fiat-or-btc></span><img ng-show="address.balance == null" src="img/spinner-806ea8a06eb29c46cd9526449bae2fe4f5bb3f32.gif"></td><td class="shrink"><a ng-click="delete()"><i class="ti-trash"></i></a></td></tr>'),$templateCache.put("templates/whats-new.jade",'<li ng-if="status.didUpgradeToHd" ng-class="::{flash: feat.date &gt; lastViewedWhatsNew}" ng-repeat="feat in feats | orderBy:\'-date\' track by $index"><h4>{{::feat.title | translate}}<small class="aaa mlm">{{::feat.date | date:\'shortDate\'}}</small></h4><p translate="{{::feat.desc}}"></p></li>'),$templateCache.put("index.jade","<!DOCTYPE html><!-- @if !PRODUCTION --><html lang='en' ng-app='walletApp' ng-init=\"autoCreate=''; autoReload=false; rootURL='/'; webSocketURL='wss://ws.blockchain.info/inv'; apiDomain='api.blockchain.info/'; network='';\" ng-csp ng-class=\"{'not-fixed': outOfApp}\"><!-- @endif -->\n"+'<!-- @if PRODUCTION !><html lang=\'en\' ng-app=\'walletApp\' ng-csp ng-class="{\'not-fixed\': outOfApp}"><!-- @endif --><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"><meta name="theme-color" content="#187fc0"><meta name="apple-itunes-app" content="app-id=493253309"><meta name="description" content="Discover the world\'s most popular bitcoin wallet. Visit today to create your free simple, secure and safe Blockchain Wallet."><meta name="keywords" content="bitcoin wallet, blockchain wallet, online bitcoin wallet, bitcoin wallet online"><!-- @if !PRODUCTION --><script src="bower_components/angular/angular.js" defer></script><script src="bower_components/angular-sanitize/angular-sanitize.js" defer></script><script src="bower_components/angular-animate/angular-animate.js" defer></script><script src="bower_components/angular-bootstrap/ui-bootstrap-tpls.js" defer></script><script src="bower_components/angular-translate/angular-translate.js" defer></script><script src="bower_components/angular-translate-loader-static-files/angular-translate-loader-static-files.js" defer></script><script src="bower_components/browserdetection/src/browser-detection.js"></script><script src="bower_components/oclazyload/dist/ocLazyLoad.js" defer></script><script src="bower_components/angular-ui-router/release/angular-ui-router.js" defer></script><script src="bower_components/angular-ui-select/dist/select.js" defer></script><script src="bower_components/ng-file-upload/ng-file-upload-shim.min.js" defer></script><script src="bower_components/ng-file-upload/ng-file-upload.min.js" defer></script><!-- include: "type": "js", "files": "build/js/sharedDirectives.js"--><!-- include: "type": "js", "files": "build/js/sharedDirectives/*.js"--><!-- include: "type": "js", "files": "build/js/translations.js"--><!-- include: "type": "js", "files": "build/js/app.js"--><!-- include: "type": "js", "files": "build/js/landingCtrl.js"--><!-- include: "type": "js", "files": "build/js/services/bcTranslationLoader.service.js"--><!-- include: "type": "js", "files": "build/js/services/languages.service.js"--><!-- include: "type": "js", "files": "build/js/routes.js"-->\n<!-- @endif -->\n<!-- @if PRODUCTION !><script src="js/landing.min.js" defer></script><!-- @endif --><link rel="alternate" hreflang="en" href="https://blockchain.info/wallet"><link rel="alternate" hreflang="de" href="https://blockchain.info/de/wallet"><link rel="alternate" hreflang="hi" href="https://blockchain.info/he/wallet"><link rel="alternate" hreflang="no" href="https://blockchain.info/no/wallet"><link rel="alternate" hreflang="ru" href="https://blockchain.info/ru/wallet"><link rel="alternate" hreflang="pt" href="https://blockchain.info/pt/wallet"><link rel="alternate" hreflang="bg" href="https://blockchain.info/bg/wallet"><link rel="alternate" hreflang="fr" href="https://blockchain.info/fr/wallet"><link rel="alternate" hreflang="zh-cn" href="https://blockchain.info/zh-cn/wallet"><link rel="alternate" hreflang="hu" href="https://blockchain.info/hu/wallet"><link rel="alternate" hreflang="sl" href="https://blockchain.info/sl/wallet"><link rel="alternate" hreflang="id" href="https://blockchain.info/id/wallet"><link rel="alternate" hreflang="sv" href="https://blockchain.info/sv/wallet"><link rel="alternate" hreflang="co" href="https://blockchain.info/co/wallet"><link rel="alternate" hreflang="el" href="https://blockchain.info/el/wallet"><link rel="alternate" hreflang="it" href="https://blockchain.info/it/wallet"><link rel="alternate" hreflang="es" href="https://blockchain.info/es/wallet"><link rel="alternate" hreflang="vi" href="https://blockchain.info/vi/wallet"><link rel="alternate" hreflang="th" href="https://blockchain.info/th/wallet"><link rel="alternate" hreflang="ja" href="https://blockchain.info/ja/wallet"><link rel="alternate" hreflang="pl" href="https://blockchain.info/pl/wallet"><link rel="alternate" hreflang="da" href="https://blockchain.info/da/wallet"><link rel="alternate" hreflang="ro" href="https://blockchain.info/ro/wallet"><link rel="alternate" hreflang="nl" href="https://blockchain.info/nl/wallet"><link rel="alternate" hreflang="tr" href="https://blockchain.info/tr/wallet"><link rel="apple-touch-icon" sizes="180x180" href="img/favicon/apple-icon-180x180-0b56e88f0883835215bd4df1a843800c355b8bb4.png"><link rel="apple-touch-icon" sizes="152x152" href="img/favicon/apple-icon-152x152-cea230f856ebe84f7a5992d3552777435b396894.png"><link rel="apple-touch-icon" sizes="144x144" href="img/favicon/apple-icon-144x144-4258ff860c33eca741fd6764d2e05f9eb862406e.png"><link rel="apple-touch-icon" sizes="120x120" href="img/favicon/apple-icon-120x120-f4ab7ecbc0758859ec2c1f5a8b7401027d087700.png"><link rel="apple-touch-icon" sizes="114x114" href="img/favicon/apple-icon-114x114-810179f4db5079a5998dffbb3d9d87261af86367.png"><link rel="apple-touch-icon" sizes="76x76" href="img/favicon/apple-icon-76x76-0bedf775c3d168cc18ecbcfe9aaf25347346d4b0.png"><link rel="apple-touch-icon" sizes="72x72" href="img/favicon/apple-icon-72x72-a1636597ced05b109976ffe0c816a7929f6d2ba7.png"><link rel="apple-touch-icon" sizes="60x60" href="img/favicon/apple-icon-60x60-59b80eb9ec339782847e749ac51c9fae7a48d9ef.png"><link rel="apple-touch-icon" sizes="57x57" href="img/favicon/apple-icon-57x57-3541b029f1a2c6c8bd02816dd1330ff90055c6f9.png"><link rel="icon" type="image/png" sizes="192x192" href="img/favicon/android-icon-192x192-61b0cd94cd3e0919b206e2f92a5af7c9ddcef1b6.png"><link rel="icon" type="image/png" sizes="96x96" href="img/favicon/favicon-96x96-3339ccad098c56d7875b82d4aad3d0b514a01f48.png"><link rel="icon" type="image/png" sizes="32x32" href="img/favicon/favicon-32x32-85dd4660294bc8a199603da9afbe55522b612341.png"><link rel="icon" type="image/png" sizes="16x16" href="img/favicon/favicon-16x16-f62c3daa293216ae0c561a3bd9213e91224ab6c7.png"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="img/favicon/ms-icon-144x144-4258ff860c33eca741fd6764d2e05f9eb862406e.png"><title>Bitcoin Wallet - Blockchain</title><!-- @if !PRODUCTION -->  <link rel="stylesheet" href="build/css/wallet.css"><!-- @endif -->\n<!-- @if PRODUCTION !><link rel="stylesheet" href="css/wallet.css"><!-- @endif --></head><body data-preflight ui-view="body" ng-mousemove="onAction()" ng-click="onAction()" ng-class="getTheme()"><noscript><img src="/img/logo-bw-916394e4420d979035338a3565a1c8c23338c266.png"><h3>Please enable JavaScript to use the Blockchain Wallet</h3></noscript></body>'),$templateCache.put("landing.jade",'<div translate-namespace="LANDING" class="landing-page"><public-header i18n-loaded="i18nLoaded"></public-header><div class="quickstart"><div id="intro-header"><div class="flex-center flex-row flex-column-mobile container"><div class="flex-1 flex-center center flex-column pvl phl"><h5 translate="NEW_USERS" class="flex-1 mtn"></h5><p translate="NEW_USERS_COPY" class="flex-1"></p><button ui-sref="public.signup" translate="CREATE_NEW" class="button-success"></button></div><div class="flex-1 flex-center center flex-column pvl phl border-left"><h5 translate="EXISTING_USERS" class="flex-1 mtn"></h5><p translate="EXISTING_USERS_COPY" class="flex-1"></p><button ui-sref="public.login-no-uid" translate="LOGIN_NOW" class="button-primary"></button></div><div class="flex-1 flex-center center flex-column pvl phl hidden-xs border-left"><h5 translate="HOW_IT_WORKS" class="flex-1 mtn"></h5><p translate="HOW_IT_WORKS_COPY" class="flex-1"></p><a href="{{rootURL}}wallet/how-it-works" translate="HOW_IT_WORKS" target="_blank" class="button-default"></a></div></div></div></div><div data-preflight-tag="LandingPage" class="banner"><div class="flex-column height-100 flex-center flex-justify container"><div class="width-100"><h1 translate="MOST_POPULAR_WALLET" class="center width-100"></h1></div><div class="flex-row flex-around width-100 flex-between-mobile container hidden-xs stats"><div class="flex-column center width-30"><span translate="TRANSACTIONS_AMT" class="type-med em-400 white lh1"></span><span translate="TRANSACTIONS" class="type-h5 white"></span></div><div class="flex-column center width-30"><span translate="WALLETS_AMT" class="type-med em-400 white lh1"></span><span translate="WALLETS" class="type-h5 white"></span></div><div class="flex-column center width-30"><span translate="COUNTRIES_SERVED_AMT" class="type-med em-400 white lh1"></span><span translate="COUNTRIES_SERVED" class="type-h5 white"></span></div></div><div class="flex-center flex-column flex-justify signup"><div class="flex-column pos-rel width-100-mobile center"><button type="submit" ui-sref="public.signup" translate="CREATE_YOUR_WALLET" class="button-primary btn button-vlg mtl"> </button><span class="type-h5 mtm"><span translate="ALREADY_HAVE_WALLET"> </span><a ui-sref="public.login-no-uid" translate="LOG_IN" class="mls em-500 white underline"></a></span></div></div></div></div><div class="newtobitcoin container"><div id="newToBTC" class="container-max-width container-fluid width-100"><div class="flex-column flex-justify flex-center mvvl"><h2 translate=".NEW_TO_BITCOIN" class="em-200 mvn font-4 font-3-mobile center"></h2></div></div><div class="new container-max-width container-fluid width-100"><div class="flex-row flex-column-mobile flex-column-med"><video-container img="img/blockchain-ad-placeholder-d232c25892a75ec148e9bb02c7df86cf8824876c.jpg" ng-src="adUrl" class="col-md-6 blue-play-button small-image"></video-container><div class="flex-column width-50 flex-1 flex-center flex-justify"><div id="timeline" class="flex-row flex-1 flex-center mhvl mhl-mobile mbl"><img src="img/logo-timeline-054e3b656ae891ea97094d86a8f48573716b4cfc.png" alt="Blockchain Bitcoin Timeline" class="flex-1"></div><div class="bitinf flex-row flex-center mbl mhvl mhl-mobile flex-1"><img src="img/logo-what-bitcoin-b8eae0be59847f2338989d7e2e445aa8e07e4143.png" alt="What is Bitcoin" class="width-3 width-200-mobile mrl"><div class="flex-column flex-1"><h3 translate=".WHAT_IS_BITCOIN" class="flex-1 mtn blue"></h3><p translate=".BITCOIN_IS" class="flex-1"></p></div></div><div class="bitinf flex-row flex-center mvl mhvl mhl-mobile flex-1"><img src="img/logo-why-bitcoin-e09e33253fe68bc83621b28f40ccb189c068fe2e.png" alt="Why use Blockchain Bitcoin Wallet" class="width-3 width-200-mobile mrl"><div class="flex-column flex-1"><h3 translate=".WHY_USE" class="flex-1 blue"></h3><p translate=".USE_BECAUSE" class="flex-1"></p></div></div></div></div></div></div><uib-carousel active="active" interval="0"><h4 translate=".LOVED_BY_ALL"></h4><uib-slide index="0"><div><img src="img/logo-nytimes-8bf3619f78804947d676c9d827d1fd26da561141.svg" alt="Blockchain Bitcoin Wallet New York Times"><p translate="QUOTE_0"></p><span class="author"><a href="http://nyti.ms/1sfHj9b" target="_blank">The New York Times</a></span></div></uib-slide><uib-slide index="1"><div><p translate="QUOTE_1"></p><span translate="WALLET_USER" class="author"></span></div></uib-slide><uib-slide index="2"><div><img src="img/logo-wsj-39e7a10d351c08f011338171f5e7bee129d84f9f.svg" alt="Blockchain Bitcoin Wallet Wall Street Journal"><p translate="QUOTE_2"></p><span class="author"><a href="http://on.wsj.com/1u5CFZF" target="_blank">The Wall Street Journal</a></span></div></uib-slide><uib-slide index="3"><div><p translate="QUOTE_3"></p><span translate="WALLET_USER" class="author"></span></div></uib-slide><uib-slide index="4"><div><img src="img/logo-techcrunch-2fdcdb47b73a7f3622e3738541431196c78356b3.svg" alt="Blockchain Bitcoin Wallet Techcrunch"><p translate="QUOTE_4"></p><span class="author"><a href="http://techcrunch.com/2014/07/19/blockchain-releases-new-android-wallet-app-to-put-bitcoin-into-everyones-hands/" target="_blank">Tech Crunch</a></span></div></uib-slide><uib-slide index="5"><div><p translate="QUOTE_5"></p><span translate="WALLET_USER" class="author"></span></div></uib-slide><uib-slide index="6"><div><img src="img/logo-telegraph-c15b84ea15eb8f3dfe25aeb9a5a2a3b71b7af55a.svg" alt="Blockchain Bitcoin Wallet Telegraph"><p translate="QUOTE_6"></p><span class="author"><a href="http://bit.ly/1sdIEzZ" target="_blank">The Telegraph</a></span></div></uib-slide><uib-slide index="7"><div><p translate="QUOTE_7"></p><span translate="WALLET_USER" class="author"></span></div></uib-slide><uib-slide index="8"><div><p translate="QUOTE_8"></p><span translate="WALLET_USER" class="author"></span></div></uib-slide></uib-carousel><div class="container flex-center"><div class="whyuseblockchain width-80 flex-column flex-center"><div class="flex-column flex-justify flex-center mtvl mbm"><h2 translate="WHY_USE_BLOCKCHAIN" class="em-200 mvn font-4 font-3-mobile center"></h2></div><div translate="ABOUT_BLOCKCHAIN_WALLET" class="type-h5 center pbm width-100 font-1-mobile"></div><div class="flex-row pos-rel width-100 ptl mbvl flex-column-mobile"><div class="flex-column width-50 plrl-desk"><div class="flex-row pbvl flex-center"><img src="img/logo-easy-to-use-b2a465a86fe4dd6bbb8fb9633310cfdb4ccbc11a.png" alt="Blockchain Bitcoin Wallet Easy To Use"><div class="flex-column width-100"><h3 translate="SIMPLE"></h3><h4 translate="WE_MAKE_USING_BTC"></h4></div></div><div class="flex-row pbvl flex-center"><img src="img/logo-mobile-bitcoin-58d5c96a729226176616e8f0f72fbd38f50fdff3.png" alt="Blockchain Bitcoin Wallet Mobile"><div class="flex-column width-100"><h3 translate="CROSS_PLATFORM"></h3><h4 translate="ACCESS_ANYWHERE"></h4></div></div><div class="flex-row pbvl flex-center"><img src="img/logo-interoperability-f119b68e6130b9cc6a6562adb04ab6593b1acd1a.png" alt="Blockchain Bitcoin Wallet Interoperability"><div class="flex-column width-100"><h3 translate="GLOBAL"></h3><h4 translate="GLOBAL_INFO"></h4></div></div></div><div class="flex-column width-50 plrl-desk"><div class="flex-row pbvl flex-center"><img src="img/logo-client-side-encryption-c224465a0d0892d940482fcb445d237dd9f7bcfe.png" alt="Blockchain Bitcoin Wallet Client Side Encryption"><div class="flex-column width-100"><h3 translate="SAFE_AND_SECURE"></h3><h4 translate="SECURITY_INFO"></h4></div></div><div class="flex-row pbvl flex-center"><img src="img/logo-support-511092b903c8844855fcce5b2b7bc1914dc1a6f1.png" alt="Blockchain Bitcoin Wallet Support"><div class="flex-column width-100"><h3 translate="SUPPORTED"></h3><h4 translate="DEDICATED_SUPPORT_TEAM"></h4></div></div><div class="flex-row pbvl flex-center"><img src="img/logo-hd-arch-6e4f828c5fc662e2803322fcafc161465f556cab.png" alt="Blockchain Bitcoin Wallet Hierarchical Deterministic"><div class="flex-column width-100"><h3 translate="SOPHISTICATED"></h3><h4 translate="SOPHISTICATED_INFO"></h4></div></div></div></div></div></div><div class="flex-center flex-column flex-justify"><h3 class="mbn mtl flex-start">Be Your Own Bank<small>®</small></h3><form role="form" name="signupForm" ng-submit="signup(fields.email)" autocomplete="off" novalidate class="form-horizontal"><div ng-class="{\'has-error\': signupForm.email.$invalid &amp;&amp; signupForm.email.$touched}" class="form-group flex-row flex-center flex-column-mobile mbvl"><input name="email" type="email" ng-model="fields.email" placeholder="jane@doe.com" required class="form-control lrg mrm mtl"><button type="submit" ng-disabled="signupForm.$invalid" translate="GET_STARTED" class="button-success btn button-vlg mtl"></button></div></form></div></div>')}])}(),function(){"use strict";!function(){navigator.getMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,window.hasUserMedia=function(){return!!navigator.getMedia}}(),angular.module("webcam",[]).directive("webcam",function(){return{template:'<div class="webcam" ng-transclude></div>',restrict:"E",replace:!0,transclude:!0,scope:{onError:"&",onStream:"&",onStreaming:"&",placeholder:"=",config:"=channel"},link:function($scope,element){var videoElem=null,videoStream=null,placeholder=null;$scope.config=$scope.config||{};var _removeDOMElement=function(DOMel){DOMel&&angular.element(DOMel).remove()},onDestroy=function(){if(videoStream){var checker="function"==typeof videoStream.getVideoTracks;if(videoStream.getVideoTracks&&checker){var tracks=videoStream.getVideoTracks();tracks&&tracks[0]&&tracks[0].stop&&tracks[0].stop()}else videoStream.stop&&videoStream.stop()}videoElem&&delete videoElem.src},onSuccess=function(stream){if(videoStream=stream,navigator.mozGetUserMedia)videoElem.mozSrcObject=stream;else{var vendorURL=window.URL||window.webkitURL;videoElem.src=vendorURL.createObjectURL(stream)}videoElem.play(),$scope.config.video=videoElem,$scope.onStream&&$scope.onStream({stream:stream})},onFailure=function(err){_removeDOMElement(placeholder),console&&console.log&&console.log("The following error occured: ",err),$scope.onError&&$scope.onError({err:err})},startWebcam=function(){videoElem=document.createElement("video"),videoElem.setAttribute("class","webcam-live"),videoElem.setAttribute("autoplay",""),element.append(videoElem),$scope.placeholder&&(placeholder=document.createElement("img"),placeholder.setAttribute("class","webcam-loader"),placeholder.src=$scope.placeholder,element.append(placeholder));var isStreaming=!1,width=element.width=$scope.config.videoWidth||320,height=element.height=0;if(!window.hasUserMedia())return void onFailure({code:-1,msg:"Browser does not support getUserMedia."});var mediaConstraint={video:!0,audio:!1};navigator.getMedia(mediaConstraint,onSuccess,onFailure),videoElem.addEventListener("canplay",function(){if(!isStreaming){var scale=width/videoElem.videoWidth;height=videoElem.videoHeight*scale||$scope.config.videoHeight,videoElem.setAttribute("width",width),videoElem.setAttribute("height",height),isStreaming=!0,$scope.config.video=videoElem,_removeDOMElement(placeholder),$scope.onStreaming&&$scope.onStreaming()}},!1)},stopWebcam=function(){onDestroy(),videoElem.remove()};$scope.$on("$destroy",onDestroy),$scope.$on("START_WEBCAM",startWebcam),$scope.$on("STOP_WEBCAM",stopWebcam),startWebcam()}}})}(),function(){!function(e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):"undefined"!=typeof window?window.QRCode=e():"undefined"!=typeof global?global.QRCode=e():"undefined"!=typeof self&&(self.QRCode=e())}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){function ALPHA_NUM(data){this.mode=QRMode.MODE_ALPHA_NUM,this.data=data}var QRMode=require("./QRMode.js");ALPHA_NUM.prototype.getCode=function(code){var codes="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",index=codes.indexOf(code);if(index<0)throw new Error("Invalid character: `"+code+"`");return index},ALPHA_NUM.prototype.getLength=function(buffer){
return this.data.length},ALPHA_NUM.prototype.write=function(buffer){for(var i=0;i<this.data.length;i++)this.data[i+1]?buffer.put(45*this.getCode(this.data[i])+this.getCode(this.data[i+1]),11):buffer.put(this.getCode(this.data[i]),6),i++},module.exports=ALPHA_NUM},{"./QRMode.js":9}],2:[function(require,module,exports){function NUMBER(data){this.mode=QRMode.MODE_NUMBER,this.data=data}var QRMode=require("./QRMode.js");NUMBER.prototype.getCode=function(chars){var index=parseInt(chars,10);if(isNaN(index))throw new Error("Invalid character: `"+chars+"`");return index},NUMBER.prototype.getBitLen=function(length){var NUMBER_LENGTH={3:10,2:7,1:4};return NUMBER_LENGTH[length]},NUMBER.prototype.getLength=function(buffer){return this.data.length},NUMBER.prototype.write=function(buffer){for(var i=0;i<this.data.length;i++){var chars=this.data[i];this.data[i+1]&&(chars+=this.data[i+1]),this.data[i+2]&&(chars+=this.data[i+2]);var bitLength=this.getBitLen(chars.length);buffer.put(this.getCode(chars),bitLength),i++,i++}},module.exports=NUMBER},{"./QRMode.js":9}],3:[function(require,module,exports){function QR8bitByte(data){this.mode=QRMode.MODE_8BIT_BYTE,this.data=data}var QRMode=require("./QRMode.js");QR8bitByte.prototype.getCode=function(character){var index=character.charCodeAt(0);if(index>255)throw new Error("Invalid character: `"+character+"`");return index},QR8bitByte.prototype.getLength=function(buffer){return this.data.length},QR8bitByte.prototype.write=function(buffer){for(var i=0;i<this.data.length;i++)buffer.put(this.getCode(this.data[i]),8)},module.exports=QR8bitByte},{"./QRMode.js":9}],4:[function(require,module,exports){function QRBitBuffer(){this.buffer=[],this.length=0}QRBitBuffer.prototype.get=function(index){var bufIndex=Math.floor(index/8);return 1===(this.buffer[bufIndex]>>>7-index%8&1)},QRBitBuffer.prototype.put=function(num,length){for(var i=0;i<length;i++)this.putBit(1===(num>>>length-i-1&1))},QRBitBuffer.prototype.getLengthInBits=function(){return this.length},QRBitBuffer.prototype.putBit=function(bit){var bufIndex=Math.floor(this.length/8);this.buffer.length<=bufIndex&&this.buffer.push(0),bit&&(this.buffer[bufIndex]|=128>>>this.length%8),this.length++},module.exports=QRBitBuffer},{}],5:[function(require,module,exports){function QRCode(typeNumber,errorCorrectLevel,inputMode){this.typeNumber=typeNumber,this.errorCorrectLevel=errorCorrectLevel,this.inputMode=inputMode,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var NUMBER=require("./NUMBER.js"),ALPHA_NUM=require("./ALPHA_NUM.js"),QR8bitByte=require("./QR8bitByte.js"),QRRSBlock=require("./QRRSBlock.js"),QRBitBuffer=require("./QRBitBuffer.js"),QRUtil=require("./QRUtil.js"),QRPolynomial=require("./QRPolynomial.js");QRCode.prototype.addData=function(data){var newData;newData="NUMBER"===this.inputMode?new NUMBER(data):"ALPHA_NUM"===this.inputMode?new ALPHA_NUM(data):new QR8bitByte(data),this.dataList.push(newData),this.dataCache=null},QRCode.prototype.isDark=function(row,col){if(row<0||this.moduleCount<=row||col<0||this.moduleCount<=col)throw new Error(row+","+col);return this.modules[row][col]},QRCode.prototype.getModuleCount=function(){return this.moduleCount},QRCode.prototype.make=function(){var i;if(this.typeNumber<1){var typeNumber=1;for(typeNumber=1;typeNumber<40;typeNumber++){var rsBlocks=QRRSBlock.getRSBlocks(typeNumber,this.errorCorrectLevel),buffer=new QRBitBuffer,totalDataCount=0;for(i=0;i<rsBlocks.length;i++)totalDataCount+=rsBlocks[i].dataCount;for(i=0;i<this.dataList.length;i++){var data=this.dataList[i];buffer.put(data.mode,4),buffer.put(data.getLength(),QRUtil.getLengthInBits(data.mode,typeNumber)),data.write(buffer)}if(buffer.getLengthInBits()<=8*totalDataCount)break}this.typeNumber=typeNumber}this.makeImpl(!1,this.getBestMaskPattern())},QRCode.prototype.makeImpl=function(test,maskPattern){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var row=0;row<this.moduleCount;row++){this.modules[row]=new Array(this.moduleCount);for(var col=0;col<this.moduleCount;col++)this.modules[row][col]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(test,maskPattern),this.typeNumber>=7&&this.setupTypeNumber(test),null===this.dataCache&&(this.dataCache=QRCode.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,maskPattern)},QRCode.prototype.setupPositionProbePattern=function(row,col){for(var r=-1;r<=7;r++)if(!(row+r<=-1||this.moduleCount<=row+r))for(var c=-1;c<=7;c++)col+c<=-1||this.moduleCount<=col+c||(0<=r&&r<=6&&(0===c||6===c)||0<=c&&c<=6&&(0===r||6===r)||2<=r&&r<=4&&2<=c&&c<=4?this.modules[row+r][col+c]=!0:this.modules[row+r][col+c]=!1)},QRCode.prototype.getBestMaskPattern=function(){for(var minLostPoint=0,pattern=0,i=0;i<8;i++){this.makeImpl(!0,i);var lostPoint=QRUtil.getLostPoint(this);(0===i||minLostPoint>lostPoint)&&(minLostPoint=lostPoint,pattern=i)}return pattern},QRCode.prototype.createMovieClip=function(targetMc,instanceName,depth){var qrMc=targetMc.createEmptyMovieClip(instanceName,depth),cs=1;this.make();for(var row=0;row<this.modules.length;row++)for(var y=row*cs,col=0;col<this.modules[row].length;col++){var x=col*cs,dark=this.modules[row][col];dark&&(qrMc.beginFill(0,100),qrMc.moveTo(x,y),qrMc.lineTo(x+cs,y),qrMc.lineTo(x+cs,y+cs),qrMc.lineTo(x,y+cs),qrMc.endFill())}return qrMc},QRCode.prototype.setupTimingPattern=function(){for(var r=8;r<this.moduleCount-8;r++)null===this.modules[r][6]&&(this.modules[r][6]=r%2===0);for(var c=8;c<this.moduleCount-8;c++)null===this.modules[6][c]&&(this.modules[6][c]=c%2===0)},QRCode.prototype.setupPositionAdjustPattern=function(){for(var pos=QRUtil.getPatternPosition(this.typeNumber),i=0;i<pos.length;i++)for(var j=0;j<pos.length;j++){var row=pos[i],col=pos[j];if(null===this.modules[row][col])for(var r=-2;r<=2;r++)for(var c=-2;c<=2;c++)r===-2||2===r||c===-2||2===c||0===r&&0===c?this.modules[row+r][col+c]=!0:this.modules[row+r][col+c]=!1}},QRCode.prototype.setupTypeNumber=function(test){var mod,i,bits=QRUtil.getBCHTypeNumber(this.typeNumber);for(i=0;i<18;i++)mod=!test&&1===(bits>>i&1),this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=mod;for(i=0;i<18;i++)mod=!test&&1===(bits>>i&1),this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=mod},QRCode.prototype.setupTypeInfo=function(test,maskPattern){var mod,i,data=this.errorCorrectLevel<<3|maskPattern,bits=QRUtil.getBCHTypeInfo(data);for(i=0;i<15;i++)mod=!test&&1===(bits>>i&1),i<6?this.modules[i][8]=mod:i<8?this.modules[i+1][8]=mod:this.modules[this.moduleCount-15+i][8]=mod;for(i=0;i<15;i++)mod=!test&&1===(bits>>i&1),i<8?this.modules[8][this.moduleCount-i-1]=mod:i<9?this.modules[8][15-i-1+1]=mod:this.modules[8][15-i-1]=mod;this.modules[this.moduleCount-8][8]=!test},QRCode.prototype.mapData=function(data,maskPattern){for(var inc=-1,row=this.moduleCount-1,bitIndex=7,byteIndex=0,col=this.moduleCount-1;col>0;col-=2)for(6===col&&col--;;){for(var c=0;c<2;c++)if(null===this.modules[row][col-c]){var dark=!1;byteIndex<data.length&&(dark=1===(data[byteIndex]>>>bitIndex&1));var mask=QRUtil.getMask(maskPattern,row,col-c);mask&&(dark=!dark),this.modules[row][col-c]=dark,bitIndex--,bitIndex===-1&&(byteIndex++,bitIndex=7)}if(row+=inc,row<0||this.moduleCount<=row){row-=inc,inc=-inc;break}}},QRCode.PAD0=236,QRCode.PAD1=17,QRCode.createData=function(typeNumber,errorCorrectLevel,dataList){var i,rsBlocks=QRRSBlock.getRSBlocks(typeNumber,errorCorrectLevel),buffer=new QRBitBuffer;for(i=0;i<dataList.length;i++){var data=dataList[i];buffer.put(data.mode,4),buffer.put(data.getLength(),QRUtil.getLengthInBits(data.mode,typeNumber)),data.write(buffer)}var totalDataCount=0;for(i=0;i<rsBlocks.length;i++)totalDataCount+=rsBlocks[i].dataCount;if(buffer.getLengthInBits()>8*totalDataCount)throw new Error("code length overflow. ("+buffer.getLengthInBits()+">"+8*totalDataCount+")");for(buffer.getLengthInBits()+4<=8*totalDataCount&&buffer.put(0,4);buffer.getLengthInBits()%8!==0;)buffer.putBit(!1);for(;;){if(buffer.getLengthInBits()>=8*totalDataCount)break;if(buffer.put(QRCode.PAD0,8),buffer.getLengthInBits()>=8*totalDataCount)break;buffer.put(QRCode.PAD1,8)}return QRCode.createBytes(buffer,rsBlocks)},QRCode.createBytes=function(buffer,rsBlocks){var i,r,offset=0,maxDcCount=0,maxEcCount=0,dcdata=new Array(rsBlocks.length),ecdata=new Array(rsBlocks.length);for(r=0;r<rsBlocks.length;r++){var dcCount=rsBlocks[r].dataCount,ecCount=rsBlocks[r].totalCount-dcCount;for(maxDcCount=Math.max(maxDcCount,dcCount),maxEcCount=Math.max(maxEcCount,ecCount),dcdata[r]=new Array(dcCount),i=0;i<dcdata[r].length;i++)dcdata[r][i]=255&buffer.buffer[i+offset];offset+=dcCount;var rsPoly=QRUtil.getErrorCorrectPolynomial(ecCount),rawPoly=new QRPolynomial(dcdata[r],rsPoly.getLength()-1),modPoly=rawPoly.mod(rsPoly);for(ecdata[r]=new Array(rsPoly.getLength()-1),i=0;i<ecdata[r].length;i++){var modIndex=i+modPoly.getLength()-ecdata[r].length;ecdata[r][i]=modIndex>=0?modPoly.get(modIndex):0}}var totalCodeCount=0;for(i=0;i<rsBlocks.length;i++)totalCodeCount+=rsBlocks[i].totalCount;var data=new Array(totalCodeCount),index=0;for(i=0;i<maxDcCount;i++)for(r=0;r<rsBlocks.length;r++)i<dcdata[r].length&&(data[index++]=dcdata[r][i]);for(i=0;i<maxEcCount;i++)for(r=0;r<rsBlocks.length;r++)i<ecdata[r].length&&(data[index++]=ecdata[r][i]);return data},module.exports=QRCode},{"./ALPHA_NUM.js":1,"./NUMBER.js":2,"./QR8bitByte.js":3,"./QRBitBuffer.js":4,"./QRPolynomial.js":10,"./QRRSBlock.js":11,"./QRUtil.js":12}],6:[function(require,module,exports){var QRErrorCorrectLevel={L:1,M:0,Q:3,H:2};module.exports=QRErrorCorrectLevel},{}],7:[function(require,module,exports){var QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};module.exports=QRMaskPattern},{}],8:[function(require,module,exports){for(var QRMath={glog:function(n){if(n<1)throw new Error("glog("+n+")");return QRMath.LOG_TABLE[n]},gexp:function(n){for(;n<0;)n+=255;for(;n>=256;)n-=255;return QRMath.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},i=0;i<8;i++)QRMath.EXP_TABLE[i]=1<<i;for(var i=8;i<256;i++)QRMath.EXP_TABLE[i]=QRMath.EXP_TABLE[i-4]^QRMath.EXP_TABLE[i-5]^QRMath.EXP_TABLE[i-6]^QRMath.EXP_TABLE[i-8];for(var i=0;i<255;i++)QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]]=i;module.exports=QRMath},{}],9:[function(require,module,exports){var QRMode={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8};module.exports=QRMode},{}],10:[function(require,module,exports){function QRPolynomial(num,shift){if(void 0===num.length)throw new Error(num.length+"/"+shift);for(var offset=0;offset<num.length&&0===num[offset];)offset++;this.num=new Array(num.length-offset+shift);for(var i=0;i<num.length-offset;i++)this.num[i]=num[i+offset]}var QRMath=require("./QRMath.js");QRPolynomial.prototype.get=function(index){return this.num[index]},QRPolynomial.prototype.getLength=function(){return this.num.length},QRPolynomial.prototype.multiply=function(e){for(var num=new Array(this.getLength()+e.getLength()-1),i=0;i<this.getLength();i++)for(var j=0;j<e.getLength();j++)num[i+j]^=QRMath.gexp(QRMath.glog(this.get(i))+QRMath.glog(e.get(j)));return new QRPolynomial(num,0)},QRPolynomial.prototype.mod=function(e){if(this.getLength()-e.getLength()<0)return this;var i,ratio=QRMath.glog(this.get(0))-QRMath.glog(e.get(0)),num=new Array(this.getLength());for(i=0;i<this.getLength();i++)num[i]=this.get(i);for(i=0;i<e.getLength();i++)num[i]^=QRMath.gexp(QRMath.glog(e.get(i))+ratio);return new QRPolynomial(num,0).mod(e)},module.exports=QRPolynomial},{"./QRMath.js":8}],11:[function(require,module,exports){function QRRSBlock(totalCount,dataCount){this.totalCount=totalCount,this.dataCount=dataCount}var QRErrorCorrectLevel=require("./QRErrorCorrectLevel.js");QRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],QRRSBlock.getRSBlocks=function(typeNumber,errorCorrectLevel){var rsBlock=QRRSBlock.getRsBlockTable(typeNumber,errorCorrectLevel);if(void 0===rsBlock)throw new Error("bad rs block @ typeNumber:"+typeNumber+"/errorCorrectLevel:"+errorCorrectLevel);for(var length=rsBlock.length/3,list=[],i=0;i<length;i++)for(var count=rsBlock[3*i+0],totalCount=rsBlock[3*i+1],dataCount=rsBlock[3*i+2],j=0;j<count;j++)list.push(new QRRSBlock(totalCount,dataCount));return list},QRRSBlock.getRsBlockTable=function(typeNumber,errorCorrectLevel){switch(errorCorrectLevel){case QRErrorCorrectLevel.L:return QRRSBlock.RS_BLOCK_TABLE[4*(typeNumber-1)+0];case QRErrorCorrectLevel.M:return QRRSBlock.RS_BLOCK_TABLE[4*(typeNumber-1)+1];case QRErrorCorrectLevel.Q:return QRRSBlock.RS_BLOCK_TABLE[4*(typeNumber-1)+2];case QRErrorCorrectLevel.H:return QRRSBlock.RS_BLOCK_TABLE[4*(typeNumber-1)+3];default:return}},module.exports=QRRSBlock},{"./QRErrorCorrectLevel.js":6}],12:[function(require,module,exports){var QRMaskPattern=require("./QRMaskPattern.js"),QRPolynomial=require("./QRPolynomial.js"),QRMath=require("./QRMath.js"),QRMode=require("./QRMode.js"),QRUtil={};QRUtil.PATTERN_POSITION_TABLE=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],QRUtil.G15=1335,QRUtil.G18=7973,QRUtil.G15_MASK=21522,QRUtil.getBCHTypeInfo=function(data){for(var d=data<<10;QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15)>=0;)d^=QRUtil.G15<<QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15);return(data<<10|d)^QRUtil.G15_MASK},QRUtil.getBCHTypeNumber=function(data){for(var d=data<<12;QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18)>=0;)d^=QRUtil.G18<<QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18);return data<<12|d},QRUtil.getBCHDigit=function(data){for(var digit=0;0!==data;)digit++,data>>>=1;return digit},QRUtil.getPatternPosition=function(typeNumber){return QRUtil.PATTERN_POSITION_TABLE[typeNumber-1]},QRUtil.getMask=function(maskPattern,i,j){switch(maskPattern){case QRMaskPattern.PATTERN000:return(i+j)%2===0;case QRMaskPattern.PATTERN001:return i%2===0;case QRMaskPattern.PATTERN010:return j%3===0;case QRMaskPattern.PATTERN011:return(i+j)%3===0;case QRMaskPattern.PATTERN100:return(Math.floor(i/2)+Math.floor(j/3))%2===0;case QRMaskPattern.PATTERN101:return i*j%2+i*j%3===0;case QRMaskPattern.PATTERN110:return(i*j%2+i*j%3)%2===0;case QRMaskPattern.PATTERN111:return(i*j%3+(i+j)%2)%2===0;default:throw new Error("bad maskPattern:"+maskPattern)}},QRUtil.getErrorCorrectPolynomial=function(errorCorrectLength){for(var a=new QRPolynomial([1],0),i=0;i<errorCorrectLength;i++)a=a.multiply(new QRPolynomial([1,QRMath.gexp(i)],0));return a},QRUtil.getLengthInBits=function(mode,type){if(1<=type&&type<10)switch(mode){case QRMode.MODE_NUMBER:return 10;case QRMode.MODE_ALPHA_NUM:return 9;case QRMode.MODE_8BIT_BYTE:return 8;case QRMode.MODE_KANJI:return 8;default:throw new Error("mode:"+mode)}else if(type<27)switch(mode){case QRMode.MODE_NUMBER:return 12;case QRMode.MODE_ALPHA_NUM:return 11;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 10;default:throw new Error("mode:"+mode)}else{if(!(type<41))throw new Error("type:"+type);switch(mode){case QRMode.MODE_NUMBER:return 14;case QRMode.MODE_ALPHA_NUM:return 13;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 12;default:throw new Error("mode:"+mode)}}},QRUtil.getLostPoint=function(qrCode){var row,col,moduleCount=qrCode.getModuleCount(),lostPoint=0;for(row=0;row<moduleCount;row++)for(col=0;col<moduleCount;col++){for(var sameCount=0,dark=qrCode.isDark(row,col),r=-1;r<=1;r++)if(!(row+r<0||moduleCount<=row+r))for(var c=-1;c<=1;c++)col+c<0||moduleCount<=col+c||0===r&&0===c||dark===qrCode.isDark(row+r,col+c)&&sameCount++;sameCount>5&&(lostPoint+=3+sameCount-5)}for(row=0;row<moduleCount-1;row++)for(col=0;col<moduleCount-1;col++){var count=0;qrCode.isDark(row,col)&&count++,qrCode.isDark(row+1,col)&&count++,qrCode.isDark(row,col+1)&&count++,qrCode.isDark(row+1,col+1)&&count++,0!==count&&4!==count||(lostPoint+=3)}for(row=0;row<moduleCount;row++)for(col=0;col<moduleCount-6;col++)qrCode.isDark(row,col)&&!qrCode.isDark(row,col+1)&&qrCode.isDark(row,col+2)&&qrCode.isDark(row,col+3)&&qrCode.isDark(row,col+4)&&!qrCode.isDark(row,col+5)&&qrCode.isDark(row,col+6)&&(lostPoint+=40);for(col=0;col<moduleCount;col++)for(row=0;row<moduleCount-6;row++)qrCode.isDark(row,col)&&!qrCode.isDark(row+1,col)&&qrCode.isDark(row+2,col)&&qrCode.isDark(row+3,col)&&qrCode.isDark(row+4,col)&&!qrCode.isDark(row+5,col)&&qrCode.isDark(row+6,col)&&(lostPoint+=40);var darkCount=0;for(col=0;col<moduleCount;col++)for(row=0;row<moduleCount;row++)qrCode.isDark(row,col)&&darkCount++;var ratio=Math.abs(100*darkCount/moduleCount/moduleCount-50)/5;return lostPoint+=10*ratio},module.exports=QRUtil},{"./QRMaskPattern.js":7,"./QRMath.js":8,"./QRMode.js":9,"./QRPolynomial.js":10}]},{},[5])(5)})}(),function(){!function(QRCode){"use strict";angular.module("ja.qr",[]).controller("QrCtrl",["$scope",function($scope){$scope.getTypeNumeber=function(){return $scope.typeNumber||0},$scope.getCorrection=function(){var levels={L:1,M:0,Q:3,H:2},correctionLevel=$scope.correctionLevel||0;return levels[correctionLevel]||0},$scope.getText=function(){return $scope.text||""},$scope.getSize=function(){return $scope.size||250},$scope.isNUMBER=function(text){var ALLOWEDCHARS=/^[0-9]*$/;return ALLOWEDCHARS.test(text)},$scope.isALPHA_NUM=function(text){var ALLOWEDCHARS=/^[0-9A-Z $%*+\-.\/:]*$/;return ALLOWEDCHARS.test(text)},$scope.is8bit=function(text){for(var i=0;i<text.length;i++){var code=text.charCodeAt(i);if(code>255)return!1}return!0},$scope.checkInputMode=function(inputMode,text){if("NUMBER"===inputMode&&!$scope.isNUMBER(text))throw new Error("The `NUMBER` input mode is invalid for text.");if("ALPHA_NUM"===inputMode&&!$scope.isALPHA_NUM(text))throw new Error("The `ALPHA_NUM` input mode is invalid for text.");if("8bit"===inputMode&&!$scope.is8bit(text))throw new Error("The `8bit` input mode is invalid for text.");if(!$scope.is8bit(text))throw new Error("Input mode is invalid for text.");return!0},$scope.getInputMode=function(text){var inputMode=$scope.inputMode;return inputMode=inputMode||($scope.isNUMBER(text)?"NUMBER":void 0),inputMode=inputMode||($scope.isALPHA_NUM(text)?"ALPHA_NUM":void 0),inputMode=inputMode||($scope.is8bit(text)?"8bit":""),$scope.checkInputMode(inputMode,text)?inputMode:""}}]).directive("qr",["$timeout","$window",function($timeout,$window){return{restrict:"E",template:'<canvas ng-hide="image"></canvas><image ng-if="image" ng-src="{{canvasImage}}"/>',scope:{typeNumber:"=",correctionLevel:"=",inputMode:"=",size:"=",text:"=",image:"="},controller:"QrCtrl",link:function(scope,element,attrs){if(void 0===scope.text)throw new Error("The `text` attribute is required.");var canvas=element.find("canvas")[0],canvas2D=!!$window.CanvasRenderingContext2D;scope.TYPE_NUMBER=scope.getTypeNumeber(),scope.TEXT=scope.getText(),scope.CORRECTION=scope.getCorrection(),scope.SIZE=scope.getSize(),scope.INPUT_MODE=scope.getInputMode(scope.TEXT),scope.canvasImage="http://lorempixel.com/500/500/";var draw=function(context,qr,modules,tile){for(var row=0;row<modules;row++)for(var col=0;col<modules;col++){var w=Math.ceil((col+1)*tile)-Math.floor(col*tile),h=Math.ceil((row+1)*tile)-Math.floor(row*tile);context.fillStyle=qr.isDark(row,col)?"#000":"#fff",context.fillRect(Math.round(col*tile),Math.round(row*tile),w,h)}},render=function(canvas,value,typeNumber,correction,size,inputMode){var trim=/^\s+|\s+$/g,text=value.replace(trim,""),qr=new QRCode(typeNumber,correction,inputMode);qr.addData(text),qr.make();var context=canvas.getContext("2d"),modules=qr.getModuleCount(),tile=size/modules;canvas.width=canvas.height=size,canvas2D&&(draw(context,qr,modules,tile),scope.canvasImage=canvas.toDataURL())};render(canvas,scope.TEXT,scope.TYPE_NUMBER,scope.CORRECTION,scope.SIZE,scope.INPUT_MODE),$timeout(function(){scope.$watch("text",function(value,old){value!==old&&(scope.TEXT=scope.getText(),scope.INPUT_MODE=scope.getInputMode(scope.TEXT),render(canvas,scope.TEXT,scope.TYPE_NUMBER,scope.CORRECTION,scope.SIZE,scope.INPUT_MODE))}),scope.$watch("correctionLevel",function(value,old){value!==old&&(scope.CORRECTION=scope.getCorrection(),render(canvas,scope.TEXT,scope.TYPE_NUMBER,scope.CORRECTION,scope.SIZE,scope.INPUT_MODE))}),scope.$watch("typeNumber",function(value,old){value!==old&&(scope.TYPE_NUMBER=scope.getTypeNumeber(),render(canvas,scope.TEXT,scope.TYPE_NUMBER,scope.CORRECTION,scope.SIZE,scope.INPUT_MODE))}),scope.$watch("size",function(value,old){value!==old&&(scope.SIZE=scope.getSize(),render(canvas,scope.TEXT,scope.TYPE_NUMBER,scope.CORRECTION,scope.SIZE,scope.INPUT_MODE))}),scope.$watch("inputMode",function(value,old){value!==old&&(scope.INPUT_MODE=scope.getInputMode(scope.TEXT),render(canvas,scope.TEXT,scope.TYPE_NUMBER,scope.CORRECTION,scope.SIZE,scope.INPUT_MODE))})})}}}])}(window.QRCode)}(),function(){!function(root,factory){"function"==typeof define&&define.amd?define([],factory):"object"==typeof exports?module.exports=factory():root.compareVersions=factory()}(this,function(){function split(v){var temp=v.split("."),arr=temp.splice(0,2);return arr.push(temp.join(".")),arr}function tryParse(v){return isNaN(Number(v))?v:Number(v)}var patch=/-([0-9A-Za-z-.]+)/;return function(v1,v2){for(var s1=split(v1),s2=split(v2),i=0;i<3;i++){var n1=parseInt(s1[i]||0,10),n2=parseInt(s2[i]||0,10);if(n1>n2)return 1;if(n2>n1)return-1}if([s1[2],s2[2]].every(patch.test.bind(patch))){var p1=patch.exec(s1[2])[1].split(".").map(tryParse),p2=patch.exec(s2[2])[1].split(".").map(tryParse);for(i=0;i<Math.max(p1.length,p2.length);i++){if(void 0===p1[i]||"string"==typeof p2[i]&&"number"==typeof p1[i])return-1;if(void 0===p2[i]||"string"==typeof p1[i]&&"number"==typeof p2[i])return 1;if(p1[i]>p2[i])return 1;if(p2[i]>p1[i])return-1}}else if([s1[2],s2[2]].some(patch.test.bind(patch)))return patch.test(s1[2])?-1:1;return 0}})}(),function(){"use strict";angular.module("walletLazyLoad",[])}();